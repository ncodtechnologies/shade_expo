(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(66)},66:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),o=a(17),s=a(18),i=Object(s.a)(),u=a(9),d=a(12),m=a(4),h=a(5),E=a(7),v=a(6),p=a(8),f=a(2),g=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("nav",{class:"main-header navbar navbar-expand navbar-white navbar-light"},l.a.createElement("ul",{class:"navbar-nav"},l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link","data-widget":"pushmenu",href:"#"},l.a.createElement("i",{class:"fas fa-bars"}))),l.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},l.a.createElement(u.b,{to:"/product",className:"nav-link"},"Product")),l.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},l.a.createElement(u.b,{to:"/invoiceList",className:"nav-link"},"Invoices")),l.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},l.a.createElement(u.b,{to:"/voucher",className:"nav-link"},"Voucher")))),l.a.createElement("aside",{class:"main-sidebar sidebar-dark-primary elevation-4"},l.a.createElement("a",{href:"index3.html",class:"brand-link"},l.a.createElement("img",{src:"dist/img/AdminLTELogo.png",alt:"AdminLTE Logo",class:"brand-image img-circle elevation-3"}),l.a.createElement("span",{class:"brand-text font-weight-light"},"Shade Expo")),l.a.createElement("div",{class:"sidebar"},l.a.createElement("div",{class:"user-panel mt-3 pb-3 mb-3 d-flex"},l.a.createElement("div",{class:"image"},l.a.createElement("img",{src:"dist/img/user2-160x160.jpg",class:"img-circle elevation-2",alt:"User Image"})),l.a.createElement("div",{class:"info"},l.a.createElement("a",{href:"#",class:"d-block"},"Admin"))),l.a.createElement("nav",{class:"mt-2"},l.a.createElement("ul",{class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},l.a.createElement("li",{class:"nav-item has-treeview"},l.a.createElement(u.c,{to:"/accounts",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),l.a.createElement("p",null,"Master")),l.a.createElement("ul",{class:"nav nav-treeview"},l.a.createElement("li",{class:"nav-item"},l.a.createElement(u.c,{to:"/ledger",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"far fa-circle nav-icon"}),l.a.createElement("p",null,"Ledger"))),l.a.createElement("li",{class:"nav-item"},l.a.createElement(u.c,{to:"/product",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"far fa-circle nav-icon"}),l.a.createElement("p",null,"Product"))))),l.a.createElement("li",{class:"nav-item"},l.a.createElement(u.c,{to:"/roughInvoiceList",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),l.a.createElement("p",null,"Rough Invoices"))),l.a.createElement("li",{class:"nav-item"},l.a.createElement(u.c,{to:"/invoiceList",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),l.a.createElement("p",null,"Invoices"))),l.a.createElement("li",{class:"nav-item has-treeview menu-open"},l.a.createElement(u.c,{to:"/purchase",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),l.a.createElement("p",null,"Purchase")),l.a.createElement("ul",{class:"nav nav-treeview"},l.a.createElement("li",{class:"nav-item"},l.a.createElement(u.c,{to:"/purchaseReport",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"far fa-circle nav-icon"}),l.a.createElement("p",null,"Purchase Report"))))),l.a.createElement("li",{class:"nav-item has-treeview menu-open"},l.a.createElement(u.c,{to:"/accounts",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),l.a.createElement("p",null,"Accounts")),l.a.createElement("ul",{class:"nav nav-treeview"},l.a.createElement("li",{class:"nav-item"},l.a.createElement(u.c,{to:"/voucher",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"far fa-circle nav-icon"}),l.a.createElement("p",null,"Voucher"))),l.a.createElement("li",{class:"nav-item"},l.a.createElement(u.c,{to:"/ledgerReport",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"far fa-circle nav-icon"}),l.a.createElement("p",null,"Ledger Report"))),l.a.createElement("li",{class:"nav-item"},l.a.createElement(u.c,{to:"/cashBook",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"far fa-circle nav-icon"}),l.a.createElement("p",null,"Cash Book")))))," ",l.a.createElement("li",{class:"nav-item has-treeview menu-open"},l.a.createElement(u.c,{to:"/stockReport",activeClassName:"active",className:"nav-link"},l.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),l.a.createElement("p",null,"Stock Report"))))))))}}]),t}(n.Component),b=a(10),y=a.n(b),C="http://198.12.251.14:3000/",j="".concat(C,"invoice/roughInvoice"),w="".concat(C,"invoice/roughInvoice"),O="".concat(C,"invoice/roughInvoiceList"),k="".concat(C,"invoice/invoice"),D="".concat(C,"invoice/invoice"),x="".concat(C,"invoice/invoiceList"),S="".concat(C,"invoice/invoice/expense"),I="".concat(C,"invoice/invoice/expense"),L="".concat(C,"invoice/invoice/expenseDel"),T="".concat(C,"invoice/invoice/netSalesTotal"),_="".concat(C,"invoice/invoice/netOtherExp"),P="".concat(C,"invoice/invoice/documents"),V="".concat(C,"invoice/invoice/documentsList"),R="".concat(C,"invoice/invoice/documentsDel"),N="".concat(C,"invoice/invoice/getDoc"),F="".concat(C,"invoice/invoice/invLabour"),M="".concat(C,"invoice/invoice/invPacking"),A="".concat(C,"invoice/invoice/invPackingExp"),B=("".concat(C,"invoice/docs"),"".concat(C,"payroll/payroll")),G="".concat(C,"payroll/payroll"),K="".concat(C,"payroll/payrollDel"),H="".concat(C,"accounts/voucher"),J="".concat(C,"accounts/voucherDel"),W="".concat(C,"accounts/accounts/voucher"),Y="".concat(C,"accounts/ledgerReport"),z="".concat(C,"accounts/ledgerReportOp"),Q="".concat(C,"accounts/ledgerGroup"),Z="".concat(C,"accounts/ledgerGroup"),$="".concat(C,"accounts/ledger"),X="".concat(C,"accounts/ledgerEdit"),U="".concat(C,"accounts/ledger"),q="".concat(C,"accounts/ledgerCreate"),ee=("".concat(C,"accounts/ledgerCreate"),"".concat(C,"accounts/cashBookOp")),te="".concat(C,"accounts/cashBookCredit"),ae="".concat(C,"accounts/cashBookDebit"),ne="".concat(C,"product/product"),le="".concat(C,"product/stockReport"),re="".concat(C,"purchase/purchaseReport"),ce="".concat(C,"purchase/purchaseVoucher"),oe="".concat(C,"purchase/purchaseVoucherItems"),se="".concat(C,"purchase/purchaseVoucherExpense"),ie=3,ue=5,de=6,me=a(11),he=a.n(me),Ee=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadInvoiceDt=function(e){fetch(w+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({date:e[0].date,port_load:e[0].port_load,consigner:e[0].consigner,consignee:e[0].consignee,invItems:e[0].items||[]})})},a.loadProducts=function(){fetch(ne).then(function(e){return e.json()}).then(function(e){return a.setState({products:[{id_product:0,name:"SELECT"}].concat(Object(d.a)(e))})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")},a.saveInvoice=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),consigner:a.state.consigner,consignee:a.state.consignee,port_load:a.state.port_load,items:a.state.invItems,id_rough_invoice:a.props.match.params.id_rough_invoice})};fetch(j,e).then(function(e){e.json(),a.setState({redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.onDateChange=function(e){return a.setState({date:e})},a.handleChangeKg=function(e,t){var n=a.state.invItems,l=n[t];l.kg=e.target.value,n[t]=l,a.setState({invItems:n})},a.handleChangeBox=function(e,t){var n=a.state.invItems,l=n[t];l.box=e.target.value,n[t]=l,a.setState({invItems:n})},a.handleChangeProduct=function(e,t){var n=a.state.invItems,l=n[t];l.id_product=e.target.value,n[t]=l,a.setState({invItems:n})},a.delRow=function(e){var t=a.state.invItems;t.splice(e,1),a.setState({invItems:t})},a.addRow=function(e){var t=a.state.invItems,n={id_product:e.target.value,kg:"",box:""};t.push(n),a.setState({invItems:t})},a.state={data:null,title:"Table",date:new Date,port_load:"",consigner:"",Consignee:"",products:[],invItems:[],places:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"INDIA"},{Id_place:2,Place:"KSA"},{Id_place:3,Place:"US"}]},a.onDateChange=a.onDateChange.bind(Object(f.a)(Object(f.a)(a))),a.handleChangeConsignee=a.handleChangeConsignee.bind(Object(f.a)(Object(f.a)(a))),a.handleChangeConsigner=a.handleChangeConsigner.bind(Object(f.a)(Object(f.a)(a))),a.handleChangePortLoad=a.handleChangePortLoad.bind(Object(f.a)(Object(f.a)(a))),a.validator=new he.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id_rough_invoice;this.loadProducts(),0!=e&&this.loadInvoiceDt(e)}},{key:"handleChangePortLoad",value:function(e){this.setState({port_load:e.target.value})}},{key:"handleChangeConsignee",value:function(e){this.setState({consignee:e.target.value})}},{key:"handleChangeConsigner",value:function(e){this.setState({consigner:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.products,a=this.state.invItems.map(function(a,n){return l.a.createElement(ve,{handleChangeKg:e.handleChangeKg,handleChangeBox:e.handleChangeBox,handleChangeProduct:e.handleChangeProduct,delRow:e.delRow,invItem:a,rowIndex:n,products:t})}),n=this.state.invItems.reduce(function(e,t){return+e+ +t.kg*t.box},0),r=this.state.invItems.reduce(function(e,t){return+e+ +t.box},0),c=this.state.invItems.reduce(function(e,t){return+e+ +t.kg},0);return this.state.redirect?(this.setState({redirect:!1}),l.a.createElement(o.a,{to:"/roughInvoiceList"})):l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Rough Invoice"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-header"},l.a.createElement("h3",{class:"card-title"},"New Rough Invoice")),l.a.createElement("div",{class:"card-body"},l.a.createElement("form",null,l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Date:"),l.a.createElement("div",{class:"input-group"},l.a.createElement("div",{class:"input-group-prepend"},l.a.createElement("span",{class:"input-group-text"},l.a.createElement("i",{class:"far fa-calendar-alt"}))),l.a.createElement(y.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Port of loading"),l.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangePortLoad(t)},value:this.state.port_load},this.state.places.map(function(e){return l.a.createElement("option",{value:e.Id_place},e.Place)}))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Consigner"),l.a.createElement("textarea",{class:"form-control",onChange:function(t){return e.handleChangeConsigner(t)},value:this.state.consigner,rows:"3",placeholder:"Consigner"})))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Consignee"),l.a.createElement("textarea",{class:"form-control",onChange:function(t){return e.handleChangeConsignee(t)},value:this.state.consignee,rows:"3",placeholder:"Consignee"})))))),l.a.createElement("div",{class:"card-header"},l.a.createElement("h3",{class:"card-title"},"Invoice")),l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Product"),l.a.createElement("th",{style:{width:"10%"}},"Kg"),l.a.createElement("th",{style:{width:"10%"}},"Box"),l.a.createElement("th",{style:{width:"10%"}},"Total"),l.a.createElement("th",{style:{width:"10%"}}))),l.a.createElement("tbody",null,a,l.a.createElement(pe,{products:this.state.products,addRow:this.addRow})),l.a.createElement("tfoot",null,l.a.createElement("td",null),l.a.createElement("td",null,c),l.a.createElement("td",null,r),l.a.createElement("td",{align:"right"},n),l.a.createElement("td",null)))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-footer"},l.a.createElement("button",{onClick:this.saveInvoice,type:"submit",class:"btn btn-primary"},"Save"))))))))))))}}]),t}(n.Component),ve=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).handleChangeKg=function(e){a.props.handleChangeKg(e,a.props.rowIndex)},a.handleChangeBox=function(e){a.props.handleChangeBox(e,a.props.rowIndex)},a.handleChangeProduct=function(e){a.props.handleChangeProduct(e,a.props.rowIndex)},a.delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem,a=t.kg*t.box,n=this.props.products;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeProduct(t)},value:t.id_product},n.map(function(e){return l.a.createElement("option",{value:e.id_product},e.name)}))),l.a.createElement("td",null,l.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeKg(t)}})),l.a.createElement("td",null,l.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeBox(t)}})),l.a.createElement("td",{align:"right"},a),l.a.createElement("td",null,l.a.createElement("button",{type:"button",onClick:this.delRow,class:"btn btn-success"},l.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(n.Component),pe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).addRow=function(e){a.props.addRow(e)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("select",{class:"form-control",onChange:function(t){return e.addRow(t)},value:0},this.props.products.map(function(e){return l.a.createElement("option",{value:e.id_product},e.name)}))),l.a.createElement("td",null,l.a.createElement("input",{type:"text",class:"form-control"})),l.a.createElement("td",null,l.a.createElement("input",{type:"text",class:"form-control"})),l.a.createElement("td",{align:"right"}),l.a.createElement("td",null," "))}}]),t}(n.Component),fe=Ee,ge=a(21),be=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")},a.delExpense=function(e){fetch(L+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrExpenses:e})});var t=a.props.id_invoice;a.loadExpenseList(t)},a.loadExpenseList=function(e){fetch(I+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrExpenses:e})})},a.saveInvoice=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger_to:a.state.id_ledger_to,description:a.state.description,rate:a.state.rate,amount:a.state.amount,type:a.state.type,voucher_no:a.state.voucher_no,id_invoice:a.props.id_invoice})};fetch(S,e).then(function(e){e.json(),a.loadExpenseList(a.props.id_invoice)})}else a.validator.showMessages(),a.forceUpdate()},a.onDateChange=function(e){return a.setState({date:e})},a.onDelRow=function(e){a.setState({description:e})},a.state={data:null,date:new Date,id_ledger_to:"",description:"",rate:"",amount:"",type:"Receipt",voucher_no:"1",ledger:"",arrLedger:[],arrExpenses:[],arrLedgerFrom:[],arrLedgerTo:[]},a.onAmountChange=a.onAmountChange.bind(Object(f.a)(Object(f.a)(a))),a.onRateChange=a.onRateChange.bind(Object(f.a)(Object(f.a)(a))),a.onDescriptionChange=a.onDescriptionChange.bind(Object(f.a)(Object(f.a)(a))),a.onLedgerChange=a.onLedgerChange.bind(Object(f.a)(Object(f.a)(a))),a.onDateChange=a.onDateChange.bind(Object(f.a)(Object(f.a)(a))),a.validator=new he.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadAccountHead(),this.loadExpenseList(e),console.log(e)}},{key:"loadAccountHead",value:function(){var e=this,t=ue,a=de;fetch("".concat($,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerFrom:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(d.a)(t))})}),fetch("".concat($,"/").concat(a)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerTo:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(d.a)(t))})})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onRateChange",value:function(e){this.setState({rate:e.target.value})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_to:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrExpenses.map(function(t,a){return l.a.createElement(ye,{arrExpense:t,arrLedger:e.state.arrLedger,delExpense:e.delExpense})}),a=this.state.arrExpenses.reduce(function(e,t){return+e+ +t.amount},0);return l.a.createElement("div",null,l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-16"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Date"),l.a.createElement(y.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Ledger"),l.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger_to},this.state.arrLedgerTo.map(function(e){return l.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger_to",this.state.id_ledger_to,"required|numeric")))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Description"),l.a.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Rate"),l.a.createElement("input",{type:"text",value:this.state.rate,onChange:this.onRateChange,class:"form-control"}))),l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Amount"),l.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),l.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveInvoice},"Save")))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"25%"}},"Date"),l.a.createElement("th",{style:{width:"25%"}},"Ledger"),l.a.createElement("th",{style:{width:"25%"}},"Description"),l.a.createElement("th",{style:{width:"25%"}},"Amount"),l.a.createElement("th",null))),l.a.createElement("tbody",null,t),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},a),l.a.createElement("th",null))))))))))}}]),t}(n.Component),ye=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrExpense;return l.a.createElement("tr",null,l.a.createElement("td",null,t.date),l.a.createElement("td",null,t.ledger),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,l.a.createElement("div",{class:"btn-group"},l.a.createElement("button",{type:"button",onClick:function(){return e.props.delExpense(t.id_account_voucher)},class:"btn btn-outline-danger"},l.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(l.a.Component),Ce=be,je=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).state={sales_total:"",other_exp:"",freight:0,packing:0},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadSalesTotal(e),this.loadOtherExp(e)}},{key:"loadSalesTotal",value:function(e){var t=this;fetch(T+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({sales_total:e[0].tot})})}},{key:"loadOtherExp",value:function(e){var t=this;fetch(_+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({other_exp:e[0].tot})})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-6"},l.a.createElement("p",{class:"lead"},"Sales"),l.a.createElement("div",{class:"table-responsive"},l.a.createElement("table",{class:"table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50%"}},"Sales Total:"),l.a.createElement("td",null,this.state.sales_total)),l.a.createElement("tr",null,l.a.createElement("th",null,"Total"),l.a.createElement("td",null,this.state.sales_total)),l.a.createElement("tr",null,l.a.createElement("th",null,"Total (In Rupees):"),l.a.createElement("td",null,"Rs.0")))))),l.a.createElement("div",{class:"col-6"},l.a.createElement("p",{class:"lead"},"Expenses"),l.a.createElement("div",{class:"table-responsive"},l.a.createElement("table",{class:"table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50%"}},"Freight Expenses:"),l.a.createElement("td",null,this.state.freight)),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50%"}},"Packing Expenses:"),l.a.createElement("td",null,this.state.packing)),l.a.createElement("tr",null,l.a.createElement("th",null,"Other Expenses"),l.a.createElement("td",null,this.state.other_exp)),l.a.createElement("tr",null,l.a.createElement("th",null,"Total"),l.a.createElement("td",null,this.state.freight+this.state.packing+this.state.other_exp))))))))))}}]),t}(n.Component),we=a(36),Oe=a.n(we),ke=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).delDoc=function(e){fetch(R+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrTable:e});var t=a.props.id_invoice;a.loadDocumentsList(t)})},a.loadDocumentsList=function(e){fetch(V+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrTable:e})})},a.docDownload=function(e,t){fetch(N+"/".concat(e)).then(function(e){return e.blob()}).then(function(e){Oe.a.saveAs(e,t)})},a.saveDocument=function(){if(a.validator.allValid()){var e=new FormData;e.append("id_invoice",a.props.id_invoice),e.append("name",a.state.name),e.append("remark",a.state.remark),e.append("files",a.state.selectedFile),fetch(P,{method:"POST",body:e}).then(function(e){e.json(),a.loadDocumentsList(a.props.id_invoice),a.setState({name:"",remark:"",selectedFile:null})})}else a.validator.showMessages(),a.forceUpdate()},a.state={remark:"",name:"",arrDocs:[{id_doc:"0",doc:"--Select"},{id_doc:"1",doc:"Document 1"},{id_doc:"2",doc:"Document 2"},{id_doc:"3",doc:"Document 3"}],arrTable:[],selectedFile:null},a.onChangeName=a.onChangeName.bind(Object(f.a)(Object(f.a)(a))),a.onChangeRemark=a.onChangeRemark.bind(Object(f.a)(Object(f.a)(a))),a.onFileSelect=a.onFileSelect.bind(Object(f.a)(Object(f.a)(a))),a.validator=new he.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadDocumentsList(e)}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeRemark",value:function(e){this.setState({remark:e.target.value})}},{key:"onFileSelect",value:function(e){console.log(JSON.stringify(e.target.files)),this.setState({selectedFile:e.target.files[0]})}},{key:"render",value:function(){var e=this,t=this.state.arrTable.map(function(t,a){return l.a.createElement(De,{tbl:t,arrDocs:e.state.arrDocs,delDoc:e.delDoc,getDoc:e.docDownload})});return l.a.createElement("div",null,l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"40%"}},l.a.createElement("select",{class:"form-control",onChange:this.onChangeName,value:this.state.name},this.state.arrDocs.map(function(e){return l.a.createElement("option",null,e.doc)}))),l.a.createElement("th",{style:{width:"10%"}},l.a.createElement("input",{type:"text",onChange:this.onChangeRemark,value:this.state.remark,class:"form-control"})),l.a.createElement("th",{style:{width:"30%"}},l.a.createElement("div",{class:"custom-file"},l.a.createElement("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",onChange:this.onFileSelect}),l.a.createElement("label",{class:"custom-file-label",for:"exampleInputFile"},this.state.selectedFile?this.state.selectedFile.name:"Choose file"))),l.a.createElement("th",null,l.a.createElement("button",{type:"button",class:"btn btn-block btn-outline-success btn-flat",onClick:this.saveDocument},l.a.createElement("i",{class:"fas fa-plus"})))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"15%"}},"Documents"),l.a.createElement("th",{style:{width:"30%"}},"Remarks"),l.a.createElement("th",null),l.a.createElement("th",{style:{width:"10%"}}))),l.a.createElement("tbody",null,t)))))))))}}]),t}(n.Component),De=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tbl;return l.a.createElement("tr",null,l.a.createElement("td",null,t.name," "),l.a.createElement("td",{colSpan:"2"},t.remarks),l.a.createElement("td",null,l.a.createElement("div",{class:"btn-group"},l.a.createElement("button",{type:"button",onClick:function(){return e.props.getDoc(t.id_document,t.file)},class:"btn btn-outline-success"},l.a.createElement("i",{class:"fas fa-download"})),l.a.createElement("button",{type:"button",onClick:function(){return e.props.delDoc(t.id_document)},class:"btn btn-outline-danger"},l.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(n.Component),xe=ke,Se=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadInvLabourItem=function(e){fetch(F+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({LabourItems:e})})},a.loadInvPackingList=function(e){fetch(M+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({packItems:e})})},a.loadInvPackingExp=function(e){fetch(A+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({ExpenseItems:e})})},a.state={LabourItems:[],packItems:[],ExpenseItems:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadInvLabourItem(e),this.loadInvPackingExp(e),this.loadInvPackingList(e)}},{key:"render",value:function(){var e=this.state.packItems.map(function(e,t){return l.a.createElement(Ie,{packItem:e,rowIndex:t})}),t=this.state.LabourItems.map(function(e,t){return l.a.createElement(Le,{LabourItem:e,rowIndex:t})}),a=this.state.ExpenseItems.map(function(e,t){return l.a.createElement(Te,{ExpenseItem:e,rowIndex:t})}),n=this.state.packItems.reduce(function(e,t){return+e+ +t.weight},0),r=this.state.LabourItems.reduce(function(e,t){return+e+ +t.amount},0),c=this.state.ExpenseItems.reduce(function(e,t){return+e+ +t.amount},0);return l.a.createElement("div",null,l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card-header"},l.a.createElement("h3",{class:"card-title"},"Packing List")),l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50%"}},"Items"),l.a.createElement("th",{style:{width:"50%"}},"Weight"))),l.a.createElement("tbody",null,e),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Net Weight"),l.a.createElement("th",{align:"right"},n))))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card-header"},l.a.createElement("h3",{class:"card-title"},"Labour")),l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50%"}},"Name"),l.a.createElement("th",{style:{width:"50%"}},"Amount"))),l.a.createElement("tbody",null,t),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",{align:"right"},r))))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card-header"},l.a.createElement("h3",{class:"card-title"},"Other Expenses")),l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50%"}},"Expense"),l.a.createElement("th",{style:{width:"50%"}},"Amount"))),l.a.createElement("tbody",null,a),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",{align:"right"},c))))))))))}}]),t}(n.Component),Ie=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.packItem;return l.a.createElement("tr",null,l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.weight))}}]),t}(l.a.Component),Le=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.LabourItem;return l.a.createElement("tr",null,l.a.createElement("td",null,e.account_head),l.a.createElement("td",null,e.amount))}}]),t}(l.a.Component),Te=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.ExpenseItem;return l.a.createElement("tr",null,l.a.createElement("td",null,e.account_head),l.a.createElement("td",null,e.amount))}}]),t}(l.a.Component),_e=Se,Pe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadProducts=function(){fetch(ne).then(function(e){return e.json()}).then(function(e){a.setState({products:[{id_product:0,name:"SELECT"}].concat(Object(d.a)(e))})})},a.loadInvoiceDt=function(e){fetch(D+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({invoice_no:e[0].invoice_no,date:e[0].date,order_no:e[0].order_no,buyer_date:e[0].buyer_date,exporter:e[0].exporter,consignee:e[0].consignee,other:e[0].other,buyer:e[0].buyer,country_origin:e[0].country_origin,country_final:e[0].country_final,pre_carriage:e[0].pre_carriage,receipt_place:e[0].receipt_place,vessel_no:e[0].vessel_no,port_load:e[0].port_load,port_discharge:e[0].port_discharge,final_destination:e[0].final_destination,marks:e[0].marks,container_no:e[0].container_no,awb_no:e[0].awb_no,terms:e[0].terms,invItems:e[0].items||[]})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")},a.saveInvoice=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_no:a.state.invoice_no,order_no:a.state.order_no,date:a.formatDate(a.state.date),buyer_date:a.formatDate(a.state.buyer_date),exporter:a.state.exporter,consignee:a.state.consignee,other:a.state.other,buyer:a.state.buyer,country_origin:a.state.country_origin,country_final:a.state.country_final,pre_carriage:a.state.pre_carriage,receipt_place:a.state.receipt_place,vessel_no:a.state.vessel_no,port_load:a.state.port_load,port_discharge:a.state.port_discharge,final_destination:a.state.final_destination,marks:a.state.marks,container_no:a.state.container_no,awb_no:a.state.awb_no,terms:a.state.terms,items:a.state.invItems,id_invoice:a.props.id_invoice})};fetch(k,e).then(function(e){return e.json()}).then(function(e){e.isUpdate||a.setState({id_invoice:e.id_invoice,redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.renderRedirect=function(){if(a.state.redirect)return a.setState({redirect:!1}),l.a.createElement(o.a,{to:"./invoice/".concat(a.state.id_invoice)})},a.handleChangeDate=function(e){return a.setState({date:e})},a.handleChangeBuyerDate=function(e){return a.setState({buyer_date:e})},a.handleChangeKg=function(e,t){var n=a.state.invItems,l=n[t];l.kg=e.target.value,n[t]=l,a.setState({invItems:n})},a.handleChangeBox=function(e,t){var n=a.state.invItems,l=n[t];l.box=e.target.value,n[t]=l,a.setState({invItems:n})},a.handleChangeProduct=function(e,t){var n=a.state.invItems,l=n[t];l.id_product=e.target.value,n[t]=l,a.setState({invItems:n})},a.delRow=function(e){var t=a.state.invItems;t.splice(e,1),a.setState({invItems:t})},a.addRow=function(e){var t=a.state.invItems,n={id_product:e.target.value,kg:"",box:""};t.push(n),a.setState({invItems:t})},a.state={arrInv:[],id:null,title:"Table",data:null,date:new Date,products:[],invoice:[],invoice_no:"",order_no:"",buyer_date:new Date,exporter:"",consignee:"",other:"",buyer:"",country_origin:"",country_final:"",pre_carriage:"",receipt_place:"",vessel_no:"",port_load:"",port_discharge:"",final_destination:"",marks:"",container_no:"",awb_no:"",terms:"",arrProducts:[],invItems:[],places:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"INDIA"},{Id_place:2,Place:"KSA"},{Id_place:3,Place:"US"}]},a.handleChangeDate=a.handleChangeDate.bind(Object(f.a)(Object(f.a)(a))),a.handleChangeBuyerDate=a.handleChangeBuyerDate.bind(Object(f.a)(Object(f.a)(a))),a.validator=new he.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadProducts(),0!=e&&this.loadInvoiceDt(e)}},{key:"handleChangeInvoiceNo",value:function(e){this.setState({invoice_no:e.target.value})}},{key:"handleChangeOrderNo",value:function(e){this.setState({order_no:e.target.value})}},{key:"handleChangeConsignee",value:function(e){this.setState({consignee:e.target.value})}},{key:"handleChangeExporter",value:function(e){this.setState({exporter:e.target.value})}},{key:"handleChangeOther",value:function(e){this.setState({other:e.target.value})}},{key:"handleChangeBuyer",value:function(e){this.setState({buyer:e.target.value})}},{key:"handleChangeCountryOrigin",value:function(e){this.setState({country_origin:e.target.value})}},{key:"handleChangeCountryFinal",value:function(e){this.setState({country_final:e.target.value})}},{key:"handleChangePreCarriage",value:function(e){this.setState({pre_carriage:e.target.value})}},{key:"handleChangeReceiptPlace",value:function(e){this.setState({receipt_place:e.target.value})}},{key:"handleChangeVesselNo",value:function(e){this.setState({vessel_no:e.target.value})}},{key:"handleChangePortLoad",value:function(e){this.setState({port_load:e.target.value})}},{key:"handleChangePortDischarge",value:function(e){this.setState({port_discharge:e.target.value})}},{key:"handleChangeFinalDest",value:function(e){this.setState({final_destination:e.target.value})}},{key:"handleChangeMarks",value:function(e){this.setState({marks:e.target.value})}},{key:"handleChangeContainerNo",value:function(e){this.setState({container_no:e.target.value})}},{key:"handleChangeAwbNo",value:function(e){this.setState({awb_no:e.target.value})}},{key:"handleChangeTerms",value:function(e){this.setState({terms:e.target.value})}},{key:"render",value:function(){var e,t=this,a=this.state.invItems.map(function(e,a){return l.a.createElement(Ve,{handleChangeKg:t.handleChangeKg,handleChangeBox:t.handleChangeBox,handleChangeProduct:t.handleChangeProduct,delRow:t.delRow,invItem:e,rowIndex:a,products:t.state.products})}),n=this.state.invItems.reduce(function(e,t){return+e+ +t.kg*t.box},0),r=this.state.invItems.reduce(function(e,t){return+e+ +t.box},0),c=this.state.invItems.reduce(function(e,t){return+e+ +t.kg},0);return l.a.createElement("div",null,this.renderRedirect(),l.a.createElement("section",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-md-6"},l.a.createElement("div",{class:"card card-warning"},l.a.createElement("div",{class:"card-body"},l.a.createElement("form",{role:"form"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Invoice No"),l.a.createElement("input",{type:"text",value:this.state.invoice_no,onChange:function(e){return t.handleChangeInvoiceNo(e)},class:"form-control"}),this.validator.message("invoice_no",this.state.invoice_no,"required|numeric"))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Invoice Date"),l.a.createElement("div",{class:"input-group"},l.a.createElement("div",{class:"input-group-prepend"},l.a.createElement("span",{class:"input-group-text"},l.a.createElement("i",{class:"far fa-calendar-alt"}))),l.a.createElement(y.a,{className:"form-control",value:this.state.date,format:"dd/MM/yyyy",onChange:this.handleChangeDate}))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Buyer's Order No"),l.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeOrderNo(e)},value:this.state.order_no,class:"form-control"}))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Buyer's Date"),l.a.createElement("div",{class:"input-group"},l.a.createElement("div",{class:"input-group-prepend"},l.a.createElement("span",{class:"input-group-text"},l.a.createElement("i",{class:"far fa-calendar-alt"}))),l.a.createElement(y.a,{className:"form-control",onChange:this.handleChangeBuyerDate,value:this.state.buyer_date,format:"dd/MM/yyyy"}))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Other reference(s)"),l.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeOther(e)},class:"form-control",value:this.state.other})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Buyer (If other than consignee)"),l.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeBuyer(e)},class:"form-control",value:this.state.buyer}))),l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Country of origin of goods"),l.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCountryOrigin(e)},value:this.state.country_origin},this.state.places.map(function(e){return l.a.createElement("option",{value:e.Id_place},e.Place)}))),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Country of final destination"),l.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCountryFinal(e)},value:this.state.country_final},this.state.places.map(function(e){return l.a.createElement("option",{value:e.Id_place},e.Place)}))),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Terms of delivery and payment"),l.a.createElement("textarea",(e={type:"text",onChange:function(e){return t.handleChangeTerms(e)},class:"form-control"},Object(ge.a)(e,"onChange",function(e){return t.handleChangeTerms(e)}),Object(ge.a)(e,"value",this.state.terms),Object(ge.a)(e,"rows",2.8),e))),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"AWB No."),l.a.createElement("input",{type:"text",class:"form-control",onChange:function(e){return t.handleChangeAwbNo(e)},value:this.state.awb_no})))))))),l.a.createElement("div",{class:"col-md-6"},l.a.createElement("div",{class:"card card-primary"},l.a.createElement("form",{role:"form"},l.a.createElement("div",{class:"card-body"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Exporter"),l.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeExporter(e)},value:this.state.exporter,class:"form-control",rows:4})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Consignee"),l.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeConsignee(e)},value:this.state.consignee,class:"form-control",rows:4})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Pre-Carriage by"),l.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangePreCarriage(e)},value:this.state.pre_carriage,class:"form-control"})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Place of receipt by Pre-Carrier"),l.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeReceiptPlace(e)},value:this.state.receipt_place,class:"form-control"})))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Vessel/Flight No"),l.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeVesselNo(e)},value:this.state.vessel_no,class:"form-control"}))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Port of loading"),l.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangePortLoad(e)},value:this.state.port_load},this.state.places.map(function(e){return l.a.createElement("option",{value:e.Id_place},e.Place)}))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Port of discharge"),l.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangePortDischarge(e)},value:this.state.port_discharge},this.state.places.map(function(e){return l.a.createElement("option",{value:e.Id_place},e.Place)})))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Final destination"),l.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeFinalDest(e)},value:this.state.final_destination},this.state.places.map(function(e){return l.a.createElement("option",{value:e.Id_place},e.Place)}))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Marks & No.s"),l.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeMarks(e)},value:this.state.marks,class:"form-control"}))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Container No"),l.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeContainerNo(e)},value:this.state.container_no,class:"form-control"})))))))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Description of goods"),l.a.createElement("th",{style:{width:"10%"}},"Kg"),l.a.createElement("th",{style:{width:"10%"}},"Amount"),l.a.createElement("th",{style:{width:"10%"}},"Total"),l.a.createElement("th",{style:{width:"10%"}}))),l.a.createElement("tbody",null,a,l.a.createElement(Ne,{products:this.state.products,addRow:this.addRow})),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",null,c),l.a.createElement("th",null,r),l.a.createElement("th",{align:"right"},n),l.a.createElement("th",null))))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-footer"},l.a.createElement("button",{onClick:this.saveInvoice,type:"submit",class:"btn btn-primary"},"Save")))))))}}]),t}(n.Component),Ve=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).handleChangeKg=function(e){a.props.handleChangeKg(e,a.props.rowIndex)},a.handleChangeBox=function(e){a.props.handleChangeBox(e,a.props.rowIndex)},a.handleChangeProduct=function(e){a.props.handleChangeProduct(e,a.props.rowIndex)},a.delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem,a=t.kg*t.box,n=this.props.products;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeProduct(t)},value:t.id_product},n.map(function(e){return l.a.createElement("option",{value:e.id_product},e.name)}))),l.a.createElement("td",null,l.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeKg(t)}})),l.a.createElement("td",null,l.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeBox(t)}})),l.a.createElement("td",{align:"right"},a),l.a.createElement("td",null,l.a.createElement("button",{type:"button",onClick:this.delRow,class:"btn btn-block btn-outline-danger btn-flat"},l.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(n.Component),Re=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).setTab=function(e){a.setState({currentTab:e})},a.state={currentTab:0},a.setTab=a.setTab.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("div",{class:"card card-primary card-outline card-outline-tabs"},l.a.createElement("div",{class:"card-header p-0 border-bottom-0"},l.a.createElement("ul",{class:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist"},l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{onClick:function(){return e.setTab(0)},class:"nav-link active",id:"custom-tabs-three-home-tab","data-toggle":"pill",href:"#custom-tabs-three-home",role:"tab","aria-controls":"custom-tabs-three-home","aria-selected":"true"},"Invoice")),0==this.props.match.params.id?l.a.createElement("div",null):l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{onClick:function(){return e.setTab(1)},class:"nav-link",id:"custom-tabs-three-profile-tab","data-toggle":"pill",href:"#custom-tabs-three-profile",role:"tab","aria-controls":"custom-tabs-three-profile","aria-selected":"false"},"Documents")),0==this.props.match.params.id?l.a.createElement("div",null):l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{onClick:function(){return e.setTab(2)},class:"nav-link",id:"custom-tabs-three-messages-tab","data-toggle":"pill",href:"#custom-tabs-three-messages",role:"tab","aria-controls":"custom-tabs-three-messages","aria-selected":"false"},"Expenses")),0==this.props.match.params.id?l.a.createElement("div",null):l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{onClick:function(){return e.setTab(3)},class:"nav-link",id:"custom-tabs-three-settings-tab","data-toggle":"pill",href:"#custom-tabs-three-settings",role:"tab","aria-controls":"custom-tabs-three-settings","aria-selected":"false"},"Net Report")),0==this.props.match.params.id?l.a.createElement("div",null):l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{onClick:function(){return e.setTab(4)},class:"nav-link",id:"custom-tabs-three-packing-tab","data-toggle":"pill",href:"#custom-tabs-three-packing",role:"tab","aria-controls":"custom-tabs-three-packing","aria-selected":"false"},"Packing ")))),l.a.createElement("div",{class:"card-body"},l.a.createElement("div",{class:"tab-content",id:"custom-tabs-three-tabContent"},l.a.createElement("div",{class:"tab-pane fade active show",id:"custom-tabs-three-home",role:"tabpanel","aria-labelledby":"custom-tabs-three-home-tab"},0==this.state.currentTab?l.a.createElement(Pe,{id_invoice:this.props.match.params.id}):l.a.createElement("div",null)),0==this.props.match.params.id?l.a.createElement("div",null):l.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-profile",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab"},1==this.state.currentTab?l.a.createElement(xe,{id_invoice:this.props.match.params.id}):l.a.createElement("div",null)),0==this.props.match.params.id?l.a.createElement("div",null):l.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-messages",role:"tabpanel","aria-labelledby":"custom-tabs-three-messages-tab"},2==this.state.currentTab?l.a.createElement(Ce,{id_invoice:this.props.match.params.id}):l.a.createElement("div",null)),0==this.props.match.params.id?l.a.createElement("div",null):l.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-settings",role:"tabpanel","aria-labelledby":"custom-tabs-three-settings-tab"},3==this.state.currentTab?l.a.createElement(je,{id_invoice:this.props.match.params.id}):l.a.createElement("div",null)),0==this.props.match.params.id?l.a.createElement("div",null):l.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-packing",role:"tabpanel","aria-labelledby":"custom-tabs-three-packing-tab"},4==this.state.currentTab?l.a.createElement(_e,{id_invoice:this.props.match.params.id}):l.a.createElement("div",null)))))))}}]),t}(n.Component),Ne=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).addRow=function(e){a.props.addRow(e)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("select",{class:"form-control",onChange:function(t){return e.addRow(t)},value:0},this.props.products.map(function(e){return l.a.createElement("option",{value:e.id_product},e.name)}))),l.a.createElement("td",null,l.a.createElement("input",{type:"text",class:"form-control"})),l.a.createElement("td",null,l.a.createElement("input",{type:"text",class:"form-control"})),l.a.createElement("td",{align:"right"}),l.a.createElement("td",null," "))}}]),t}(n.Component),Fe=Re,Me=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).state={title:"Table",data:null,date:new Date,invItems:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(x).then(function(e){return e.json()}).then(function(t){return e.setState({invItems:t})})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return l.a.createElement(Ae,{delRow:e.delRow,invItem:t,rowIndex:a})});return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("h1",null,"Invoice"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-default"},l.a.createElement("div",{class:"card-header border-0"},l.a.createElement("h3",{class:"card-title"},"Invoice"),l.a.createElement("div",{class:"card-tools"},l.a.createElement(u.b,{to:"./invoice/0"},l.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"10%"}},"Inv. No"),l.a.createElement("th",{style:{width:"25%"}},"Date"),l.a.createElement("th",{style:{width:"25%"}},"Consignee"),l.a.createElement("th",{style:{width:"20%"}},"Status"),l.a.createElement("th",{style:{width:"15%"}}))),l.a.createElement("tbody",null,t),l.a.createElement("tfoot",null,l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",{align:"right"})))))))))))}}]),t}(n.Component),Ae=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a.editRow=function(){a.props.editRow(a.props.rowIndex)},a.getStatus=function(e){return 1==e?l.a.createElement("span",{class:"badge bg-primary"},"created"):2==e?l.a.createElement("span",{class:"badge bg-warning"},"certified"):3==e?l.a.createElement("span",{class:"badge bg-success"},"shipped"):void 0},a.getDelBtn=function(e){if(1==e)return l.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},l.a.createElement("i",{class:"fas fa-trash"}))},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.invItem;return l.a.createElement("tr",null,l.a.createElement("td",null,e.invoice_no),l.a.createElement("td",null,e.date),l.a.createElement("td",null,e.consignee),l.a.createElement("td",null,this.getStatus(e.status)),l.a.createElement("td",null,l.a.createElement("div",{class:"btn-group"},l.a.createElement(u.b,{to:"./invoice/"+e.id_invoice,render:function(e){return l.a.createElement(Fe,e)}},l.a.createElement("i",{class:"fas fa-edit"})," "),this.getDelBtn(e.status))))}}]),t}(l.a.Component),Be=Me,Ge=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).state={title:"Table",data:null,date:new Date,invItems:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(O).then(function(e){return e.json()}).then(function(t){return e.setState({invItems:t})})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return l.a.createElement(Ke,{delRow:e.delRow,invItem:t,rowIndex:a})});return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("h1",null,"Rough Invoice"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-default"},l.a.createElement("div",{class:"card-header border-0"},l.a.createElement("h3",{class:"card-title"},"Rough Invoice"),l.a.createElement("div",{class:"card-tools"},l.a.createElement(u.b,{to:"./roughInvoiceCreate/0"},l.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"20%"}},"Date"),l.a.createElement("th",null,"Consigner"),l.a.createElement("th",null,"Consignee"),l.a.createElement("th",null))),l.a.createElement("tbody",null,t))))))))))}}]),t}(n.Component),Ke=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a.editRow=function(){a.props.editRow(a.props.rowIndex)},a.getStatus=function(e){return 1==e?l.a.createElement("span",{class:"badge bg-primary"},"created"):2==e?l.a.createElement("span",{class:"badge bg-warning"},"certified"):3==e?l.a.createElement("span",{class:"badge bg-success"},"shipped"):void 0},a.getDelBtn=function(e){if(1==e)return l.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},l.a.createElement("i",{class:"fas fa-trash"}))},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem;return l.a.createElement("tr",null,l.a.createElement("td",null,t.date),l.a.createElement("td",null,t.consigner),l.a.createElement("td",null,t.consignee),l.a.createElement("td",null,l.a.createElement("div",{class:"btn-group"},l.a.createElement(u.b,{to:"./roughInvoiceCreate/"+t.id_rough_invoice,render:function(t){return l.a.createElement(fe,Object.assign({},t,{id_rough_invoice:e.props.match.params.id_rough_invoice}))}},l.a.createElement("i",{class:"fas fa-edit"})," "),this.getDelBtn(t.status))))}}]),t}(l.a.Component),He=Ge,Je=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).delPayroll=function(e){fetch(K+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})});var t=a.formatDate(a.state.date);a.loadVoucherList(t)},a.loadVoucherList=function(e){fetch(G+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})}),console.log(a.state.arrVouchers)},a.saveVoucher=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger:a.state.id_ledger,amount:a.state.amount,type:a.state.type})};fetch(B,e).then(function(e){return e.json()});var t=a.formatDate(a.state.date);a.loadVoucherList(t)}else a.validator.showMessages(),a.forceUpdate()},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")},a.onDateChange=function(e){a.setState({date:e},function(){var e=a.formatDate(a.state.date);a.loadVoucherList(e)})},a.state={data:null,date:new Date,id_ledger:"",type:"",amount:"",ledger:"",arrLedger:[],arrVouchers:[],arrType:[{type:"Allowance"},{type:"Salary"},{type:"Loan"}]},a.onAmountChange=a.onAmountChange.bind(Object(f.a)(Object(f.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(f.a)(Object(f.a)(a))),a.onLedgerChange=a.onLedgerChange.bind(Object(f.a)(Object(f.a)(a))),a.onDateChange=a.onDateChange.bind(Object(f.a)(Object(f.a)(a))),a.validator=new he.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.date);this.loadAccountHead(),this.loadVoucherList(e)}},{key:"loadAccountHead",value:function(){var e=this,t=ie;fetch("".concat($,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:t})})}},{key:"onTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return l.a.createElement(We,{arrVoucher:t,arrLedger:e.state.arrLedger,delPayroll:e.delPayroll})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Payroll"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Date"),l.a.createElement(y.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"})))))),l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},l.a.createElement("option",null,"--Select--"),this.state.arrLedger.map(function(e){return l.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger",this.state.id_ledger,"required|numeric"))),l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Type"),l.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return l.a.createElement("option",{value:e.type},e.type)})))),l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Amount"),l.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),l.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveVoucher},"Save")))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"40%"}},"Name"),l.a.createElement("th",{style:{width:"30%"}},"Type"),l.a.createElement("th",{style:{width:"30%"}},"Amount"),l.a.createElement("th",null,"hi"))),l.a.createElement("tbody",null,t),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},a),l.a.createElement("th",null)))))))))))}}]),t}(n.Component),We=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return l.a.createElement("tr",null,l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.type),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,l.a.createElement("div",{class:"btn-group"},l.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.props.delPayroll(t.id_payroll)}},l.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(l.a.Component),Ye=Je,ze=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadLedger=function(e){fetch(X+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({name:e[0].account_head,op:e[0].opening_balance,address:e[0].address,phone:e[0].phone})})},a.saveLedger=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.state.id,name:a.state.name,code:a.state.code,op:a.state.op,address:a.state.address,phone:a.state.phone,id_account_head:a.props.match.params.id_ledger})};fetch(q,e).then(function(e){e.json(),a.setState({redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,id_account_head:"",code:"",id:"",name:"",op:"",address:"",phone:"",arrLedgerGroup:[],redirect:!1},a.onNameChange=a.onNameChange.bind(Object(f.a)(Object(f.a)(a))),a.onIdChange=a.onIdChange.bind(Object(f.a)(Object(f.a)(a))),a.onOpChange=a.onOpChange.bind(Object(f.a)(Object(f.a)(a))),a.onAddressChange=a.onAddressChange.bind(Object(f.a)(Object(f.a)(a))),a.onPhoneChange=a.onPhoneChange.bind(Object(f.a)(Object(f.a)(a))),a.validator=new he.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup();var e=this.props.match.params.id_ledger;0!=e&&this.loadLedger(e)}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(Z).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerGroup:t})})}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onIdChange",value:function(e){this.setState({id:e.target.value})}},{key:"onOpChange",value:function(e){this.setState({op:e.target.value})}},{key:"onAddressChange",value:function(e){this.setState({address:e.target.value})}},{key:"onPhoneChange",value:function(e){this.setState({phone:e.target.value})}},{key:"render",value:function(){return this.state.redirect?(this.setState({redirect:!1}),l.a.createElement(o.a,{to:"/ledger"})):l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Ledger"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",value:this.state.name,onChange:this.onNameChange,class:"form-control"}),this.validator.message("name",this.state.name,"required|alpha_num_space"))),l.a.createElement("div",{class:"col-sm-5"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Ledger Group"),l.a.createElement("select",{class:"form-control",onChange:this.onIdChange,value:this.state.id},l.a.createElement("option",{value:""},"Select"),this.state.arrLedgerGroup.map(function(e){return l.a.createElement("option",{value:e.id_ledger_group},e.name)})),this.validator.message("id",this.state.id,"required|alpha_num_space"))),l.a.createElement("div",{class:"col-sm-1"},l.a.createElement("div",{class:"form-group"},l.a.createElement(u.b,{to:"/ledgerGroup",class:"btn btn-tool btn-sm"},l.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"+"))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Opening Balance"),l.a.createElement("input",{type:"text",value:this.state.op,onChange:this.onOpChange,class:"form-control"}))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Phone"),l.a.createElement("input",{type:"text",value:this.state.phone,onChange:this.onPhoneChange,class:"form-control"})))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Address"),l.a.createElement("input",{type:"text",value:this.state.address,onChange:this.onAddressChange,class:"form-control"}))),l.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save"))))))))))))))}}]),t}(n.Component),Qe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadLedgerList=function(e){fetch(U+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrLedgers:e})})},a.delRow=function(e){var t=a.state.arrLedgers;t.splice(e,1),a.setState({arrLedgers:t})},a.onLedgerGroupChange=function(e){a.setState({ledgerGroup:e.target.value},function(){var e=a.state.ledgerGroup;a.loadLedgerList(e)})},a.state={data:null,ledgerGroup:"",arrLedgerGroup:[],arrLedgers:[]},a.onLedgerGroupChange=a.onLedgerGroupChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.ledgerGroup;this.loadLedgerGroup(),this.loadLedgerList(e)}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(Z).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerGroup:t})})}},{key:"render",value:function(){var e=this.state.arrLedgers.map(function(e,t){return l.a.createElement(Ze,{arrLedger:e})});return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Ledger"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Group"),l.a.createElement("select",{class:"form-control",onChange:this.onLedgerGroupChange,value:this.state.ledgerGroup},l.a.createElement("option",{value:""},"All"),")}",this.state.arrLedgerGroup.map(function(e){return l.a.createElement("option",{value:e.id_ledger_group},e.name)})))),l.a.createElement("div",{class:"col-sm-8"},l.a.createElement("div",{class:"form-group float-right"},l.a.createElement(u.b,{to:"./ledgerCreate/0",class:"btn btn-tool btn-sm"},l.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-fla"},"Create"))))))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"45%"}},"Name"),l.a.createElement("th",{style:{width:"25%"}},"Phone"),l.a.createElement("th",{style:{width:"30%"}},"Group"),l.a.createElement("th",{style:{width:"10%"}}))),l.a.createElement("tbody",null,e))))))))))}}]),t}(n.Component),Ze=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrLedger;return l.a.createElement("tr",null,l.a.createElement("td",null,t.account_head),l.a.createElement("td",null,t.phone),l.a.createElement("td",null,t.name),l.a.createElement("td",null,l.a.createElement("div",{class:"btn-group"},l.a.createElement(u.b,{to:"./ledgerCreate/"+t.id_account_head,render:function(t){return l.a.createElement(ze,Object.assign({},t,{id_ledger:e.props.match.params.id_ledger}))},class:"btn btn-tool btn-sm"},l.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},l.a.createElement("i",{class:"fas fa-edit"}))))))}}]),t}(l.a.Component),$e=Qe,Xe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadVoucherList=function(e,t){fetch(H+"/'".concat(e,"'")+"/'".concat(t,"'")).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})}),console.log(a.state.arrVouchers)},a.saveVoucher=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger_from:a.state.id_ledger_from,id_ledger_to:a.state.id_ledger_to,description:a.state.description,rate:a.state.rate,amount:a.state.amount,type:a.state.type,voucher_no:a.state.voucher_no,id_invoice:a.state.id_invoice})};fetch(W,e).then(function(e){e.json();var t=a.formatDate(a.state.date);a.loadVoucherList(t,a.state.type)})}else a.validator.showMessages(),a.forceUpdate()},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")},a.onDateChange=function(e){a.setState({date:e},function(){var e=a.formatDate(a.state.date);a.loadVoucherList(e,a.state.type),a.loadAccountHead()})},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,date:new Date,id_ledger_from:"",id_ledger_to:"",description:"",rate:"",amount:"",type:"Payment",voucher_no:0,id_invoice:0,ledger:"",arrLedgerFrom:[],arrLedgerTo:[],arrVouchers:[],arrType:[{type:"Payment"},{type:"Receipt"},{type:"Transfer"}]},a.onAmountChange=a.onAmountChange.bind(Object(f.a)(Object(f.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(f.a)(Object(f.a)(a))),a.onDescriptionChange=a.onDescriptionChange.bind(Object(f.a)(Object(f.a)(a))),a.onLedgerFromChange=a.onLedgerFromChange.bind(Object(f.a)(Object(f.a)(a))),a.onLedgerToChange=a.onLedgerToChange.bind(Object(f.a)(Object(f.a)(a))),a.onDateChange=a.onDateChange.bind(Object(f.a)(Object(f.a)(a))),a.validator=new he.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.date),t=this.state.type;this.loadAccountHead(),this.loadVoucherList(e,t)}},{key:"loadAccountHead",value:function(){var e=this,t=ue,a=-1*ue;"Receipt"==this.state.type?(t=-1*ue,a=ue):"Payment"==this.state.type?(t=ue,a=-1*ue):"Transfer"==this.state.type&&(t=ue,a=ue),fetch("".concat(U,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerFrom:t})}),fetch("".concat(U,"/").concat(a)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerTo:t})})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onTypeChange",value:function(e){var t=this;this.setState({type:e.target.value},function(){t.loadVoucherList(t.formatDate(t.state.date),t.state.type),t.loadAccountHead()})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerFromChange",value:function(e){this.setState({id_ledger_from:e.target.value})}},{key:"onLedgerToChange",value:function(e){this.setState({id_ledger_to:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return l.a.createElement(Ue,{arrVoucher:t,arrLedger:e.state.arrLedger})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Voucher"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Date"),l.a.createElement(y.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),l.a.createElement("div",{class:"col-sm-8"},l.a.createElement("div",{class:"form-group float-right"},l.a.createElement("label",null,"Type"),l.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return l.a.createElement("option",{value:e.type},e.type)}))))))),l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"From"),l.a.createElement("select",{class:"form-control",onChange:this.onLedgerFromChange,value:this.state.id_ledger_from},l.a.createElement("option",null,"--Select--"),this.state.arrLedgerFrom.map(function(e){return l.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger_from",this.state.id_ledger_from,"required|numeric"))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"To"),l.a.createElement("select",{class:"form-control",onChange:this.onLedgerToChange,value:this.state.id_ledger_to},l.a.createElement("option",null,"--Select--"),this.state.arrLedgerTo.map(function(e){return l.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger_to",this.state.id_ledger_to,"required|numeric")))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Remarks"),l.a.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Amount"),l.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),l.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveVoucher},"Save")))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50%"}},"From"),l.a.createElement("th",{style:{width:"25%"}},"To"),l.a.createElement("th",{style:{width:"25%"}},"Remarks"),l.a.createElement("th",{style:{width:"25%"}},"Amount"),l.a.createElement("th",null))),l.a.createElement("tbody",null,t),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},a),l.a.createElement("th",null)))))))))))}}]),t}(n.Component),Ue=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).delVoucher=function(e){fetch(J+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})})},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return l.a.createElement("tr",null,l.a.createElement("td",null,t.acc_from),l.a.createElement("td",null,t.acc_to),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,l.a.createElement("div",{class:"btn-group"},l.a.createElement("button",{type:"button",onClick:function(){return e.delVoucher(t.id_account_voucher)},class:"btn btn-outline-danger"},l.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(l.a.Component),qe=Xe,et=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadVoucherList=function(e,t,n){fetch(Y+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})}),a.loadOp(e,t,n)},a.loadOp=function(e,t,n){fetch(z+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({op:e[0].opening_bal})}),console.log(a.state.arrVouchers)},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e})},a.onDateToChange=function(e){a.setState({dateTo:e})},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:0,arrLedger:[],arrVouchers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(f.a)(Object(f.a)(a))),a.onDateFromChange=a.onDateFromChange.bind(Object(f.a)(Object(f.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.dateFrom),t=this.formatDate(this.state.dateTo),a=this.state.id_ledger;this.loadOp(e,t,a),this.loadVoucherList(e,t,a),this.loadAccountHead()}},{key:"loadAccountHead",value:function(){var e=this;fetch($).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:t})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return l.a.createElement(tt,{arrVoucher:t,arrLedger:e.state.arrLedger})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.receipt},0),n=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.payment},0),r=-1*this.state.op+n-a,c=r>=0?"".concat(r," DR"):"".concat(-1*r," CR"),o=this.state.op>=0?"".concat(this.state.op," DR"):"".concat(-1*this.state.op," CR");return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Ledger Report"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"From"),l.a.createElement(y.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"To"),l.a.createElement(y.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Ledger"),l.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},this.state.arrLedger.map(function(e){return l.a.createElement("option",{value:e.id_account_head},e.account_head)})))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group float-right"},l.a.createElement("label",null,"Opening Balance :"),l.a.createElement("label",null,o))),l.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadVoucherList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo),e.state.id_ledger)}},"Search")))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"15%"}},"Date"),l.a.createElement("th",{style:{width:"15%"}},"Type"),l.a.createElement("th",{style:{width:"20%"}},"Description"),l.a.createElement("th",{style:{width:"10%"}},"Debit"),l.a.createElement("th",{style:{width:"10%"}},"Credit"),l.a.createElement("th",{style:{width:"10%"}},"Balance"))),l.a.createElement("tbody",null,t),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},n),l.a.createElement("th",{align:"right"},a),l.a.createElement("th",{align:"right"},c)))))))))))}}]),t}(n.Component),tt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return l.a.createElement("tr",null,l.a.createElement("td",null,e.date),l.a.createElement("td",null,e.type),l.a.createElement("td",null,e.narration),l.a.createElement("td",null,e.payment),l.a.createElement("td",null,e.receipt))}}]),t}(l.a.Component),at=et,nt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).saveLedger=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ledger:a.state.ledger})};fetch(Q,e).then(function(e){return e.json()}),a.loadLedgerGroup()},a.delRow=function(e){var t=a.state.arrLedgers;t.splice(e,1),a.setState({arrLedgers:t})},a.state={data:null,ledger:"",arrLedgers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup()}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(Z).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgers:t})})}},{key:"onLedgerChange",value:function(e){this.setState({ledger:e.target.value})}},{key:"render",value:function(){var e=this.state.arrLedgers.map(function(e,t){return l.a.createElement(lt,{arrLedger:e})});return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("h1",null,"Ledger Group"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",value:this.state.ledger,onChange:this.onLedgerChange,class:"form-control"}))),l.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save")))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"100%"}},"Name"))),l.a.createElement("tbody",null,e))))))))))}}]),t}(n.Component),lt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrLedger;return l.a.createElement("tr",null,l.a.createElement("td",null,e.name))}}]),t}(l.a.Component),rt=nt,ct=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadCredit=function(e,t,n){fetch(te+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({arrCreditVouchers:e||[]})})},a.loadDebit=function(e,t,n){fetch(ae+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({arrDebitVouchers:e||[]})})},a.loadOp=function(e,t){fetch(ee+"/'".concat(e,"'")+"/".concat(t)).then(function(e){return e.json()}).then(function(e){a.setState({op:e?e[0].balance:0})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e},function(){a.formatDate(a.state.dateFrom),a.formatDate(a.state.dateTo)})},a.onDateToChange=function(e){a.setState({dateTo:e},function(){a.formatDate(a.state.dateFrom),a.formatDate(a.state.dateTo)})},a.onLedgerChange=function(e){a.setState({id_ledger:e.target.value},function(){})},a.loadCashBook=function(){var e=a.formatDate(a.state.dateFrom),t=a.formatDate(a.state.dateTo),n=a.state.id_ledger;a.loadCredit(e,t,n),a.loadDebit(e,t,n),a.loadOp(e,n)},a.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:"",arrLedger:[],arrCreditVouchers:[],arrDebitVouchers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(f.a)(Object(f.a)(a))),a.onDateFromChange=a.onDateFromChange.bind(Object(f.a)(Object(f.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(f.a)(Object(f.a)(a))),a.loadCashBook=a.loadCashBook.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadAccountHead()}},{key:"loadAccountHead",value:function(){var e=this,t=ue;fetch("".concat($,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(d.a)(t))})})}},{key:"render",value:function(){var e=this.state.arrCreditVouchers.map(function(e,t){return l.a.createElement(st,{arrCredit:e})}),t=this.state.arrDebitVouchers.map(function(e,t){return l.a.createElement(ot,{arrVoucher:e})}),a=this.state.arrCreditVouchers.reduce(function(e,t){return+e+ +t.credit},0),n=this.state.arrDebitVouchers.reduce(function(e,t){return+e+ +t.debit},0),r=this.state.op-n-a;return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Cash Book"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"From"),l.a.createElement(y.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"To"),l.a.createElement(y.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"}))),l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Ledger"),l.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},this.state.arrLedger.map(function(e){return l.a.createElement("option",{value:e.id_account_head},e.account_head)}))))),l.a.createElement("div",{class:"row"},l.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.loadCashBook},"Search")))),l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Opening Balance :"),l.a.createElement("label",null,this.state.op))))))),l.a.createElement("tbody",null)),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"card card-warning"},l.a.createElement("div",{class:"card-body"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"40%"}},"Name"),l.a.createElement("th",{style:{width:"35%"}},"Particulars"),l.a.createElement("th",{style:{width:"25%"}},"Debit"))),l.a.createElement("tbody",null,t),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},n)))))),l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"card card-warning"},l.a.createElement("div",{class:"card-body"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"40%"}},"Name"),l.a.createElement("th",{style:{width:"35%"}},"Particulars"),l.a.createElement("th",{style:{width:"25%"}},"Credit"))),l.a.createElement("tbody",null,e),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},a))))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-footer"},l.a.createElement("label",null,"Balance : ",r)))))))))))))}}]),t}(n.Component),ot=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return l.a.createElement("tr",null,l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.narration),l.a.createElement("td",null,e.debit))}}]),t}(l.a.Component),st=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrCredit;return l.a.createElement("tr",null,l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.narration),l.a.createElement("td",null,e.credit))}}]),t}(l.a.Component),it=ct,ut=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).delRow=function(e){var t=a.state.arrProducts;t.splice(e,1),a.setState({arrProducts:t})},a.state={data:null,ledger:"",arrProducts:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup()}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(ne).then(function(e){return e.json()}).then(function(t){return e.setState({arrProducts:t})})}},{key:"render",value:function(){var e=this.state.arrProducts.map(function(e,t){return l.a.createElement(dt,{arrProduct:e})});return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-12"},l.a.createElement("h1",null,"Products"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50%"}},"Name"),l.a.createElement("th",{style:{width:"25%"}},"Purchase Price"),l.a.createElement("th",{style:{width:"25%"}},"Selling Price"))),l.a.createElement("tbody",null,e))))))))))}}]),t}(n.Component),dt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrProduct;return l.a.createElement("tr",null,l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.purchase_price),l.a.createElement("td",null,e.selling_price))}}]),t}(l.a.Component),mt=ut,ht=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadVoucherList=function(e){fetch(ce+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({date:e[0].date,voucher_no:e[0].voucher_no,ledger:e[0].account_head,op:e[0]._old_balance})})},a.loadVoucherItemsList=function(e){fetch(oe+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVoucherItems:e})})},a.loadVoucherExpList=function(e){fetch(se+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVoucherExps:e})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,date:"",voucher_no:"",op:"",ledger:"",arrVouchers:[],arrVoucherItems:[],arrVoucherExps:[],arrVoucherTotals:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.voucher_no;this.loadVoucherList(e),this.loadVoucherItemsList(e),this.loadVoucherExpList(e)}},{key:"render",value:function(){var e=this.state.arrVoucherItems.map(function(e,t){return l.a.createElement(Et,{arrVoucher:e})}),t=this.state.arrVoucherExps.map(function(e,t){return l.a.createElement(vt,{arrVoucherExp:e})}),a=(this.state.arrVoucherTotals.map(function(e,t){return l.a.createElement(pt,{arrVoucher:e})}),this.state.arrVoucherItems.reduce(function(e,t){return+e+ +t.total},0)),n=this.state.arrVoucherExps.reduce(function(e,t){return+e+ +t.amount},0),r=a+n,c=r+this.state.op;return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Purchase Voucher"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-8"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Voucher No :"),l.a.createElement("label",null,this.state.voucher_no))),l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Date :"),l.a.createElement("label",null,this.state.date)))))),l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Party : "),l.a.createElement("label",null,this.state.ledger)))),l.a.createElement("div",{class:"row"}))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"20%"}},"No"),l.a.createElement("th",{style:{width:"20%"}},"Item"),l.a.createElement("th",{style:{width:"25%"}},"Kg"),l.a.createElement("th",{style:{width:"25%"}},"Price"),l.a.createElement("th",{style:{width:"25%"}},"Total"))),l.a.createElement("tbody",null,e),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},a))))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-md-6"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"65%"}},"Expense"),l.a.createElement("th",{style:{width:"35%"}},"Amount"))),l.a.createElement("tbody",null,t),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",{align:"right"},n)))))),l.a.createElement("div",{class:"col-md-6"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Total "),l.a.createElement("td",{style:{fontWeight:"bold"}},a)),l.a.createElement("tr",null,l.a.createElement("td",null,"Expense "),l.a.createElement("td",{style:{fontWeight:"bold"}},n)),l.a.createElement("tr",null,l.a.createElement("td",null,"Net "),l.a.createElement("td",{style:{fontWeight:"bold"}},r)),l.a.createElement("tr",null,l.a.createElement("td",null,"OB"),l.a.createElement("td",{style:{fontWeight:"bold"}},this.state.op)),l.a.createElement("tr",null,l.a.createElement("td",null,"total"),l.a.createElement("td",{style:{fontWeight:"bold"}},c))))))))))))}}]),t}(n.Component),Et=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return l.a.createElement("tr",null,l.a.createElement("td",null,"1"),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.quantity),l.a.createElement("td",null,e.unit_price),l.a.createElement("td",null,e.total))}}]),t}(l.a.Component),vt=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucherExp;return l.a.createElement("tr",null,l.a.createElement("td",null,e.expense),l.a.createElement("td",null,e.amount))}}]),t}(l.a.Component),pt=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state.arrVoucherItems.reduce(function(e,t){return+e+ +t.total},0),t=this.state.arrVoucherExps.reduce(function(e,t){return+e+ +t.amount},0);return l.a.createElement("tr",null,l.a.createElement("td",null,"Total  :",e),l.a.createElement("td",null,"Expense :",t),l.a.createElement("td",null))}}]),t}(l.a.Component),ft=ht,gt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadVoucherList=function(e,t){fetch(re+"/'".concat(e,"'")+"/'".concat(t,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e})},a.onDateToChange=function(e){a.setState({dateTo:e})},a.state={data:null,dateFrom:new Date,dateTo:new Date,arrVouchers:[]},a.onDateFromChange=a.onDateFromChange.bind(Object(f.a)(Object(f.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.dateFrom),t=this.formatDate(this.state.dateTo);this.loadVoucherList(e,t)}},{key:"render",value:function(){var e=this.state.arrVouchers.map(function(e,t){return l.a.createElement(bt,{arrVoucher:e})}),t=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Purchase Report"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"From"),l.a.createElement(y.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),l.a.createElement("div",{class:"col-sm-3"},l.a.createElement("div",{class:"form-group"},l.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.loadVoucherList(this.formatDate(this.state.dateFrom),this.formatDate(this.state.dateTo))},"Search"))),l.a.createElement("div",{class:"col-sm-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"To"),l.a.createElement(y.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"15%"}},"V. No"),l.a.createElement("th",{style:{width:"20%"}},"Date"),l.a.createElement("th",{style:{width:"40%"}},"Party"),l.a.createElement("th",{style:{width:"20%"}},"Kg"),l.a.createElement("th",{style:{width:"20%"}},"Amount"),l.a.createElement("th",null))),l.a.createElement("tbody",null,e),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},t),l.a.createElement("th",null)))))))))))}}]),t}(n.Component),bt=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return l.a.createElement("tr",null,l.a.createElement("td",null,t.voucher_no),l.a.createElement("td",null,t.date),l.a.createElement("td",null,t.account_head),l.a.createElement("td",null,t.quantity),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,l.a.createElement("div",{class:"btn-group"},l.a.createElement(u.b,{to:"purchaseVoucher/"+t.voucher_no,render:function(t){return l.a.createElement(ft,Object.assign({},t,{voucher_no:e.props.match.params.voucher_no}))}},l.a.createElement("i",{class:"fas fa-edit"})))))}}]),t}(l.a.Component),yt=gt,Ct=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadStockList=function(e){fetch(le+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})}),console.log(a.state.arrVouchers)},a.state={data:null,id_product:"",type:"",arrProducts:[],arrVouchers:[],arrType:[{type:"FISH"},{type:"PACKING MATERIAL"},{type:"OTHER"}]},a.onProductChange=a.onProductChange.bind(Object(f.a)(Object(f.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(f.a)(Object(f.a)(a))),a.validator=new he.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.arrType[0].type;this.loadProduct(),this.loadStockList(e)}},{key:"loadProduct",value:function(){var e=this;fetch(ne).then(function(e){return e.json()}).then(function(t){e.setState({arrProducts:t})})}},{key:"onProductChange",value:function(e){this.setState({id_product:e.target.value},function(){})}},{key:"onTypeChange",value:function(e){this.setState({type:e.target.value},function(){})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return l.a.createElement(jt,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.rate*t.stock},0);return l.a.createElement("div",{class:"wrapper"},l.a.createElement(g,null),l.a.createElement("div",{class:"content-wrapper"},l.a.createElement("section",{class:"content-header"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row mb-2"},l.a.createElement("div",{class:"col-sm-6"},l.a.createElement("h1",null,"Stock Report"))))),l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"container-fluid"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-12"},l.a.createElement("div",{class:"card card-info"},l.a.createElement("div",{class:"card-body p-0"},l.a.createElement("table",{class:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colspan:6},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-md-6"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Type"),l.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return l.a.createElement("option",{value:e.type},e.type)})))),l.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadStockList(e.state.id_product,e.state.type)}},"Search")))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"50%"}},"Product"),l.a.createElement("th",{style:{width:"25%"}},"Stock"),l.a.createElement("th",{style:{width:"25%"}},"Amount"))),l.a.createElement("tbody",null,t),l.a.createElement("tfoot",null,l.a.createElement("th",null,"Total"),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},a)))))))))))}}]),t}(n.Component),jt=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return l.a.createElement("tr",null,l.a.createElement("td",null,e.product," ",e.unit),l.a.createElement("td",null,e.stock),l.a.createElement("td",null,e.rate*e.stock))}}]),t}(l.a.Component),wt=Ct;function Ot(){return l.a.createElement(u.a,null,l.a.createElement(o.b,{path:"/roughInvoiceCreate/:id_rough_invoice",component:fe}),l.a.createElement(o.b,{path:"/invoice/:id",component:Fe}),l.a.createElement(o.b,{path:"/invoiceList",component:Be}),l.a.createElement(o.b,{path:"/roughInvoiceList",component:He}),l.a.createElement(o.b,{path:"/",exact:!0,component:Be}),l.a.createElement(o.b,{path:"/voucher",exact:!0,component:qe}),l.a.createElement(o.b,{path:"/payroll",exact:!0,component:Ye}),l.a.createElement(o.b,{path:"/ledgerReport",exact:!0,component:at}),l.a.createElement(o.b,{path:"/ledger",exact:!0,component:$e}),l.a.createElement(o.b,{path:"/ledgerCreate/:id_ledger",exact:!0,component:ze}),l.a.createElement(o.b,{path:"/ledgerGroup",exact:!0,component:rt}),l.a.createElement(o.b,{path:"/cashBook",exact:!0,component:it}),l.a.createElement(o.b,{path:"/product",exact:!0,component:mt}),l.a.createElement(o.b,{path:"/purchaseVoucher/:voucher_no",exact:!0,component:ft}),l.a.createElement(o.b,{path:"/purchaseReport",exact:!0,component:yt}),l.a.createElement(o.b,{path:"/stockReport",exact:!0,component:wt}))}var kt=function(){return l.a.createElement(o.c,{history:i},l.a.createElement(Ot,null))};c.a.render(l.a.createElement(kt,null),document.getElementById("root"))}},[[37,2,1]]]);
//# sourceMappingURL=main.00419937.chunk.js.map