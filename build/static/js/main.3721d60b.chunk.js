(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(66)},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=a(23),s=a(12),i=Object(s.a)(),u=a(9),d=a(13),m=a(4),h=a(5),E=a(7),v=a(6),p=a(8),g=a(2),f=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{class:"main-header navbar navbar-expand navbar-white navbar-light"},r.a.createElement("ul",{class:"navbar-nav"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link","data-widget":"pushmenu",href:"#"},r.a.createElement("i",{class:"fas fa-bars"}))),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(u.b,{to:"/product",className:"nav-link"},"Product")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(u.b,{to:"/invoiceList",className:"nav-link"},"Invoices")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(u.b,{to:"/voucher",className:"nav-link"},"Voucher")))),r.a.createElement("aside",{class:"main-sidebar sidebar-dark-primary elevation-4"},r.a.createElement("a",{href:"index3.html",class:"brand-link"},r.a.createElement("img",{src:"dist/img/AdminLTELogo.png",alt:"AdminLTE Logo",class:"brand-image img-circle elevation-3"}),r.a.createElement("span",{class:"brand-text font-weight-light"},"Shade Expo")),r.a.createElement("div",{class:"sidebar"},r.a.createElement("div",{class:"user-panel mt-3 pb-3 mb-3 d-flex"},r.a.createElement("div",{class:"image"},r.a.createElement("img",{src:"dist/img/user2-160x160.jpg",class:"img-circle elevation-2",alt:"User Image"})),r.a.createElement("div",{class:"info"},r.a.createElement("a",{href:"#",class:"d-block"},"Admin"))),r.a.createElement("nav",{class:"mt-2"},r.a.createElement("ul",{class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},r.a.createElement("li",{class:"nav-item has-treeview"},r.a.createElement(u.c,{to:"/accounts",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Master")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/ledger",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Ledger"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/product",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Product"))))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/roughInvoiceList",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Rough Invoices"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/invoiceList",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Invoices"))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(u.c,{to:"/purchase",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Purchase")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/purchaseReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Purchase Report"))))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(u.c,{to:"/accounts",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Accounts")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/voucher",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Voucher"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/ledgerReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Ledger Report"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/cashBook",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Cash Book")))))," ",r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(u.c,{to:"/stockReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Stock Report"))))))))}}]),t}(n.Component),b=a(20),y=a(10),C=a.n(y),j="http://198.12.251.14:3000/",w="".concat(j,"invoice/roughInvoice"),O="".concat(j,"invoice/roughInvoice"),k="".concat(j,"invoice/roughInvoiceList"),D="".concat(j,"invoice/invoice"),S="".concat(j,"invoice/invoice"),_="".concat(j,"invoice/invoice"),I="".concat(j,"invoice/invoiceList"),L="".concat(j,"invoice/invoice/expense"),x="".concat(j,"invoice/invoice/expense"),T="".concat(j,"invoice/invoice/expenseDel"),P="".concat(j,"invoice/invoice/netSalesTotal"),N="".concat(j,"invoice/invoice/netOtherExp"),V="".concat(j,"invoice/invoice/documents"),R="".concat(j,"invoice/invoice/documentsList"),A="".concat(j,"invoice/invoice/documentsDel"),F="".concat(j,"invoice/invoice/getDoc"),M="".concat(j,"invoice/invoice/invLabour"),B="".concat(j,"invoice/invoice/invPacking"),G="".concat(j,"invoice/invoice/invPackingExp"),K=("".concat(j,"invoice/docs"),"".concat(j,"payroll/payroll")),W="".concat(j,"payroll/payroll"),H="".concat(j,"payroll/payrollDel"),J="".concat(j,"accounts/voucher"),Y="".concat(j,"accounts/voucherDel"),Q="".concat(j,"accounts/accounts/voucher"),$="".concat(j,"accounts/ledgerReport"),z="".concat(j,"accounts/ledgerReportOp"),Z="".concat(j,"accounts/ledgerGroup"),X="".concat(j,"accounts/ledgerGroup"),q="".concat(j,"accounts/ledger"),U="".concat(j,"accounts/ledgerEdit"),ee="".concat(j,"accounts/ledger"),te="".concat(j,"accounts/ledgerCreate"),ae=("".concat(j,"accounts/ledgerCreate"),"".concat(j,"accounts/cashBookOp")),ne="".concat(j,"accounts/cashBookCredit"),re="".concat(j,"accounts/cashBookDebit"),ce="".concat(j,"product/product"),le="".concat(j,"product/stockReport"),oe="".concat(j,"purchase/purchaseReport"),se="".concat(j,"purchase/purchaseVoucher"),ie="".concat(j,"purchase/purchaseVoucherItems"),ue="".concat(j,"purchase/purchaseVoucherExpense"),de=3,me=5,he=6,Ee=7,ve=8,pe=a(11),ge=a.n(pe),fe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.delExpense=function(e){fetch(T+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrExpenses:e})});var t=a.props.id_invoice;a.loadExpenseList(t)},a.loadExpenseList=function(e){fetch(x+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrExpenses:e})})},a.saveInvoice=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger_to:a.state.id_ledger_to,description:a.state.description,rate:isNaN(a.state.rate)?"":a.state.rate,amount:isNaN(a.state.amount)?"":a.state.amount,type:a.state.type,voucher_no:a.state.voucher_no,id_invoice:a.props.id_invoice})};fetch(L,e).then(function(e){e.json(),a.loadExpenseList(a.props.id_invoice),a.setState({id_ledger_to:0,description:"",rate:"",qty:"",amount:""})})}else a.validator.showMessages(),a.forceUpdate()},a.onDateChange=function(e){return a.setState({date:e})},a.onDelRow=function(e){a.setState({description:e})},a.state={data:null,date:new Date,id_ledger_to:"",description:"",rate:"",qty:"",amount:"",type:"Receipt",voucher_no:"1",ledger:"",arrLedger:[],arrExpenses:[],arrLedgerFrom:[],arrLedgerTo:[]},a.onAmountChange=a.onAmountChange.bind(Object(g.a)(Object(g.a)(a))),a.onRateChange=a.onRateChange.bind(Object(g.a)(Object(g.a)(a))),a.onQtyChange=a.onQtyChange.bind(Object(g.a)(Object(g.a)(a))),a.onDescriptionChange=a.onDescriptionChange.bind(Object(g.a)(Object(g.a)(a))),a.onLedgerChange=a.onLedgerChange.bind(Object(g.a)(Object(g.a)(a))),a.onDateChange=a.onDateChange.bind(Object(g.a)(Object(g.a)(a))),a.validator=new ge.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadAccountHead(),this.loadExpenseList(e),console.log(e)}},{key:"loadAccountHead",value:function(){var e=this,t=me,a=he;fetch("".concat(q,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerFrom:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(d.a)(t))})}),fetch("".concat(q,"/").concat(a)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerTo:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(d.a)(t))})})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onRateChange",value:function(e){this.setState({rate:e.target.value,amount:this.state.qty*e.target.value})}},{key:"onQtyChange",value:function(e){this.setState({qty:e.target.value,amount:e.target.value*this.state.rate})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_to:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrExpenses.map(function(t,a){return r.a.createElement(be,{arrExpense:t,arrLedger:e.state.arrLedger,delExpense:e.delExpense})}),a=this.state.arrExpenses.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-16"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger_to},this.state.arrLedgerTo.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger_to",this.state.id_ledger_to,"required|numeric")))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Qty (Freight)"),r.a.createElement("input",{type:"text",value:this.state.qty,onChange:this.onQtyChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Rate (Freight)"),r.a.createElement("input",{type:"text",value:this.state.rate,onChange:this.onRateChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveInvoice},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"25%"}},"Date"),r.a.createElement("th",{style:{width:"25%"}},"Ledger"),r.a.createElement("th",{style:{width:"25%"}},"Description"),r.a.createElement("th",{style:{width:"25%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null))))))))))}}]),t}(n.Component),be=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrExpense,a=""!=t.rate&&0!=t.rate?"".concat(t.amount/t.rate," x ").concat(t.rate):t.description;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.ledger),r.a.createElement("td",null,a),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.delExpense(t.id_account_voucher)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),ye=fe,Ce=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).state={sales_total:"",other_exp:"",freight:0,packing:0,conversion_rate:0},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadSalesTotal(e),this.loadOtherExp(e),this.loadConversionRate(e)}},{key:"loadSalesTotal",value:function(e){var t=this;fetch(P+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({sales_total:e[0].tot})})}},{key:"loadOtherExp",value:function(e){var t=this;fetch(N+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({other_exp:e[0].tot})})}},{key:"loadConversionRate",value:function(e){var t=this;fetch(_+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({conversion_rate:e[0].conversion_rate})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-6"},r.a.createElement("p",{class:"lead"},"Sales"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Sales Total:"),r.a.createElement("td",null,"$ ",this.state.sales_total)),r.a.createElement("tr",null,r.a.createElement("th",null,"Total :"),r.a.createElement("td",null,"$ ",this.state.sales_total)),r.a.createElement("tr",null,r.a.createElement("th",null,"Total : (Rate: ",this.state.conversion_rate,")"),r.a.createElement("td",null,"Rs ",this.state.sales_total*this.state.conversion_rate)))))),r.a.createElement("div",{class:"col-6"},r.a.createElement("p",{class:"lead"},"Expenses"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Freight Expenses:"),r.a.createElement("td",null,this.state.freight)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Packing Expenses:"),r.a.createElement("td",null,this.state.packing)),r.a.createElement("tr",null,r.a.createElement("th",null,"Other Expenses"),r.a.createElement("td",null,this.state.other_exp)),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("td",null,this.state.freight+this.state.packing+this.state.other_exp))))))))))}}]),t}(n.Component),je=a(36),we=a.n(je),Oe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).delDoc=function(e){fetch(A+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrTable:e});var t=a.props.id_invoice;a.loadDocumentsList(t)})},a.loadDocumentsList=function(e){fetch(R+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrTable:e})})},a.docDownload=function(e,t){fetch(F+"/".concat(e)).then(function(e){return e.blob()}).then(function(e){we.a.saveAs(e,t)})},a.saveDocument=function(){if(a.validator.allValid()){var e=new FormData;e.append("id_invoice",a.props.id_invoice),e.append("name",a.state.name),e.append("remark",a.state.remark),e.append("files",a.state.selectedFile),fetch(V,{method:"POST",body:e}).then(function(e){e.json(),a.loadDocumentsList(a.props.id_invoice),a.setState({name:"",remark:"",selectedFile:null})})}else a.validator.showMessages(),a.forceUpdate()},a.state={remark:"",name:"",arrDocs:[{id_doc:"0",doc:"--Select"},{id_doc:"1",doc:"Document 1"},{id_doc:"2",doc:"Document 2"},{id_doc:"3",doc:"Document 3"}],arrTable:[],selectedFile:null},a.onChangeName=a.onChangeName.bind(Object(g.a)(Object(g.a)(a))),a.onChangeRemark=a.onChangeRemark.bind(Object(g.a)(Object(g.a)(a))),a.onFileSelect=a.onFileSelect.bind(Object(g.a)(Object(g.a)(a))),a.validator=new ge.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadDocumentsList(e)}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeRemark",value:function(e){this.setState({remark:e.target.value})}},{key:"onFileSelect",value:function(e){console.log(JSON.stringify(e.target.files)),this.setState({selectedFile:e.target.files[0]})}},{key:"render",value:function(){var e=this,t=this.state.arrTable.map(function(t,a){return r.a.createElement(ke,{tbl:t,arrDocs:e.state.arrDocs,delDoc:e.delDoc,getDoc:e.docDownload})});return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"40%"}},r.a.createElement("select",{class:"form-control",onChange:this.onChangeName,value:this.state.name},this.state.arrDocs.map(function(e){return r.a.createElement("option",null,e.doc)}))),r.a.createElement("th",{style:{width:"10%"}},r.a.createElement("input",{type:"text",onChange:this.onChangeRemark,value:this.state.remark,class:"form-control"})),r.a.createElement("th",{style:{width:"30%"}},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",onChange:this.onFileSelect}),r.a.createElement("label",{class:"custom-file-label",for:"exampleInputFile"},this.state.selectedFile?this.state.selectedFile.name:"Choose file"))),r.a.createElement("th",null,r.a.createElement("button",{type:"button",class:"btn btn-block btn-outline-success btn-flat",onClick:this.saveDocument},r.a.createElement("i",{class:"fas fa-plus"})))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Documents"),r.a.createElement("th",{style:{width:"30%"}},"Remarks"),r.a.createElement("th",null),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,t)))))))))}}]),t}(n.Component),ke=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tbl;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name," "),r.a.createElement("td",{colSpan:"2"},t.remarks),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.getDoc(t.id_document,t.file)},class:"btn btn-outline-success"},r.a.createElement("i",{class:"fas fa-download"})),r.a.createElement("button",{type:"button",onClick:function(){return e.props.delDoc(t.id_document)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(n.Component),De=Oe,Se=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadInvLabourItem=function(e){fetch(M+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({LabourItems:e})})},a.loadInvPackingList=function(e){fetch(B+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({packItems:e})})},a.loadInvPackingExp=function(e){fetch(G+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({ExpenseItems:e})})},a.state={LabourItems:[],packItems:[],ExpenseItems:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadInvLabourItem(e),this.loadInvPackingExp(e),this.loadInvPackingList(e)}},{key:"render",value:function(){var e=this.state.packItems.map(function(e,t){return r.a.createElement(_e,{packItem:e,rowIndex:t})}),t=this.state.LabourItems.map(function(e,t){return r.a.createElement(Ie,{LabourItem:e,rowIndex:t})}),a=this.state.ExpenseItems.map(function(e,t){return r.a.createElement(Le,{ExpenseItem:e,rowIndex:t})}),n=this.state.packItems.reduce(function(e,t){return+e+ +t.kg},0),c=this.state.LabourItems.reduce(function(e,t){return+e+ +t.amount},0),l=this.state.ExpenseItems.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Packing List")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"No"),r.a.createElement("th",{style:{width:"50%"}},"Items"),r.a.createElement("th",{style:{width:"30%"}},"Kg"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null),r.a.createElement("th",null,"Net Weight"),r.a.createElement("th",{align:"right"},n))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Labour")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"50%"}},"Amount"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},c))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Other Expenses")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Expense"),r.a.createElement("th",{style:{width:"50%"}},"Amount"))),r.a.createElement("tbody",null,a),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},l))))))))))}}]),t}(n.Component),_e=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.packItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.pack_no),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.kg))}}]),t}(r.a.Component),Ie=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.LabourItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.account_head),r.a.createElement("td",null,e.amount))}}]),t}(r.a.Component),Le=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.ExpenseItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.account_head),r.a.createElement("td",null,e.amount))}}]),t}(r.a.Component),xe=Se,Te=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadProducts=function(){fetch(ce).then(function(e){return e.json()}).then(function(e){a.setState({products:[{id_product:0,name:"SELECT"}].concat(Object(d.a)(e))})})},a.loadInvoiceDt=function(e){fetch(S+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({invoice_no:e[0].invoice_no,date:e[0].date,order_no:e[0].order_no,buyer_date:e[0].buyer_date,consigner:e[0].consigner,consignee:e[0].consignee,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address,other:e[0].other,buyer:e[0].buyer,country_origin:e[0].country_origin,country_final:e[0].country_final,pre_carriage:e[0].pre_carriage,receipt_place:e[0].receipt_place,vessel_no:e[0].vessel_no,port_load:e[0].port_load,port_discharge:e[0].port_discharge,final_destination:e[0].final_destination,marks:e[0].marks,container_no:e[0].container_no,awb_no:e[0].awb_no,terms:e[0].terms,conversion_rate:e[0].conversion_rate,status:e[0].status,discount:e[0].discount,invItems:e[0].items||[]},function(){a.props.setInvoiceNo(a.state.invoice_no)})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.saveInvoice=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_no:a.state.invoice_no,order_no:a.state.order_no,date:a.formatDate(a.state.date),buyer_date:a.formatDate(a.state.buyer_date),consigner:a.state.consigner,consignee:a.state.consignee,consigner_address:a.state.consigner_address,consignee_address:a.state.consignee_address,other:a.state.other,buyer:a.state.buyer,country_origin:a.state.country_origin,country_final:a.state.country_final,pre_carriage:a.state.pre_carriage,receipt_place:a.state.receipt_place,vessel_no:a.state.vessel_no,port_load:a.state.port_load,port_discharge:a.state.port_discharge,final_destination:a.state.final_destination,marks:a.state.marks,container_no:a.state.container_no,awb_no:a.state.awb_no,terms:a.state.terms,items:a.state.invItems,id_invoice:a.props.id_invoice,conversion_rate:a.state.conversion_rate,status:a.state.status,discount:a.state.discount})};fetch(D,e).then(function(e){return e.json()}).then(function(e){e.isUpdate||a.setState({id_invoice:e.id_invoice,redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.renderRedirect=function(){if(a.state.redirect)return a.setState({redirect:!1}),r.a.createElement(o.a,{to:"./invoice/".concat(a.state.id_invoice)})},a.handleChangeDate=function(e){return a.setState({date:e})},a.handleChangeBuyerDate=function(e){return a.setState({buyer_date:e})},a.handleChangeKg=function(e,t){var n=a.state.invItems,r=n[t];r.kg=e.target.value,n[t]=r,a.setState({invItems:n})},a.handleChangeBox=function(e,t){var n=a.state.invItems,r=n[t];r.box=e.target.value,n[t]=r,a.setState({invItems:n})},a.handleChangeProduct=function(e,t){var n=a.state.invItems,r=n[t];r.id_product=e.target.value,n[t]=r,a.setState({invItems:n})},a.delRow=function(e){var t=a.state.invItems;t.splice(e,1),a.setState({invItems:t})},a.addRow=function(e){var t=a.state.invItems,n={id_product:e.target.value,kg:"",box:""};t.push(n),a.setState({invItems:t})},a.state={arrInv:[],id:null,title:"Table",data:null,date:new Date,products:[],invoice:[],invoice_no:"",order_no:"",buyer_date:new Date,consigners:[],consignees:[],consigner:a.props.data&&a.props.data.consigner,consignee:"",consigner_address:a.props.data&&a.props.data.consigner_address,consignee_address:"",other:"",buyer:"",country_origin:"",country_final:"",pre_carriage:"",receipt_place:"",vessel_no:"",port_load:"",port_discharge:"",final_destination:"",marks:"",container_no:"",awb_no:"",terms:"",conversion_rate:"",status:"Waiting Approval",discount:"",arrProducts:[],invItems:[],places:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"INDIA"},{Id_place:2,Place:"KSA"},{Id_place:3,Place:"US"}],statusTypes:[{status:"Waiting Approval"},{status:"Packing"},{status:"Shipped"},{status:"Cancelled"}]},a.handleChangeDate=a.handleChangeDate.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeBuyerDate=a.handleChangeBuyerDate.bind(Object(g.a)(Object(g.a)(a))),a.validator=new ge.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.props.id_rough_invoice&&this.loadRoughInvoice(this.props.id_rough_invoice),this.loadProducts(),this.loadConsigners(),this.loadConsignees(),0!=e&&this.loadInvoiceDt(e)}},{key:"loadRoughInvoice",value:function(e){var t=this;fetch(O+"/"+e).then(function(e){return e.json()}).then(function(e){e.length>0&&t.setState({consignee:e[0].consignee,consigner:e[0].consigner,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address})})}},{key:"loadConsigners",value:function(){var e=this,t=Ee;fetch("".concat(q,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consigners:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(d.a)(t))})})}},{key:"loadConsignees",value:function(){var e=this,t=ve;fetch("".concat(q,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consignees:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(d.a)(t))})})}},{key:"loadLedgerAddress",value:function(e,t){var a=this;fetch("".concat(U,"/").concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&("CONSIGNER"==t?a.setState({consigner_address:e[0].address}):a.setState({consignee_address:e[0].address}))})}},{key:"handleChangeInvoiceNo",value:function(e){this.setState({invoice_no:e.target.value})}},{key:"handleChangeOrderNo",value:function(e){this.setState({order_no:e.target.value})}},{key:"handleChangeConsignee",value:function(e){this.setState({consignee:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNEE")}},{key:"handleChangeConsigner",value:function(e){this.setState({consigner:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNER")}},{key:"handleChangeConsigneeAddress",value:function(e){this.setState({consignee_address:e.target.value})}},{key:"handleChangeConsignerAddress",value:function(e){this.setState({consigner_address:e.target.value})}},{key:"handleChangeOther",value:function(e){this.setState({other:e.target.value})}},{key:"handleChangeBuyer",value:function(e){this.setState({buyer:e.target.value})}},{key:"handleChangeCountryOrigin",value:function(e){this.setState({country_origin:e.target.value})}},{key:"handleChangeCountryFinal",value:function(e){this.setState({country_final:e.target.value})}},{key:"handleChangePreCarriage",value:function(e){this.setState({pre_carriage:e.target.value})}},{key:"handleChangeReceiptPlace",value:function(e){this.setState({receipt_place:e.target.value})}},{key:"handleChangeVesselNo",value:function(e){this.setState({vessel_no:e.target.value})}},{key:"handleChangePortLoad",value:function(e){this.setState({port_load:e.target.value})}},{key:"handleChangePortDischarge",value:function(e){this.setState({port_discharge:e.target.value})}},{key:"handleChangeFinalDest",value:function(e){this.setState({final_destination:e.target.value})}},{key:"handleChangeMarks",value:function(e){this.setState({marks:e.target.value})}},{key:"handleChangeContainerNo",value:function(e){this.setState({container_no:e.target.value})}},{key:"handleChangeAwbNo",value:function(e){this.setState({awb_no:e.target.value})}},{key:"handleChangeTerms",value:function(e){this.setState({terms:e.target.value})}},{key:"handleChangeConversionRate",value:function(e){this.setState({conversion_rate:e.target.value})}},{key:"handleChangeStatus",value:function(e){this.setState({status:e.target.value})}},{key:"handleChangeDiscount",value:function(e){this.setState({discount:e.target.value})}},{key:"render",value:function(){var e,t=this,a=this.state.invItems.map(function(e,a){return r.a.createElement(Pe,{handleChangeKg:t.handleChangeKg,handleChangeBox:t.handleChangeBox,handleChangeProduct:t.handleChangeProduct,delRow:t.delRow,invItem:e,rowIndex:a,products:t.state.products})}),n=this.state.invItems.reduce(function(e,t){return+e+ +t.kg*t.box},0),c=this.state.invItems.reduce(function(e,t){return+e+ +t.box},0),l=this.state.invItems.reduce(function(e,t){return+e+ +t.kg},0);return r.a.createElement("div",null,this.renderRedirect(),r.a.createElement("section",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("form",{role:"form"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice No"),r.a.createElement("input",{type:"text",value:this.state.invoice_no,onChange:function(e){return t.handleChangeInvoiceNo(e)},class:"form-control"}),this.validator.message("invoice_no",this.state.invoice_no,"required"))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice Date"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(C.a,{className:"form-control",value:this.state.date,format:"dd/MM/yyyy",onChange:this.handleChangeDate}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer's Order No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeOrderNo(e)},value:this.state.order_no,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer's Date"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(C.a,{className:"form-control",onChange:this.handleChangeBuyerDate,value:this.state.buyer_date,format:"dd/MM/yyyy"}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Other reference(s)"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeOther(e)},class:"form-control",value:this.state.other})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer (If other than consignee)"),r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeBuyer(e)},class:"form-control",value:this.state.buyer}))),r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Country of origin of goods"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCountryOrigin(e)},value:this.state.country_origin},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Country of final destination"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCountryFinal(e)},value:this.state.country_final},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Terms of delivery and payment"),r.a.createElement("textarea",(e={type:"text",onChange:function(e){return t.handleChangeTerms(e)},class:"form-control"},Object(b.a)(e,"onChange",function(e){return t.handleChangeTerms(e)}),Object(b.a)(e,"value",this.state.terms),Object(b.a)(e,"rows",2.8),e))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"AWB No."),r.a.createElement("input",{type:"text",class:"form-control",onChange:function(e){return t.handleChangeAwbNo(e)},value:this.state.awb_no})))))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-primary"},r.a.createElement("form",{role:"form"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consigner"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeConsigner(e)},value:this.state.consigner},this.state.consigners.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeConsignerAddress(e)},value:this.state.consigner_address,class:"form-control",rows:4})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consignee"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeConsignee(e)},value:this.state.consignee},this.state.consignees.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeConsigneeAddress(e)},value:this.state.consignee_address,class:"form-control",rows:4})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Pre-Carriage by"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangePreCarriage(e)},value:this.state.pre_carriage,class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Place of receipt by Pre-Carrier"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeReceiptPlace(e)},value:this.state.receipt_place,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Vessel/Flight No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeVesselNo(e)},value:this.state.vessel_no,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of loading"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangePortLoad(e)},value:this.state.port_load},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of discharge"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangePortDischarge(e)},value:this.state.port_discharge},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Final destination"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeFinalDest(e)},value:this.state.final_destination},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Marks & No.s"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeMarks(e)},value:this.state.marks,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Container No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeContainerNo(e)},value:this.state.container_no,class:"form-control"})))))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Description of goods"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"20%"}},"Amount(USD)"),r.a.createElement("th",{style:{width:"10%"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,a,r.a.createElement(Ve,{products:this.state.products,addRow:this.addRow})),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null,l),r.a.createElement("th",null,c),r.a.createElement("th",{align:"right"},n),r.a.createElement("th",null))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("label",null,"Discount"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeDiscount(e)},value:this.state.discount,class:"form-control"})))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-4"},r.a.createElement("label",null,"Status"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeStatus(e)},value:this.state.status},this.state.statusTypes.map(function(e){return r.a.createElement("option",{value:e.status},e.status)}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("label",null,"Conversion Rate"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeConversionRate(e)},value:this.state.conversion_rate,class:"form-control"})))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:this.saveInvoice,type:"submit",class:"btn btn-primary"},"Save Invoice")))))))}}]),t}(n.Component),Pe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleChangeKg=function(e){a.props.handleChangeKg(e,a.props.rowIndex)},a.handleChangeBox=function(e){a.props.handleChangeBox(e,a.props.rowIndex)},a.handleChangeProduct=function(e){a.props.handleChangeProduct(e,a.props.rowIndex)},a.delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeKg(t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeBox(t)}})),r.a.createElement("td",{align:"right"},a),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRow,class:"btn btn-block btn-outline-danger btn-flat"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(n.Component),Ne=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).setTab=function(e){a.setState({currentTab:e})},a.setInvoiceNo=function(e){a.setState({invoice_no:e})},a.state={currentTab:0,invoice_no:0},a.setTab=a.setTab.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.match.params)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("div",{class:"card card-primary card-outline card-outline-tabs"},r.a.createElement("div",{class:"card-header p-0 border-bottom-0"},r.a.createElement("ul",{class:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(0)},class:"nav-link active",id:"custom-tabs-three-home-tab","data-toggle":"pill",href:"#custom-tabs-three-home",role:"tab","aria-controls":"custom-tabs-three-home","aria-selected":"true"},"Invoice ",0!=this.props.match.params.id&&"No. ".concat(this.state.invoice_no)," ")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(1)},class:"nav-link",id:"custom-tabs-three-profile-tab","data-toggle":"pill",href:"#custom-tabs-three-profile",role:"tab","aria-controls":"custom-tabs-three-profile","aria-selected":"false"},"Documents")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(2)},class:"nav-link",id:"custom-tabs-three-messages-tab","data-toggle":"pill",href:"#custom-tabs-three-messages",role:"tab","aria-controls":"custom-tabs-three-messages","aria-selected":"false"},"Expenses")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(3)},class:"nav-link",id:"custom-tabs-three-settings-tab","data-toggle":"pill",href:"#custom-tabs-three-settings",role:"tab","aria-controls":"custom-tabs-three-settings","aria-selected":"false"},"Net Report")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(4)},class:"nav-link",id:"custom-tabs-three-packing-tab","data-toggle":"pill",href:"#custom-tabs-three-packing",role:"tab","aria-controls":"custom-tabs-three-packing","aria-selected":"false"},"Packing ")))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"tab-content",id:"custom-tabs-three-tabContent"},r.a.createElement("div",{class:"tab-pane fade active show",id:"custom-tabs-three-home",role:"tabpanel","aria-labelledby":"custom-tabs-three-home-tab"},0==this.state.currentTab?r.a.createElement(Te,{id_invoice:this.props.match.params.id,id_rough_invoice:this.props.match.params.id_rough_invoice,setInvoiceNo:this.setInvoiceNo}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-profile",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab"},1==this.state.currentTab?r.a.createElement(De,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-messages",role:"tabpanel","aria-labelledby":"custom-tabs-three-messages-tab"},2==this.state.currentTab?r.a.createElement(ye,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-settings",role:"tabpanel","aria-labelledby":"custom-tabs-three-settings-tab"},3==this.state.currentTab?r.a.createElement(Ce,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-packing",role:"tabpanel","aria-labelledby":"custom-tabs-three-packing-tab"},4==this.state.currentTab?r.a.createElement(xe,Object.assign({id_invoice:this.props.match.params.id},this.props)):r.a.createElement("div",null)))))))}}]),t}(n.Component),Ve=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).addRow=function(e){a.props.addRow(e)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.addRow(t)},value:0},this.props.products.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",{align:"right"}),r.a.createElement("td",null," "))}}]),t}(n.Component),Re=Ne,Ae=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadInvoiceDt=function(e){fetch(O+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({date:e[0].date,port_load:e[0].port_load,consigner:e[0].consigner,consignee:e[0].consignee,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address,invItems:e[0].items||[]})})},a.loadProducts=function(){fetch(ce).then(function(e){return e.json()}).then(function(e){return a.setState({products:[{id_product:0,name:"SELECT"}].concat(Object(d.a)(e))})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.saveInvoice=function(e){if(a.validator.allValid()){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),consigner:a.state.consigner,consignee:a.state.consignee,consigner_address:a.state.consigner_address,consignee_address:a.state.consignee_address,port_load:a.state.port_load,items:a.state.invItems,id_rough_invoice:a.props.match.params.id_rough_invoice})};fetch(w,t).then(function(t){t.json(),"BACK"==e?a.setState({redirect:!0}):a.setState({redirectToInvoice:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.onDateChange=function(e){return a.setState({date:e})},a.handleChangeKg=function(e,t){var n=a.state.invItems,r=n[t];r.kg=e.target.value,n[t]=r,a.setState({invItems:n})},a.handleChangeBox=function(e,t){var n=a.state.invItems,r=n[t];r.box=e.target.value,n[t]=r,a.setState({invItems:n})},a.handleChangeProduct=function(e,t){var n=a.state.invItems,r=n[t];r.id_product=e.target.value,n[t]=r,a.setState({invItems:n})},a.delRow=function(e){var t=a.state.invItems;t.splice(e,1),a.setState({invItems:t})},a.addRow=function(e){var t=a.state.invItems,n={id_product:e.target.value,kg:"",box:""};t.push(n),a.setState({invItems:t})},a.state={data:null,title:"Table",date:new Date,port_load:"",consigners:[],consignees:[],consigner:"",consignee:"",consigner_address:"",consignee_address:"",products:[],invItems:[],redirectToInvoice:!1,places:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"INDIA"},{Id_place:2,Place:"KSA"},{Id_place:3,Place:"US"}]},a.onDateChange=a.onDateChange.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeConsignee=a.handleChangeConsignee.bind(Object(g.a)(Object(g.a)(a))),a.handleChangeConsigner=a.handleChangeConsigner.bind(Object(g.a)(Object(g.a)(a))),a.handleChangePortLoad=a.handleChangePortLoad.bind(Object(g.a)(Object(g.a)(a))),a.validator=new ge.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id_rough_invoice;this.loadProducts(),this.loadConsigners(),this.loadConsignees(),0!=e&&this.loadInvoiceDt(e)}},{key:"loadConsigners",value:function(){var e=this,t=Ee;fetch("".concat(q,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consigners:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(d.a)(t))})})}},{key:"loadConsignees",value:function(){var e=this,t=ve;fetch("".concat(q,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consignees:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(d.a)(t))})})}},{key:"loadLedgerAddress",value:function(e,t){var a=this;fetch("".concat(U,"/").concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&("CONSIGNER"==t?a.setState({consigner_address:e[0].address}):a.setState({consignee_address:e[0].address}))})}},{key:"handleChangePortLoad",value:function(e){this.setState({port_load:e.target.value})}},{key:"handleChangeConsignee",value:function(e){this.setState({consignee:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNEE")}},{key:"handleChangeConsigner",value:function(e){this.setState({consigner:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNER")}},{key:"handleChangeConsigneeAddress",value:function(e){this.setState({consignee_address:e.target.value})}},{key:"handleChangeConsignerAddress",value:function(e){this.setState({consigner_address:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.products,a=this.state.invItems.map(function(a,n){return r.a.createElement(Fe,{handleChangeKg:e.handleChangeKg,handleChangeBox:e.handleChangeBox,handleChangeProduct:e.handleChangeProduct,delRow:e.delRow,invItem:a,rowIndex:n,products:t})}),n=this.state.invItems.reduce(function(e,t){return+e+ +t.kg*t.box},0),c=this.state.invItems.reduce(function(e,t){return+e+ +t.box},0),l=this.state.invItems.reduce(function(e,t){return+e+ +t.kg},0),s=this.state,i=s.redirect,u=s.redirectToInvoice;return i?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/roughInvoiceList"})):u?(this.setState({redirectToInvoice:!1}),r.a.createElement(o.a,{to:"/invoice/0/".concat(this.props.match.params.id_rough_invoice)})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Rough Invoice"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"New Rough Invoice")),r.a.createElement("div",{class:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date:"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of loading"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangePortLoad(t)},value:this.state.port_load},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consigner"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeConsigner(t)},value:this.state.consigner},this.state.consigners.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{class:"form-control",onChange:function(t){return e.handleChangeConsignerAddress(t)},value:this.state.consigner_address,rows:"3",placeholder:"Consigner"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consignee"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeConsignee(t)},value:this.state.consignee},this.state.consignees.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{class:"form-control",onChange:function(t){return e.handleChangeConsigneeAddress(t)},value:this.state.consignee_address,rows:"3",placeholder:"Consignee"})))))),r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Invoice")),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"10%"}},"Box"),r.a.createElement("th",{style:{width:"10%"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,a,r.a.createElement(Me,{products:this.state.products,addRow:this.addRow})),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",{align:"right"},n),r.a.createElement("td",null)))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.saveInvoice("BACK")},type:"submit",class:"btn btn-primary"},"Save"),r.a.createElement("button",{onClick:function(){return e.saveInvoice("INVOICE")},type:"submit",class:"btn btn-primary"},"Create Invoice"))))))))))))}}]),t}(n.Component),Fe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleChangeKg=function(e){a.props.handleChangeKg(e,a.props.rowIndex)},a.handleChangeBox=function(e){a.props.handleChangeBox(e,a.props.rowIndex)},a.handleChangeProduct=function(e){a.props.handleChangeProduct(e,a.props.rowIndex)},a.delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeKg(t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeBox(t)}})),r.a.createElement("td",{align:"right"},a),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRow,class:"btn btn-success"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(n.Component),Me=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).addRow=function(e){a.props.addRow(e)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.addRow(t)},value:0},this.props.products.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",{align:"right"}),r.a.createElement("td",null," "))}}]),t}(n.Component),Be=Ae,Ge=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).state={title:"Table",data:null,date:new Date,invItems:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(I).then(function(e){return e.json()}).then(function(t){return e.setState({invItems:t})})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(Ke,{delRow:e.delRow,invItem:t,rowIndex:a})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Invoice"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Invoice"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(u.b,{to:"./invoice/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10%"}},"Inv. No"),r.a.createElement("th",{style:{width:"25%"}},"Date"),r.a.createElement("th",{style:{width:"25%"}},"Consignee"),r.a.createElement("th",{style:{width:"20%"}},"Status"),r.a.createElement("th",{style:{width:"15%"}}))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",{align:"right"})))))))))))}}]),t}(n.Component),Ke=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(c)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a.editRow=function(){a.props.editRow(a.props.rowIndex)},a.getStatus=function(e){return"Waiting Approval"==e?r.a.createElement("span",{class:"badge bg-primary"},"Waiting Approval"):"Packing"==e?r.a.createElement("span",{class:"badge bg-warning"},"Packing"):"Shipped"==e?r.a.createElement("span",{class:"badge bg-success"},"Shipped"):"Cancelled"==e?r.a.createElement("span",{class:"badge bg-danger"},"Cancelled"):void 0},a.getDelBtn=function(e){if(1==e)return r.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"}))},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.invItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.invoice_no),r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.consignee),r.a.createElement("td",null,this.getStatus(e.status)),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"./invoice/"+e.id_invoice,render:function(e){return r.a.createElement(Re,e)}},r.a.createElement("i",{class:"fas fa-edit"})," "),this.getDelBtn(e.status))))}}]),t}(r.a.Component),We=Ge,He=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).state={title:"Table",data:null,date:new Date,invItems:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(k).then(function(e){return e.json()}).then(function(t){return e.setState({invItems:t})})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(Je,{delRow:e.delRow,invItem:t,rowIndex:a})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Rough Invoice"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Rough Invoice"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(u.b,{to:"./roughInvoiceCreate/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"Date"),r.a.createElement("th",null,"Consigner"),r.a.createElement("th",null,"Consignee"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))))))))))}}]),t}(n.Component),Je=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(c)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a.editRow=function(){a.props.editRow(a.props.rowIndex)},a.getStatus=function(e){return 1==e?r.a.createElement("span",{class:"badge bg-primary"},"created"):2==e?r.a.createElement("span",{class:"badge bg-warning"},"certified"):3==e?r.a.createElement("span",{class:"badge bg-success"},"shipped"):void 0},a.getDelBtn=function(e){if(1==e)return r.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"}))},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.consigner),r.a.createElement("td",null,t.consignee),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"./roughInvoiceCreate/"+t.id_rough_invoice,render:function(t){return r.a.createElement(Be,Object.assign({},t,{id_rough_invoice:e.props.match.params.id_rough_invoice}))}},r.a.createElement("i",{class:"fas fa-edit"})," "),this.getDelBtn(t.status))))}}]),t}(r.a.Component),Ye=He,Qe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).delPayroll=function(e){fetch(H+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})});var t=a.formatDate(a.state.date);a.loadVoucherList(t)},a.loadVoucherList=function(e){fetch(W+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})}),console.log(a.state.arrVouchers)},a.saveVoucher=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger:a.state.id_ledger,amount:a.state.amount,type:a.state.type})};fetch(K,e).then(function(e){return e.json()});var t=a.formatDate(a.state.date);a.loadVoucherList(t)}else a.validator.showMessages(),a.forceUpdate()},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateChange=function(e){a.setState({date:e},function(){var e=a.formatDate(a.state.date);a.loadVoucherList(e)})},a.state={data:null,date:new Date,id_ledger:"",type:"",amount:"",ledger:"",arrLedger:[],arrVouchers:[],arrType:[{type:"Allowance"},{type:"Salary"},{type:"Loan"}]},a.onAmountChange=a.onAmountChange.bind(Object(g.a)(Object(g.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(g.a)(Object(g.a)(a))),a.onLedgerChange=a.onLedgerChange.bind(Object(g.a)(Object(g.a)(a))),a.onDateChange=a.onDateChange.bind(Object(g.a)(Object(g.a)(a))),a.validator=new ge.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.date);this.loadAccountHead(),this.loadVoucherList(e)}},{key:"loadAccountHead",value:function(){var e=this,t=de;fetch("".concat(q,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:t})})}},{key:"onTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement($e,{arrVoucher:t,arrLedger:e.state.arrLedger,delPayroll:e.delPayroll})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Payroll"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},r.a.createElement("option",null,"--Select--"),this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger",this.state.id_ledger,"required|numeric"))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)})))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveVoucher},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"40%"}},"Name"),r.a.createElement("th",{style:{width:"30%"}},"Type"),r.a.createElement("th",{style:{width:"30%"}},"Amount"),r.a.createElement("th",null,"hi"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),t}(n.Component),$e=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.props.delPayroll(t.id_payroll)}},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),ze=Qe,Ze=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadLedger=function(e){fetch(U+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({name:e[0].account_head,op:e[0].opening_balance,address:e[0].address,phone:e[0].phone})})},a.saveLedger=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.state.id,name:a.state.name,code:a.state.code,op:a.state.op,address:a.state.address,phone:a.state.phone,id_account_head:a.props.match.params.id_ledger})};fetch(te,e).then(function(e){e.json(),a.setState({redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,id_account_head:"",code:"",id:"",name:"",op:"",address:"",phone:"",arrLedgerGroup:[],redirect:!1},a.onNameChange=a.onNameChange.bind(Object(g.a)(Object(g.a)(a))),a.onIdChange=a.onIdChange.bind(Object(g.a)(Object(g.a)(a))),a.onOpChange=a.onOpChange.bind(Object(g.a)(Object(g.a)(a))),a.onAddressChange=a.onAddressChange.bind(Object(g.a)(Object(g.a)(a))),a.onPhoneChange=a.onPhoneChange.bind(Object(g.a)(Object(g.a)(a))),a.validator=new ge.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup();var e=this.props.match.params.id_ledger;0!=e&&this.loadLedger(e)}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(X).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerGroup:t})})}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onIdChange",value:function(e){this.setState({id:e.target.value})}},{key:"onOpChange",value:function(e){this.setState({op:e.target.value})}},{key:"onAddressChange",value:function(e){this.setState({address:e.target.value})}},{key:"onPhoneChange",value:function(e){this.setState({phone:e.target.value})}},{key:"render",value:function(){return this.state.redirect?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/ledger"})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:this.state.name,onChange:this.onNameChange,class:"form-control"}),this.validator.message("name",this.state.name,"required|alpha_num_space"))),r.a.createElement("div",{class:"col-sm-5"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger Group"),r.a.createElement("select",{class:"form-control",onChange:this.onIdChange,value:this.state.id},r.a.createElement("option",{value:""},"Select"),this.state.arrLedgerGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})),this.validator.message("id",this.state.id,"required|alpha_num_space"))),r.a.createElement("div",{class:"col-sm-1"},r.a.createElement("div",{class:"form-group"},r.a.createElement(u.b,{to:"/ledgerGroup",class:"btn btn-tool btn-sm"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"+"))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Opening Balance"),r.a.createElement("input",{type:"text",value:this.state.op,onChange:this.onOpChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Phone"),r.a.createElement("input",{type:"text",value:this.state.phone,onChange:this.onPhoneChange,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Address"),r.a.createElement("input",{type:"text",value:this.state.address,onChange:this.onAddressChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save"))))))))))))))}}]),t}(n.Component),Xe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadLedgerList=function(e){fetch(ee+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrLedgers:e})})},a.delRow=function(e){var t=a.state.arrLedgers;t.splice(e,1),a.setState({arrLedgers:t})},a.onLedgerGroupChange=function(e){a.setState({ledgerGroup:e.target.value},function(){var e=a.state.ledgerGroup;a.loadLedgerList(e)})},a.state={data:null,ledgerGroup:"",arrLedgerGroup:[],arrLedgers:[]},a.onLedgerGroupChange=a.onLedgerGroupChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.ledgerGroup;this.loadLedgerGroup(),this.loadLedgerList(e)}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(X).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerGroup:t})})}},{key:"render",value:function(){var e=this.state.arrLedgers.map(function(e,t){return r.a.createElement(qe,{arrLedger:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Group"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerGroupChange,value:this.state.ledgerGroup},r.a.createElement("option",{value:""},"All"),")}",this.state.arrLedgerGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})))),r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement(u.b,{to:"./ledgerCreate/0",class:"btn btn-tool btn-sm"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-fla"},"Create"))))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"45%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Phone"),r.a.createElement("th",{style:{width:"30%"}},"Group"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,e))))))))))}}]),t}(n.Component),qe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrLedger;return r.a.createElement("tr",null,r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.phone),r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"./ledgerCreate/"+t.id_account_head,render:function(t){return r.a.createElement(Ze,Object.assign({},t,{id_ledger:e.props.match.params.id_ledger}))},class:"btn btn-tool btn-sm"},r.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-edit"}))))))}}]),t}(r.a.Component),Ue=Xe,et=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadVoucherList=function(e,t){fetch(J+"/'".concat(e,"'")+"/'".concat(t,"'")).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})}),console.log(a.state.arrVouchers)},a.saveVoucher=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger_from:a.state.id_ledger_from,id_ledger_to:a.state.id_ledger_to,description:a.state.description,rate:a.state.rate,amount:a.state.amount,type:a.state.type,voucher_no:a.state.voucher_no,id_invoice:a.state.id_invoice})};fetch(Q,e).then(function(e){e.json();var t=a.formatDate(a.state.date);a.loadVoucherList(t,a.state.type)})}else a.validator.showMessages(),a.forceUpdate()},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateChange=function(e){a.setState({date:e},function(){var e=a.formatDate(a.state.date);a.loadVoucherList(e,a.state.type),a.loadAccountHead()})},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,date:new Date,id_ledger_from:"",id_ledger_to:"",description:"",rate:"",amount:"",type:"Payment",voucher_no:0,id_invoice:0,ledger:"",arrLedgerFrom:[],arrLedgerTo:[],arrVouchers:[],arrType:[{type:"Payment"},{type:"Receipt"},{type:"Transfer"}]},a.onAmountChange=a.onAmountChange.bind(Object(g.a)(Object(g.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(g.a)(Object(g.a)(a))),a.onDescriptionChange=a.onDescriptionChange.bind(Object(g.a)(Object(g.a)(a))),a.onLedgerFromChange=a.onLedgerFromChange.bind(Object(g.a)(Object(g.a)(a))),a.onLedgerToChange=a.onLedgerToChange.bind(Object(g.a)(Object(g.a)(a))),a.onDateChange=a.onDateChange.bind(Object(g.a)(Object(g.a)(a))),a.validator=new ge.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.date),t=this.state.type;this.loadAccountHead(),this.loadVoucherList(e,t)}},{key:"loadAccountHead",value:function(){var e=this,t=me,a=-1*me;"Receipt"==this.state.type?(t=-1*me,a=me+","+Ee+","+ve):"Payment"==this.state.type?(t=me+","+Ee+","+ve,a=-1*me):"Transfer"==this.state.type&&(t=me,a=me),fetch("".concat(ee,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerFrom:t})}),fetch("".concat(ee,"/").concat(a)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerTo:t})})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onTypeChange",value:function(e){var t=this;this.setState({type:e.target.value},function(){t.loadVoucherList(t.formatDate(t.state.date),t.state.type),t.loadAccountHead()})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerFromChange",value:function(e){this.setState({id_ledger_from:e.target.value})}},{key:"onLedgerToChange",value:function(e){this.setState({id_ledger_to:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(tt,{arrVoucher:t,arrLedger:e.state.arrLedger})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Voucher"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)}))))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerFromChange,value:this.state.id_ledger_from},r.a.createElement("option",null,"--Select--"),this.state.arrLedgerFrom.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger_from",this.state.id_ledger_from,"required|numeric"))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerToChange,value:this.state.id_ledger_to},r.a.createElement("option",null,"--Select--"),this.state.arrLedgerTo.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger_to",this.state.id_ledger_to,"required|numeric")))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Remarks"),r.a.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveVoucher},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"From"),r.a.createElement("th",{style:{width:"25%"}},"To"),r.a.createElement("th",{style:{width:"25%"}},"Remarks"),r.a.createElement("th",{style:{width:"25%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),t}(n.Component),tt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).delVoucher=function(e){fetch(Y+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})})},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.acc_from),r.a.createElement("td",null,t.acc_to),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.delVoucher(t.id_account_voucher)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),at=et,nt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadVoucherList=function(e,t,n){fetch($+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})}),a.loadOp(e,t,n)},a.loadOp=function(e,t,n){fetch(z+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({op:e[0].opening_bal})}),console.log(a.state.arrVouchers)},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e})},a.onDateToChange=function(e){a.setState({dateTo:e})},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:0,arrLedger:[],arrVouchers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(g.a)(Object(g.a)(a))),a.onDateFromChange=a.onDateFromChange.bind(Object(g.a)(Object(g.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.dateFrom),t=this.formatDate(this.state.dateTo),a=this.state.id_ledger;this.loadOp(e,t,a),this.loadVoucherList(e,t,a),this.loadAccountHead()}},{key:"loadAccountHead",value:function(){var e=this;fetch(q).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:t})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(rt,{arrVoucher:t,arrLedger:e.state.arrLedger})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.receipt},0),n=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.payment},0),c=-1*this.state.op+n-a,l=c>=0?"".concat(c," DR"):"".concat(-1*c," CR"),o=this.state.op>=0?"".concat(this.state.op," CR"):"".concat(-1*this.state.op," DR");return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement("label",null,"Opening Balance :"),r.a.createElement("label",null,o))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadVoucherList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo),e.state.id_ledger)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Date"),r.a.createElement("th",{style:{width:"15%"}},"Type"),r.a.createElement("th",{style:{width:"20%"}},"Description"),r.a.createElement("th",{style:{width:"10%"}},"Debit"),r.a.createElement("th",{style:{width:"10%"}},"Credit"),r.a.createElement("th",{style:{width:"10%"}},"Balance"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},n),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",{align:"right"},l)))))))))))}}]),t}(n.Component),rt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,e.payment),r.a.createElement("td",null,e.receipt))}}]),t}(r.a.Component),ct=nt,lt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).saveLedger=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ledger:a.state.ledger})};fetch(Z,e).then(function(e){return e.json()}),a.loadLedgerGroup()},a.delRow=function(e){var t=a.state.arrLedgers;t.splice(e,1),a.setState({arrLedgers:t})},a.state={data:null,ledger:"",arrLedgers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup()}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(X).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgers:t})})}},{key:"onLedgerChange",value:function(e){this.setState({ledger:e.target.value})}},{key:"render",value:function(){var e=this.state.arrLedgers.map(function(e,t){return r.a.createElement(ot,{arrLedger:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Ledger Group"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:this.state.ledger,onChange:this.onLedgerChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"100%"}},"Name"))),r.a.createElement("tbody",null,e))))))))))}}]),t}(n.Component),ot=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrLedger;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name))}}]),t}(r.a.Component),st=lt,it=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadCredit=function(e,t,n){fetch(ne+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({arrCreditVouchers:e||[]})})},a.loadDebit=function(e,t,n){fetch(re+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({arrDebitVouchers:e||[]})})},a.loadOp=function(e,t){fetch(ae+"/'".concat(e,"'")+"/".concat(t)).then(function(e){return e.json()}).then(function(e){a.setState({op:e?e[0].balance:0})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e},function(){a.formatDate(a.state.dateFrom),a.formatDate(a.state.dateTo)})},a.onDateToChange=function(e){a.setState({dateTo:e},function(){a.formatDate(a.state.dateFrom),a.formatDate(a.state.dateTo)})},a.onLedgerChange=function(e){a.setState({id_ledger:e.target.value},function(){})},a.loadCashBook=function(){var e=a.formatDate(a.state.dateFrom),t=a.formatDate(a.state.dateTo),n=a.state.id_ledger;a.loadCredit(e,t,n),a.loadDebit(e,t,n),a.loadOp(e,n)},a.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:"",arrLedger:[],arrCreditVouchers:[],arrDebitVouchers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(g.a)(Object(g.a)(a))),a.onDateFromChange=a.onDateFromChange.bind(Object(g.a)(Object(g.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(g.a)(Object(g.a)(a))),a.loadCashBook=a.loadCashBook.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadAccountHead()}},{key:"loadAccountHead",value:function(){var e=this,t=me;fetch("".concat(q,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(d.a)(t))})})}},{key:"render",value:function(){var e=this.state.arrCreditVouchers.map(function(e,t){return r.a.createElement(dt,{arrCredit:e})}),t=this.state.arrDebitVouchers.map(function(e,t){return r.a.createElement(ut,{arrVoucher:e})}),a=this.state.arrCreditVouchers.reduce(function(e,t){return+e+ +t.credit},0),n=this.state.arrDebitVouchers.reduce(function(e,t){return+e+ +t.debit},0),c=this.state.op-n-a;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Cash Book"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.loadCashBook},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Opening Balance :"),r.a.createElement("label",null,this.state.op))))))),r.a.createElement("tbody",null)),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"40%"}},"Name"),r.a.createElement("th",{style:{width:"35%"}},"Particulars"),r.a.createElement("th",{style:{width:"25%"}},"Debit"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},n)))))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"40%"}},"Name"),r.a.createElement("th",{style:{width:"35%"}},"Particulars"),r.a.createElement("th",{style:{width:"25%"}},"Credit"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-footer"},r.a.createElement("label",null,"Balance : ",c)))))))))))))}}]),t}(n.Component),ut=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,e.debit))}}]),t}(r.a.Component),dt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrCredit;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,e.credit))}}]),t}(r.a.Component),mt=it,ht=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).delRow=function(e){var t=a.state.arrProducts;t.splice(e,1),a.setState({arrProducts:t})},a.state={data:null,ledger:"",arrProducts:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup()}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(ce).then(function(e){return e.json()}).then(function(t){return e.setState({arrProducts:t})})}},{key:"render",value:function(){var e=this.state.arrProducts.map(function(e,t){return r.a.createElement(Et,{arrProduct:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Products"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Purchase Price"),r.a.createElement("th",{style:{width:"25%"}},"Selling Price"))),r.a.createElement("tbody",null,e))))))))))}}]),t}(n.Component),Et=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrProduct;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.purchase_price),r.a.createElement("td",null,e.selling_price))}}]),t}(r.a.Component),vt=ht,pt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadVoucherList=function(e){fetch(se+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({date:e[0].date,voucher_no:e[0].voucher_no,ledger:e[0].account_head,op:e[0]._old_balance})})},a.loadVoucherItemsList=function(e){fetch(ie+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVoucherItems:e})})},a.loadVoucherExpList=function(e){fetch(ue+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVoucherExps:e})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,date:"",voucher_no:"",op:"",ledger:"",arrVouchers:[],arrVoucherItems:[],arrVoucherExps:[],arrVoucherTotals:[]},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.voucher_no;this.loadVoucherList(e),this.loadVoucherItemsList(e),this.loadVoucherExpList(e)}},{key:"render",value:function(){var e=this.state.arrVoucherItems.map(function(e,t){return r.a.createElement(gt,{arrVoucher:e})}),t=this.state.arrVoucherExps.map(function(e,t){return r.a.createElement(ft,{arrVoucherExp:e})}),a=(this.state.arrVoucherTotals.map(function(e,t){return r.a.createElement(bt,{arrVoucher:e})}),this.state.arrVoucherItems.reduce(function(e,t){return+e+ +t.total},0)),n=this.state.arrVoucherExps.reduce(function(e,t){return+e+ +t.amount},0),c=a+n,l=c+this.state.op;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Purchase Voucher"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Voucher No :"),r.a.createElement("label",null,this.state.voucher_no))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date :"),r.a.createElement("label",null,this.state.date)))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Party : "),r.a.createElement("label",null,this.state.ledger)))),r.a.createElement("div",{class:"row"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"No"),r.a.createElement("th",{style:{width:"20%"}},"Item"),r.a.createElement("th",{style:{width:"25%"}},"Kg"),r.a.createElement("th",{style:{width:"25%"}},"Price"),r.a.createElement("th",{style:{width:"25%"}},"Total"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"65%"}},"Expense"),r.a.createElement("th",{style:{width:"35%"}},"Amount"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},n)))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Total "),r.a.createElement("td",{style:{fontWeight:"bold"}},a)),r.a.createElement("tr",null,r.a.createElement("td",null,"Expense "),r.a.createElement("td",{style:{fontWeight:"bold"}},n)),r.a.createElement("tr",null,r.a.createElement("td",null,"Net "),r.a.createElement("td",{style:{fontWeight:"bold"}},c)),r.a.createElement("tr",null,r.a.createElement("td",null,"OB"),r.a.createElement("td",{style:{fontWeight:"bold"}},this.state.op)),r.a.createElement("tr",null,r.a.createElement("td",null,"total"),r.a.createElement("td",{style:{fontWeight:"bold"}},l))))))))))))}}]),t}(n.Component),gt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.unit_price),r.a.createElement("td",null,e.total))}}]),t}(r.a.Component),ft=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucherExp;return r.a.createElement("tr",null,r.a.createElement("td",null,e.expense),r.a.createElement("td",null,e.amount))}}]),t}(r.a.Component),bt=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state.arrVoucherItems.reduce(function(e,t){return+e+ +t.total},0),t=this.state.arrVoucherExps.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("tr",null,r.a.createElement("td",null,"Total  :",e),r.a.createElement("td",null,"Expense :",t),r.a.createElement("td",null))}}]),t}(r.a.Component),yt=pt,Ct=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadVoucherList=function(e,t){fetch(oe+"/'".concat(e,"'")+"/'".concat(t,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e})},a.onDateToChange=function(e){a.setState({dateTo:e})},a.state={data:null,dateFrom:new Date,dateTo:new Date,arrVouchers:[]},a.onDateFromChange=a.onDateFromChange.bind(Object(g.a)(Object(g.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.dateFrom),t=this.formatDate(this.state.dateTo);this.loadVoucherList(e,t)}},{key:"render",value:function(){var e=this.state.arrVouchers.map(function(e,t){return r.a.createElement(jt,{arrVoucher:e})}),t=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Purchase Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.loadVoucherList(this.formatDate(this.state.dateFrom),this.formatDate(this.state.dateTo))},"Search"))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"V. No"),r.a.createElement("th",{style:{width:"20%"}},"Date"),r.a.createElement("th",{style:{width:"40%"}},"Party"),r.a.createElement("th",{style:{width:"20%"}},"Kg"),r.a.createElement("th",{style:{width:"20%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},t),r.a.createElement("th",null)))))))))))}}]),t}(n.Component),jt=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.voucher_no),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"purchaseVoucher/"+t.voucher_no,render:function(t){return r.a.createElement(yt,Object.assign({},t,{voucher_no:e.props.match.params.voucher_no}))}},r.a.createElement("i",{class:"fas fa-edit"})))))}}]),t}(r.a.Component),wt=Ct,Ot=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(E.a)(this,Object(v.a)(t).call(this,e))).loadStockList=function(e){fetch(le+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})}),console.log(a.state.arrVouchers)},a.state={data:null,id_product:"",type:"",arrProducts:[],arrVouchers:[],arrType:[{type:"FISH"},{type:"PACKING MATERIAL"},{type:"OTHER"}]},a.onProductChange=a.onProductChange.bind(Object(g.a)(Object(g.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(g.a)(Object(g.a)(a))),a.validator=new ge.a,a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.arrType[0].type;this.loadProduct(),this.loadStockList(e)}},{key:"loadProduct",value:function(){var e=this;fetch(ce).then(function(e){return e.json()}).then(function(t){e.setState({arrProducts:t})})}},{key:"onProductChange",value:function(e){this.setState({id_product:e.target.value},function(){})}},{key:"onTypeChange",value:function(e){this.setState({type:e.target.value},function(){})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return r.a.createElement(kt,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.rate*t.stock},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(f,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Stock Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)})))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadStockList(e.state.id_product,e.state.type)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Product"),r.a.createElement("th",{style:{width:"25%"}},"Stock"),r.a.createElement("th",{style:{width:"25%"}},"Amount"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a)))))))))))}}]),t}(n.Component),kt=function(e){function t(){return Object(m.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.product," ",e.unit),r.a.createElement("td",null,e.stock),r.a.createElement("td",null,e.rate*e.stock))}}]),t}(r.a.Component),Dt=Ot;function St(){return r.a.createElement(u.a,null,r.a.createElement(o.b,{path:"/roughInvoiceCreate/:id_rough_invoice",component:Be}),r.a.createElement(o.b,{path:"/invoice/:id/:id_rough_invoice?",component:Re}),r.a.createElement(o.b,{path:"/invoiceList",component:We}),r.a.createElement(o.b,{path:"/roughInvoiceList",component:Ye}),r.a.createElement(o.b,{path:"/",exact:!0,component:We}),r.a.createElement(o.b,{path:"/voucher",exact:!0,component:at}),r.a.createElement(o.b,{path:"/payroll",exact:!0,component:ze}),r.a.createElement(o.b,{path:"/ledgerReport",exact:!0,component:ct}),r.a.createElement(o.b,{path:"/ledger",exact:!0,component:Ue}),r.a.createElement(o.b,{path:"/ledgerCreate/:id_ledger",exact:!0,component:Ze}),r.a.createElement(o.b,{path:"/ledgerGroup",exact:!0,component:st}),r.a.createElement(o.b,{path:"/cashBook",exact:!0,component:mt}),r.a.createElement(o.b,{path:"/product",exact:!0,component:vt}),r.a.createElement(o.b,{path:"/purchaseVoucher/:voucher_no",exact:!0,component:yt}),r.a.createElement(o.b,{path:"/purchaseReport",exact:!0,component:wt}),r.a.createElement(o.b,{path:"/stockReport",exact:!0,component:Dt}))}var _t=function(){return r.a.createElement(o.c,{history:i},r.a.createElement(St,null))};l.a.render(r.a.createElement(_t,null),document.getElementById("root"))}},[[37,2,1]]]);
//# sourceMappingURL=main.3721d60b.chunk.js.map