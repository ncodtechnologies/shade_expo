(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){e.exports=a.p+"static/media/Roboto-Bold.e07df86c.ttf"},285:function(e,t,a){e.exports=a(453)},312:function(e,t){},314:function(e,t){},350:function(e,t){},351:function(e,t){},450:function(e,t,a){e.exports=a.p+"static/media/Roboto-BoldItalic.5b44818d.ttf"},453:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(168),c=a.n(l),o=a(129),s=a(49),i=Object(s.a)(),d=a(26),u=a(89),m=a(46),h=a(8),E=a(9),g=a(11),f=a(10),v=a(12),p=a(5),b=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){}},{key:"logOut",value:function(){localStorage.clear(),window.location.reload()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{class:"main-header navbar navbar-expand navbar-white navbar-light"},r.a.createElement("ul",{class:"navbar-nav"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link","data-widget":"pushmenu",href:"#"},r.a.createElement("i",{class:"fas fa-bars"}))),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(d.b,{to:"/product",className:"nav-link"},"Product")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(d.b,{to:"/login",className:"nav-link"},"Login")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(d.b,{to:"/users",className:"nav-link"},"Users")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(d.b,{to:"/invoiceList",className:"nav-link"},"Invoices")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(d.b,{to:"/voucher",className:"nav-link"},"Voucher"))),r.a.createElement("ul",{class:"navbar-nav ml-auto"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link",href:"#",onClick:function(){return e.logOut()}},"Log Out")))),r.a.createElement("aside",{class:"main-sidebar sidebar-dark-primary elevation-4"},r.a.createElement("a",{href:"index3.html",class:"brand-link"},r.a.createElement("img",{src:"dist/img/AdminLTELogo.png",alt:"AdminLTE Logo",class:"brand-image img-circle elevation-3"}),r.a.createElement("span",{class:"brand-text font-weight-light"},"Aquasign")),r.a.createElement("div",{class:"sidebar"},r.a.createElement("div",{class:"user-panel mt-3 pb-3 mb-3 d-flex"},r.a.createElement("div",{class:"image"},r.a.createElement("img",{src:"dist/img/user2-160x160.jpg",class:"img-circle elevation-2",alt:"User Image"})),r.a.createElement("div",{class:"info"},r.a.createElement("a",{href:"#",class:"d-block"},"Admin"))),r.a.createElement("nav",{class:"mt-2"},r.a.createElement("ul",{class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},r.a.createElement("li",{class:"nav-item has-treeview"},r.a.createElement(d.c,{to:"/accounts",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Master")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/ledger",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Ledger"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/product",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Product"))))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/roughInvoiceList",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Rough Invoices"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/invoiceList",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Invoices"))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(d.c,{to:"/purchase",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Purchase")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/purchaseReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Purchase Report"))))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(d.c,{to:"/accounts",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Accounts")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/voucher",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Voucher"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/ledgerReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Ledger Report"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/cashBook",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Cash Book"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/sundryCreditor",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Sundry Creditor"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/sundryDebtor",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Sundry Debtor"))))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/stockReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Stock Report"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/notification",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Notification"))))))))}}]),t}(n.Component),y=a(40),C=a.n(y),w="http://198.12.251.14:3000/",j="".concat(w,"login/login"),k="".concat(w,"login/users"),O=("".concat(w,"login/users"),"".concat(w,"login/userDel")),S="".concat(w,"login/userEdit"),I="".concat(w,"login/userList"),D="".concat(w,"invoice/roughInvoice"),x="".concat(w,"invoice/roughInvoice"),P="".concat(w,"invoice/roughInvoice/airway"),T="".concat(w,"invoice/roughInvoiceList"),_="".concat(w,"invoice/invoice"),L="".concat(w,"invoice/invoice"),N="".concat(w,"invoice/invoice"),R="".concat(w,"invoice/invoiceList"),A="".concat(w,"invoice/invoice/expense"),V="".concat(w,"invoice/invoice/expense"),F="".concat(w,"invoice/invoice/frightExp"),B="".concat(w,"invoice/invoice/expenseDel"),M="".concat(w,"invoice/invoice/netSalesTotal"),G="".concat(w,"invoice/invoice/netOtherExp"),z="".concat(w,"invoice/invoice/documents"),H="".concat(w,"invoice/invoice/documentsList"),K="".concat(w,"invoice/invoice/documentsDel"),U="".concat(w,"invoice/invoice/getDoc"),W="".concat(w,"invoice/invoice/invLabour"),J="".concat(w,"invoice/invoice/invPacking"),Y="".concat(w,"invoice/invoice/invPackingExp"),Q=("".concat(w,"invoice/docs"),"".concat(w,"payroll/payroll")),$="".concat(w,"payroll/payroll"),X="".concat(w,"payroll/payrollDel"),Z="".concat(w,"accounts/voucher"),q="".concat(w,"accounts/voucherDel"),ee="".concat(w,"accounts/accounts/voucher"),te="".concat(w,"accounts/sundryCreditor"),ae="".concat(w,"accounts/sundryDebtor"),ne="".concat(w,"accounts/ledgerEdit"),re="".concat(w,"accounts/ledgerReport"),le="".concat(w,"accounts/ledgerReportOp"),ce="".concat(w,"accounts/ledgerGroup"),oe="".concat(w,"accounts/ledgerGroup"),se="".concat(w,"accounts/ledger"),ie="".concat(w,"accounts/ledger"),de="".concat(w,"accounts/ledgerCreate"),ue=("".concat(w,"accounts/ledgerCreate"),"".concat(w,"accounts/cashBookOp")),me="".concat(w,"accounts/cashBookCredit"),he="".concat(w,"accounts/cashBookDebit"),Ee="".concat(w,"product/product"),ge="".concat(w,"product/stockReport"),fe="".concat(w,"purchase/purchaseReport"),ve="".concat(w,"purchase/purchaseVoucher"),pe="".concat(w,"purchase/purchaseVoucherItems"),be="".concat(w,"purchase/purchaseVoucherExpense"),ye="".concat(w,"notification/notification"),Ce="".concat(w,"notification/notification"),we="".concat(w,"notification/notificationDel"),je=3,ke=5,Oe=6,Se=7,Ie=8,De=a(43),xe=a.n(De),Pe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.delExpense=function(e){fetch(B+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrExpenses:e})});var t=a.props.id_invoice;a.loadExpenseList(t)},a.loadExpenseList=function(e){fetch(V+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrExpenses:e})})},a.saveInvoice=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger_to:a.state.id_ledger_to,description:a.state.description,rate:isNaN(a.state.rate)?"":a.state.rate,amount:isNaN(a.state.amount)?"":a.state.amount,type:a.state.type,voucher_no:a.state.voucher_no,id_invoice:a.props.id_invoice})};fetch(A,e).then(function(e){e.json(),a.loadExpenseList(a.props.id_invoice),a.setState({id_ledger_to:0,description:"",rate:"",qty:"",amount:""})})}else a.validator.showMessages(),a.forceUpdate()},a.onDateChange=function(e){return a.setState({date:e})},a.onDelRow=function(e){a.setState({description:e})},a.state={data:null,date:new Date,id_ledger_to:"",description:"",rate:"",qty:"",amount:"",type:"Receipt",voucher_no:"1",ledger:"",arrLedger:[],arrExpenses:[],arrLedgerFrom:[],arrLedgerTo:[]},a.onAmountChange=a.onAmountChange.bind(Object(p.a)(Object(p.a)(a))),a.onRateChange=a.onRateChange.bind(Object(p.a)(Object(p.a)(a))),a.onQtyChange=a.onQtyChange.bind(Object(p.a)(Object(p.a)(a))),a.onDescriptionChange=a.onDescriptionChange.bind(Object(p.a)(Object(p.a)(a))),a.onLedgerChange=a.onLedgerChange.bind(Object(p.a)(Object(p.a)(a))),a.onDateChange=a.onDateChange.bind(Object(p.a)(Object(p.a)(a))),a.validator=new xe.a,a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadAccountHead(),this.loadExpenseList(e),console.log(e)}},{key:"loadAccountHead",value:function(){var e=this,t=ke,a=Oe;fetch("".concat(se,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerFrom:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})}),fetch("".concat(se,"/").concat(a)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerTo:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onRateChange",value:function(e){this.setState({rate:e.target.value,amount:this.state.qty*e.target.value})}},{key:"onQtyChange",value:function(e){this.setState({qty:e.target.value,amount:e.target.value*this.state.rate})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_to:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrExpenses.map(function(t,a){return r.a.createElement(Te,{arrExpense:t,arrLedger:e.state.arrLedger,delExpense:e.delExpense})}),a=this.state.arrExpenses.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-16"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger_to},this.state.arrLedgerTo.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger_to",this.state.id_ledger_to,"required|numeric")))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Qty (Freight)"),r.a.createElement("input",{type:"text",value:this.state.qty,onChange:this.onQtyChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Rate (Freight)"),r.a.createElement("input",{type:"text",value:this.state.rate,onChange:this.onRateChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveInvoice},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"25%"}},"Date"),r.a.createElement("th",{style:{width:"25%"}},"Ledger"),r.a.createElement("th",{style:{width:"25%"}},"Description"),r.a.createElement("th",{style:{width:"25%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null))))))))))}}]),t}(n.Component),Te=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrExpense,a=""!=t.rate&&0!=t.rate?"".concat(t.description," ").concat(t.amount/t.rate," x ").concat(t.rate):t.description;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.ledger),r.a.createElement("td",null,a),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.delExpense(t.id_account_voucher)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),_e=Pe,Le=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={sales_total:"",other_exp:"",freight:0,packing:0,conversion_rate:0},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadSalesTotal(e),this.loadOtherExp(e),this.loadConversionRate(e)}},{key:"loadSalesTotal",value:function(e){var t=this;fetch(M+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({sales_total:e[0].tot})})}},{key:"loadOtherExp",value:function(e){var t=this;fetch(G+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({other_exp:e[0].tot})})}},{key:"loadConversionRate",value:function(e){var t=this;fetch(N+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({conversion_rate:e[0].conversion_rate})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-6"},r.a.createElement("p",{class:"lead"},"Sales"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Sales Total:"),r.a.createElement("td",null,"$ ",this.state.sales_total)),r.a.createElement("tr",null,r.a.createElement("th",null,"Total :"),r.a.createElement("td",null,"$ ",this.state.sales_total)),r.a.createElement("tr",null,r.a.createElement("th",null,"Total : (Rate: ",this.state.conversion_rate,")"),r.a.createElement("td",null,"Rs ",Math.round(this.state.sales_total*this.state.conversion_rate*100)/100)))))),r.a.createElement("div",{class:"col-6"},r.a.createElement("p",{class:"lead"},"Expenses"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Freight Expenses:"),r.a.createElement("td",null,this.state.freight)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Packing Expenses:"),r.a.createElement("td",null,this.state.packing)),r.a.createElement("tr",null,r.a.createElement("th",null,"Other Expenses"),r.a.createElement("td",null,this.state.other_exp)),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("td",null,this.state.freight+this.state.packing+this.state.other_exp))))))))))}}]),t}(n.Component),Ne=a(274),Re=a.n(Ne),Ae=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).delDoc=function(e){fetch(K+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrTable:e});var t=a.props.id_invoice;a.loadDocumentsList(t)})},a.loadDocumentsList=function(e){fetch(H+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrTable:e})})},a.docDownload=function(e,t){fetch(U+"/".concat(e)).then(function(e){return e.blob()}).then(function(e){Re.a.saveAs(e,t)})},a.saveDocument=function(){if(a.validator.allValid()){var e=new FormData;e.append("id_invoice",a.props.id_invoice),e.append("name",a.state.name),e.append("remark",a.state.remark),e.append("files",a.state.selectedFile),fetch(z,{method:"POST",body:e}).then(function(e){e.json(),a.loadDocumentsList(a.props.id_invoice),a.setState({name:"",remark:"",selectedFile:null})})}else a.validator.showMessages(),a.forceUpdate()},a.state={remark:"",name:"",arrDocs:[{id_doc:"0",doc:"--Select"},{id_doc:"1",doc:"Document 1"},{id_doc:"2",doc:"Document 2"},{id_doc:"3",doc:"Document 3"}],arrTable:[],selectedFile:null},a.onChangeName=a.onChangeName.bind(Object(p.a)(Object(p.a)(a))),a.onChangeRemark=a.onChangeRemark.bind(Object(p.a)(Object(p.a)(a))),a.onFileSelect=a.onFileSelect.bind(Object(p.a)(Object(p.a)(a))),a.validator=new xe.a,a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadDocumentsList(e)}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeRemark",value:function(e){this.setState({remark:e.target.value})}},{key:"onFileSelect",value:function(e){console.log(JSON.stringify(e.target.files)),this.setState({selectedFile:e.target.files[0]})}},{key:"render",value:function(){var e=this,t=this.state.arrTable.map(function(t,a){return r.a.createElement(Ve,{tbl:t,arrDocs:e.state.arrDocs,delDoc:e.delDoc,getDoc:e.docDownload})});return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"40%"}},r.a.createElement("select",{class:"form-control",onChange:this.onChangeName,value:this.state.name},this.state.arrDocs.map(function(e){return r.a.createElement("option",null,e.doc)}))),r.a.createElement("th",{style:{width:"10%"}},r.a.createElement("input",{type:"text",onChange:this.onChangeRemark,value:this.state.remark,class:"form-control"})),r.a.createElement("th",{style:{width:"35%"}},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",onChange:this.onFileSelect}),r.a.createElement("label",{class:"custom-file-label",for:"exampleInputFile"},this.state.selectedFile?this.state.selectedFile.name:"Choose file"))),r.a.createElement("th",{style:{width:"10%"}},r.a.createElement("button",{type:"button",class:"btn btn-block btn-outline-success btn-flat",onClick:this.saveDocument},r.a.createElement("i",{class:"fas fa-plus"})))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Documents"),r.a.createElement("th",{style:{width:"30%"}},"Remarks"),r.a.createElement("th",null),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,t)))))))))}}]),t}(n.Component),Ve=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tbl;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name," "),r.a.createElement("td",{colSpan:"2"},t.remarks),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.getDoc(t.id_document,t.file)},class:"btn btn-outline-success"},r.a.createElement("i",{class:"fas fa-download"})),r.a.createElement("button",{type:"button",onClick:function(){return e.props.delDoc(t.id_document)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(n.Component),Fe=Ae,Be=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadInvLabourItem=function(e){fetch(W+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({LabourItems:e})})},a.loadInvPackingList=function(e){fetch(J+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({packItems:e})})},a.loadInvPackingExp=function(e){fetch(Y+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({ExpenseItems:e})})},a.state={LabourItems:[],packItems:[],ExpenseItems:[]},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadInvLabourItem(e),this.loadInvPackingExp(e),this.loadInvPackingList(e)}},{key:"render",value:function(){var e=this.state.packItems.map(function(e,t){return r.a.createElement(Me,{packItem:e,rowIndex:t})}),t=this.state.LabourItems.map(function(e,t){return r.a.createElement(Ge,{LabourItem:e,rowIndex:t})}),a=this.state.ExpenseItems.map(function(e,t){return r.a.createElement(ze,{ExpenseItem:e,rowIndex:t})}),n=this.state.packItems.reduce(function(e,t){return+e+ +t.kg},0),l=this.state.LabourItems.reduce(function(e,t){return+e+ +t.amount},0),c=this.state.ExpenseItems.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Packing List")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"No"),r.a.createElement("th",{style:{width:"50%"}},"Items"),r.a.createElement("th",{style:{width:"30%"}},"Kg"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null),r.a.createElement("th",null,"Net Weight"),r.a.createElement("th",{align:"right"},n))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Labour")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"50%"}},"Amount"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},l))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Other Expenses")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Expense"),r.a.createElement("th",{style:{width:"50%"}},"Amount"))),r.a.createElement("tbody",null,a),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},c))))))))))}}]),t}(n.Component),Me=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.packItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.pack_no),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.kg))}}]),t}(r.a.Component),Ge=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.LabourItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.amount))}}]),t}(r.a.Component),ze=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.ExpenseItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.amount))}}]),t}(r.a.Component),He=Be,Ke=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).FrightItems=function(e){fetch(F+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({FrightItems:e})})},a.state={FrightItems:[]},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.FrightItems(e)}},{key:"render",value:function(){var e=this.state.FrightItems.map(function(e,t){return r.a.createElement(Ue,{FrightItem:e,rowIndex:t})}),t=this.state.FrightItems.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Freight Items")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"50%"}},"Amount"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},t))))))))))}}]),t}(n.Component),Ue=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.FrightItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.expense),r.a.createElement("td",null,e.amount))}}]),t}(r.a.Component),We=Ke,Je=a(3),Ye=a(449),Qe=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")},$e=function(e){return e.invItems.map(function(t,a){return r.a.createElement(tt,Object.assign({},t,{products:e.products}))})},Xe=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_account_head==e});return 0==a.length?"":a[0].account_head},Ze=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.Id_place==e});return 0==a.length?"":a[0].Place},qe=function(e){return e.reduce(function(e,t){return+e+ +t.kg*t.box},0)},et=function(e){return r.a.createElement(Je.a,null,r.a.createElement(Je.d,{size:"A4",style:at.page},r.a.createElement(Je.g,{style:at.top}),r.a.createElement(Je.g,{style:at.container1},r.a.createElement(Je.g,{style:at.section},r.a.createElement(Je.f,null,"AQUASIGN EXPORTS"),r.a.createElement(Je.f,{style:at.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(Je.g,{style:at.sectionTopRight},r.a.createElement(Je.g,{style:at.box},r.a.createElement(Je.f,{style:at.left},"INVOICE NO "),r.a.createElement(Je.f,{style:at.right},e.invoice_no)),r.a.createElement(Je.g,{style:at.box},r.a.createElement(Je.f,{style:at.left},"DATE"),r.a.createElement(Je.f,{style:at.right},Qe(e.date))),r.a.createElement(Je.g,{style:at.box},r.a.createElement(Je.f,{style:at.left},"ORDER NO"),r.a.createElement(Je.f,{style:at.right},e.order_no)),r.a.createElement(Je.g,{style:at.box},r.a.createElement(Je.f,{style:at.left},"ORDER DATE "),r.a.createElement(Je.f,{style:at.right},Qe(e.buyer_date))))),r.a.createElement(Je.g,{style:[at.container2,{borderBottom:1,borderColor:"#ccc"}]},r.a.createElement(Je.g,{style:at.section},r.a.createElement(Je.f,{style:at.addressTitle},"BILL TO"),r.a.createElement(Je.f,{style:at.address},Xe(e.consigner,e.consigners)),r.a.createElement(Je.f,{style:at.address},e.consigner_address)),r.a.createElement(Je.g,{style:at.section},r.a.createElement(Je.f,{style:at.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(Je.f,{style:at.address},Xe(e.consignee,e.consignees)),r.a.createElement(Je.f,{style:at.address},e.consignee_address))),r.a.createElement(Je.g,{style:at.container2},r.a.createElement(Je.g,{style:at.section},r.a.createElement(Je.f,{style:at.dataTitle},"Country of origin of goods:"),r.a.createElement(Je.f,{style:at.address},Ze(e.country_origin,e.places)),r.a.createElement(Je.f,{style:at.dataTitle},"Place of receipt by pre_carrier:"),r.a.createElement(Je.f,{style:at.address},e.receipt_place),r.a.createElement(Je.f,{style:at.dataTitle},"Vessel / Flat no:"),r.a.createElement(Je.f,{style:at.address},e.vessel_no),r.a.createElement(Je.f,{style:at.dataTitle},"Other references:"),r.a.createElement(Je.f,{style:at.address},e.other),r.a.createElement(Je.f,{style:at.dataTitle},"Buyer(If other than consignee):"),r.a.createElement(Je.f,{style:at.address},e.buyer),r.a.createElement(Je.f,{style:at.dataTitle},"Terms of delivery & payment:"),r.a.createElement(Je.f,{style:at.address},e.pre_carriage),r.a.createElement(Je.f,{style:at.dataTitle},"AWB No:"),r.a.createElement(Je.f,{style:at.address},e.receipt_place)),r.a.createElement(Je.g,{style:at.section},r.a.createElement(Je.f,{style:at.dataTitle},"Country of final destination:"),r.a.createElement(Je.f,{style:at.address},Ze(e.country_final,e.places)),r.a.createElement(Je.f,{style:at.dataTitle},"Pre_carriage by:"),r.a.createElement(Je.f,{style:at.address},e.pre_carriage),r.a.createElement(Je.f,{style:at.dataTitle},"Port of loading:"),r.a.createElement(Je.f,{style:at.address},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.Id_port==e});return 0==a.length?"":a[0].Port}(e.port_load,e.airports)),r.a.createElement(Je.f,{style:at.dataTitle},"Marks & No.s:"),r.a.createElement(Je.f,{style:at.address},e.marks),r.a.createElement(Je.f,{style:at.dataTitle},"Port of discharge:"),r.a.createElement(Je.f,{style:at.address},e.port_discharge),r.a.createElement(Je.f,{style:at.dataTitle},"Final destination:"),r.a.createElement(Je.f,{style:at.address},e.final_destination),r.a.createElement(Je.f,{style:at.dataTitle},"Container No:"),r.a.createElement(Je.f,{style:at.address},e.container_no))),r.a.createElement(Je.g,{style:at.tableHeader},r.a.createElement(Je.f,{style:at.col1},"DESCRIPTION"),r.a.createElement(Je.f,{style:at.col2},"UNIT PRICE"),r.a.createElement(Je.f,{style:at.col2},"QTY"),r.a.createElement(Je.f,{style:at.col3},"TOTAL")),r.a.createElement(Je.g,null,r.a.createElement($e,e)),r.a.createElement(Je.g,{style:at.tableData},r.a.createElement(Je.f,{style:at.col1}),r.a.createElement(Je.f,{style:at.col2}),r.a.createElement(Je.f,{style:[at.col2,{fontFamily:"Roboto"}]},e.invItems.reduce(function(e,t){return+e+ +t.kg},0)," kg"),r.a.createElement(Je.f,{style:[at.col3,{fontFamily:"Roboto"}]},"$ ",Math.round(10*qe(e.invItems))/10)),r.a.createElement(Je.g,{style:at.tableData},r.a.createElement(Je.f,{style:at.colFull},"US Dollar ",Ye.toWords(qe(e.invItems))," Only")),r.a.createElement(Je.g,{style:at.container3},r.a.createElement(Je.g,{style:at.section},r.a.createElement(Je.f,{style:at.bank},"Bank Detail",e.bill_to),r.a.createElement(Je.f,{style:at.address},"Account Name: MARIA INTERNATIONAL (PVT) LTD\n              Account #098799971 Current\n              IFSC Code: ICIC0000942\n              Swift Code : ICICINBBCTS\n              Bank Name: ICICI BANK LTD\n              ")),r.a.createElement(Je.g,{style:at.sectionBottomRight},r.a.createElement(Je.g,{style:at.box},r.a.createElement(Je.f,{style:at.left},"SUBTOTAL"),r.a.createElement(Je.f,{style:at.rightBottom},"$ ",Math.round(10*qe(e.invItems))/10)),r.a.createElement(Je.g,{style:at.box},r.a.createElement(Je.f,{style:at.left},"DISCOUNT"),r.a.createElement(Je.f,{style:at.rightBottom},"$ ",e.discount)),r.a.createElement(Je.g,{style:at.box},r.a.createElement(Je.f,{style:at.left},"NET TOTAL"),r.a.createElement(Je.f,{style:at.rightBottom},"$ ",Math.round(10*qe(e.invItems))/10-e.discount)),r.a.createElement(Je.g,{style:at.box},r.a.createElement(Je.f,{style:at.left},"OLD BALANCE "),r.a.createElement(Je.f,{style:at.rightBottom},"$ 0")),r.a.createElement(Je.g,{style:at.box},r.a.createElement(Je.f,{style:at.leftBalance},"BALANCE"),r.a.createElement(Je.f,{style:at.rightBalance},"$ ",Math.round(10*qe(e.invItems))/10-e.discount)))),r.a.createElement(Je.g,{style:at.top})))},tt=function(e){var t=e.box*e.kg;return r.a.createElement(Je.g,{style:at.tableData},r.a.createElement(Je.f,{style:at.col1},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_product==e});return 0==a.length?"":a[0].name}(e.id_product,e.products)),r.a.createElement(Je.f,{style:at.col2},e.box),r.a.createElement(Je.f,{style:at.col2},e.kg),r.a.createElement(Je.f,{style:at.col3},Math.round(10*t)/10))};Je.b.register({family:"Roboto",src:a(128)}),Je.b.register({family:"Roboto-Italic",src:a(450)});var at=Je.e.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:10,padding:10,paddingHorizontal:10,width:"50%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"45%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),nt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadProducts=function(){fetch(Ee).then(function(e){return e.json()}).then(function(e){a.setState({products:[{id_product:0,name:"SELECT"}].concat(Object(m.a)(e))})})},a.loadInvoiceDt=function(e){fetch(L+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({invoice_no:e[0].invoice_no,date:e[0].date,order_no:e[0].order_no,buyer_date:e[0].buyer_date,consigner:e[0].consigner,consignee:e[0].consignee,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address,other:e[0].other,buyer:e[0].buyer,country_origin:e[0].country_origin,country_final:e[0].country_final,pre_carriage:e[0].pre_carriage,receipt_place:e[0].receipt_place,vessel_no:e[0].vessel_no,port_load:e[0].port_load,port_discharge:e[0].port_discharge,final_destination:e[0].final_destination,marks:e[0].marks,container_no:e[0].container_no,awb_no:e[0].awb_no,terms:e[0].terms,conversion_rate:e[0].conversion_rate,status:e[0].status,discount:e[0].discount,narration:e[0].narration,invItems:e[0].items||[]},function(){a.props.setInvoiceNo(a.state.invoice_no)})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.saveInvoice=function(){if(a.setState({btnSaveText:"Saving..."}),a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_no:a.state.invoice_no,order_no:a.state.order_no,date:a.formatDate(a.state.date),buyer_date:a.formatDate(a.state.buyer_date),consigner:a.state.consigner,consignee:a.state.consignee,consigner_address:a.state.consigner_address,consignee_address:a.state.consignee_address,other:a.state.other,buyer:a.state.buyer,country_origin:a.state.country_origin,country_final:a.state.country_final,pre_carriage:a.state.pre_carriage,receipt_place:a.state.receipt_place,vessel_no:a.state.vessel_no,port_load:a.state.port_load,port_discharge:a.state.port_discharge,final_destination:a.state.final_destination,marks:a.state.marks,container_no:a.state.container_no,awb_no:a.state.awb_no,terms:a.state.terms,items:a.state.invItems,id_invoice:a.props.id_invoice,conversion_rate:a.state.conversion_rate,status:a.state.status,discount:a.state.discount,narration:a.state.narration})};fetch(_,e).then(function(e){return e.json()}).then(function(e){e.isUpdate?(a.setState({btnSaveText:"Saved"}),setTimeout(function(){this.setState({btnSaveText:"Save Invoice"})}.bind(Object(p.a)(Object(p.a)(a))),5e3)):a.setState({id_invoice:e.id_invoice,redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.renderRedirect=function(){if(a.state.redirect)return a.setState({redirect:!1}),r.a.createElement(o.a,{to:"./invoice/".concat(a.state.id_invoice)})},a.handleChangeDate=function(e){return a.setState({date:e})},a.handleChangeBuyerDate=function(e){return a.setState({buyer_date:e})},a.handleChangeKg=function(e,t){var n=a.state.invItems,r=n[t];r.kg=e.target.value,n[t]=r,a.setState({invItems:n})},a.handleChangeBox=function(e,t){var n=a.state.invItems,r=n[t];r.box=e.target.value,n[t]=r,a.setState({invItems:n})},a.handleChangeProduct=function(e,t){var n=a.state.invItems,r=n[t];r.id_product=e.target.value,n[t]=r,a.setState({invItems:n})},a.delRow=function(e){var t=a.state.invItems;t.splice(e,1),a.setState({invItems:t})},a.addRow=function(e){var t=a.state.invItems,n={id_product:e.target.value,kg:"",box:""};t.push(n),a.setState({invItems:t})},a.state={showPdf:!1,arrInv:[],id:null,title:"Table",data:null,date:new Date,products:[],invoice:[],invoice_no:"",order_no:"",buyer_date:new Date,consigners:[],consignees:[],consigner:a.props.data&&a.props.data.consigner,consignee:"",consignee_name:"",consigner_address:a.props.data&&a.props.data.consigner_address,consignee_address:"",other:"",buyer:"",country_origin:"",country_final:"",pre_carriage:"",receipt_place:"",vessel_no:"",port_load:"",port_discharge:"",final_destination:"",marks:"",container_no:"",awb_no:"",terms:"",conversion_rate:"",status:"Waiting Approval",discount:"",narration:"",arrProducts:[],invItems:[],places:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"INDIA"},{Id_place:2,Place:"KSA"},{Id_place:3,Place:"US"}],dischargePlaces:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"DELHI"},{Id_place:2,Place:"CHENNAI"},{Id_place:3,Place:"KERALA"}],statusTypes:[{status:"Waiting Approval"},{status:"Packing"},{status:"Shipped"},{status:"Cancelled"}],airports:[{Id_Port:0,Port:"--Select--"},{Id_Port:1,Port:"KOCHI"},{Id_Port:1,Port:"CALICUT"},{Id_Port:1,Port:"TRIVANDRUM"},{Id_Port:1,Port:"KANNUR"},{Id_Port:1,Port:"MUMBAI"},{Id_Port:1,Port:"CHENNAI"},{Id_Port:1,Port:"KOLKATA"},{Id_Port:1,Port:"COIMBATORE"}],btnSaveText:"Save Invoice"},a.handleChangeDate=a.handleChangeDate.bind(Object(p.a)(Object(p.a)(a))),a.handleChangeBuyerDate=a.handleChangeBuyerDate.bind(Object(p.a)(Object(p.a)(a))),a.validator=new xe.a,a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.props.id_rough_invoice&&this.loadRoughInvoice(this.props.id_rough_invoice),this.loadProducts(),this.loadConsigners(),this.loadConsignees(),0!=e&&this.loadInvoiceDt(e)}},{key:"loadRoughInvoice",value:function(e){var t=this;fetch(x+"/"+e).then(function(e){return e.json()}).then(function(e){e.length>0&&t.setState({consignee:e[0].consignee,consigner:e[0].consigner,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address})})}},{key:"loadConsigners",value:function(){var e=this,t=Se;fetch("".concat(se,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consigners:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadConsignees",value:function(){var e=this,t=Ie;fetch("".concat(se,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consignees:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadLedgerAddress",value:function(e,t){var a=this;fetch("".concat(ne,"/").concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&("CONSIGNER"==t?a.setState({consigner_address:e[0].address}):a.setState({consignee_address:e[0].address}))})}},{key:"handleChangeInvoiceNo",value:function(e){this.setState({invoice_no:e.target.value.toUpperCase()})}},{key:"handleChangeOrderNo",value:function(e){this.setState({order_no:e.target.value})}},{key:"handleChangeConsignee",value:function(e){this.setState({consignee:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNEE")}},{key:"handleChangeConsigner",value:function(e){this.setState({consigner:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNER")}},{key:"handleChangeConsigneeAddress",value:function(e){this.setState({consignee_address:e.target.value})}},{key:"handleChangeConsignerAddress",value:function(e){this.setState({consigner_address:e.target.value})}},{key:"handleChangeOther",value:function(e){this.setState({other:e.target.value})}},{key:"handleChangeBuyer",value:function(e){this.setState({buyer:e.target.value})}},{key:"handleChangeCountryOrigin",value:function(e){this.setState({country_origin:e.target.value})}},{key:"handleChangeCountryFinal",value:function(e){this.setState({country_final:e.target.value})}},{key:"handleChangePreCarriage",value:function(e){this.setState({pre_carriage:e.target.value})}},{key:"handleChangeReceiptPlace",value:function(e){this.setState({receipt_place:e.target.value})}},{key:"handleChangeVesselNo",value:function(e){this.setState({vessel_no:e.target.value})}},{key:"handleChangePortLoad",value:function(e){this.setState({port_load:e.target.value})}},{key:"handleChangePortDischarge",value:function(e){this.setState({port_discharge:e.target.value})}},{key:"handleChangeFinalDest",value:function(e){this.setState({final_destination:e.target.value})}},{key:"handleChangeMarks",value:function(e){this.setState({marks:e.target.value})}},{key:"handleChangeContainerNo",value:function(e){this.setState({container_no:e.target.value})}},{key:"handleChangeAwbNo",value:function(e){this.setState({awb_no:e.target.value})}},{key:"handleChangeTerms",value:function(e){this.setState({terms:e.target.value})}},{key:"handleChangeConversionRate",value:function(e){this.setState({conversion_rate:e.target.value})}},{key:"handleChangeStatus",value:function(e){this.setState({status:e.target.value})}},{key:"handleChangeDiscount",value:function(e){this.setState({discount:e.target.value})}},{key:"handleChangeNarration",value:function(e){this.setState({narration:e.target.value})}},{key:"render",value:function(){var e,t=this,a=this.state.invItems.map(function(e,a){return r.a.createElement(rt,{handleChangeKg:t.handleChangeKg,handleChangeBox:t.handleChangeBox,handleChangeProduct:t.handleChangeProduct,delRow:t.delRow,invItem:e,rowIndex:a,products:t.state.products})}),n=this.state.invItems.reduce(function(e,t){return+e+ +t.kg*t.box},0),l=(this.state.invItems.reduce(function(e,t){return+e+ +t.box},0),this.state.invItems.reduce(function(e,t){return+e+ +t.kg},0));return r.a.createElement("div",null,this.renderRedirect(),r.a.createElement("section",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("form",{role:"form"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice No"),r.a.createElement("input",{type:"text",value:this.state.invoice_no,onChange:function(e){return t.handleChangeInvoiceNo(e)},class:"form-control"}),this.validator.message("invoice_no",this.state.invoice_no,"required"))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice Date"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(C.a,{className:"form-control",value:this.state.date,format:"dd/MM/yyyy",onChange:this.handleChangeDate}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer's Order No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeOrderNo(e)},value:this.state.order_no,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer's Date"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(C.a,{className:"form-control",onChange:this.handleChangeBuyerDate,value:this.state.buyer_date,format:"dd/MM/yyyy"}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Other reference(s)"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeOther(e)},class:"form-control",value:this.state.other})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer (If other than consignee)"),r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeBuyer(e)},class:"form-control",value:this.state.buyer}))),r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Country of origin of goods"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCountryOrigin(e)},value:this.state.country_origin},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Country of final destination"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCountryFinal(e)},value:this.state.country_final},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Terms of delivery and payment"),r.a.createElement("textarea",(e={type:"text",onChange:function(e){return t.handleChangeTerms(e)},class:"form-control"},Object(u.a)(e,"onChange",function(e){return t.handleChangeTerms(e)}),Object(u.a)(e,"value",this.state.terms),Object(u.a)(e,"rows",2.8),e))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"AWB No."),r.a.createElement("input",{type:"text",class:"form-control",onChange:function(e){return t.handleChangeAwbNo(e)},value:this.state.awb_no})))))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-primary"},r.a.createElement("form",{role:"form"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consigner"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeConsigner(e)},value:this.state.consigner},this.state.consigners.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeConsignerAddress(e)},value:this.state.consigner_address,class:"form-control",rows:4})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consignee"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeConsignee(e)},value:this.state.consignee},this.state.consignees.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeConsigneeAddress(e)},value:this.state.consignee_address,class:"form-control",rows:4})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Pre-Carriage by"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangePreCarriage(e)},value:this.state.pre_carriage,class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Place of receipt by Pre-Carrier"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeReceiptPlace(e)},value:this.state.receipt_place,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Vessel/Flight No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeVesselNo(e)},value:this.state.vessel_no,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of loading"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangePortLoad(e)},value:this.state.port_load},this.state.airports.map(function(e){return r.a.createElement("option",{value:e.Id_port},e.Port)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of discharge"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangePortDischarge(e)},value:this.state.port_discharge},this.state.dischargePlaces.map(function(e){return r.a.createElement("option",{value:e.Id_port},e.Port)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Final destination"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeFinalDest(e)},value:this.state.final_destination},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Marks & No.s"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeMarks(e)},value:this.state.marks,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Container No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeContainerNo(e)},value:this.state.container_no,class:"form-control"})))))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Description of goods"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"15%"}},"Amount(USD)"),r.a.createElement("th",{style:{width:"10%"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,a,r.a.createElement(ct,{products:this.state.products,addRow:this.addRow})),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null,l),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},"$ ",Math.round(10*n)/10),r.a.createElement("th",null))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("label",null,"Discount"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeDiscount(e)},value:this.state.discount,class:"form-control"}))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("label",null,"Narration"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeNarration(e)},value:this.state.narration,class:"form-control"}))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-4"},r.a.createElement("label",null,"Status"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeStatus(e)},value:this.state.status},this.state.statusTypes.map(function(e){return r.a.createElement("option",{value:e.status},e.status)}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("label",null,"Conversion Rate"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeConversionRate(e)},value:this.state.conversion_rate,class:"form-control"})))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:this.saveInvoice,type:"submit",class:"btn btn-primary"},this.state.btnSaveText),r.a.createElement("button",{onClick:function(){return t.setState({showPdf:!0})},type:"submit",class:"btn btn-primary float-right"},"Print Invoice"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return t.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(Je.c,{style:{width:"100%",height:500}},r.a.createElement(et,this.state)))))))))}}]),t}(n.Component),rt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleChangeKg=function(e){a.props.handleChangeKg(e,a.props.rowIndex)},a.handleChangeBox=function(e){a.props.handleChangeBox(e,a.props.rowIndex)},a.handleChangeProduct=function(e){a.props.handleChangeProduct(e,a.props.rowIndex)},a.delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeKg(t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeBox(t)}})),r.a.createElement("td",{align:"right"},Math.round(10*a)/10),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRow,class:"btn btn-block btn-outline-danger btn-flat"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(n.Component),lt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).setTab=function(e){a.setState({currentTab:e})},a.setInvoiceNo=function(e){a.setState({invoice_no:e})},a.state={currentTab:0,invoice_no:0},a.setTab=a.setTab.bind(Object(p.a)(Object(p.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.match.params)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("div",{class:"card card-primary card-outline card-outline-tabs"},r.a.createElement("div",{class:"card-header p-0 border-bottom-0"},r.a.createElement("ul",{class:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(0)},class:"nav-link active",id:"custom-tabs-three-home-tab","data-toggle":"pill",href:"#custom-tabs-three-home",role:"tab","aria-controls":"custom-tabs-three-home","aria-selected":"true"},"Invoice ",0!=this.props.match.params.id&&"No. ".concat(this.state.invoice_no)," ")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(1)},class:"nav-link",id:"custom-tabs-three-profile-tab","data-toggle":"pill",href:"#custom-tabs-three-profile",role:"tab","aria-controls":"custom-tabs-three-profile","aria-selected":"false"},"Documents")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(2)},class:"nav-link",id:"custom-tabs-three-messages-tab","data-toggle":"pill",href:"#custom-tabs-three-messages",role:"tab","aria-controls":"custom-tabs-three-messages","aria-selected":"false"},"Expenses")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(3)},class:"nav-link",id:"custom-tabs-three-settings-tab","data-toggle":"pill",href:"#custom-tabs-three-settings",role:"tab","aria-controls":"custom-tabs-three-settings","aria-selected":"false"},"Net Report")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(4)},class:"nav-link",id:"custom-tabs-three-packing-tab","data-toggle":"pill",href:"#custom-tabs-three-packing",role:"tab","aria-controls":"custom-tabs-three-packing","aria-selected":"false"},"Packing ")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(5)},class:"nav-link",id:"custom-tabs-three-fright-tab","data-toggle":"pill",href:"#custom-tabs-three-fright",role:"tab","aria-controls":"custom-tabs-three-fright","aria-selected":"false"},"Freight Expenses ")))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"tab-content",id:"custom-tabs-three-tabContent"},r.a.createElement("div",{class:"tab-pane fade active show",id:"custom-tabs-three-home",role:"tabpanel","aria-labelledby":"custom-tabs-three-home-tab"},0==this.state.currentTab?r.a.createElement(nt,{id_invoice:this.props.match.params.id,id_rough_invoice:this.props.match.params.id_rough_invoice,setInvoiceNo:this.setInvoiceNo}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-profile",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab"},1==this.state.currentTab?r.a.createElement(Fe,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-messages",role:"tabpanel","aria-labelledby":"custom-tabs-three-messages-tab"},2==this.state.currentTab?r.a.createElement(_e,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-settings",role:"tabpanel","aria-labelledby":"custom-tabs-three-settings-tab"},3==this.state.currentTab?r.a.createElement(Le,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-packing",role:"tabpanel","aria-labelledby":"custom-tabs-three-packing-tab"},4==this.state.currentTab?r.a.createElement(He,Object.assign({id_invoice:this.props.match.params.id},this.props)):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-fright",role:"tabpanel","aria-labelledby":"custom-tabs-three-fright-tab"},5==this.state.currentTab?r.a.createElement(We,Object.assign({id_invoice:this.props.match.params.id},this.props)):r.a.createElement("div",null)))))))}}]),t}(n.Component),ct=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).addRow=function(e){a.props.addRow(e)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.addRow(t)},value:0},this.props.products.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",{align:"right"}),r.a.createElement("td",null," "))}}]),t}(n.Component),ot=lt,st=function(e){return e.invItems.map(function(t,a){return r.a.createElement(ut,Object.assign({},t,{products:e.products}))})},it=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_account_head==e});return 0==a.length?"":a[0].account_head},dt=function(e){return r.a.createElement(Je.a,null,r.a.createElement(Je.d,{size:"A4",style:mt.page},r.a.createElement(Je.g,{style:mt.top}),r.a.createElement(Je.g,{style:mt.container1},r.a.createElement(Je.g,{style:mt.section},r.a.createElement(Je.f,null,"AQUASIGN EXPORTS"),r.a.createElement(Je.f,{style:mt.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(Je.g,{style:mt.sectionTopRight},r.a.createElement(Je.g,{style:mt.box},r.a.createElement(Je.f,{style:mt.left},"DATE"),r.a.createElement(Je.f,{style:mt.right},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))),r.a.createElement(Je.g,{style:mt.box},r.a.createElement(Je.f,{style:mt.left},"PORT OF LOADING"),r.a.createElement(Je.f,{style:mt.right},"0"==e.port_load||"--Select--"==e.port_load||e.port_load)))),r.a.createElement(Je.g,{style:[mt.container2]},r.a.createElement(Je.g,{style:mt.section},r.a.createElement(Je.f,{style:mt.addressTitle},"CONSIGNER"),r.a.createElement(Je.f,{style:mt.address},it(e.consigner,e.consigners)),r.a.createElement(Je.f,{style:mt.address},e.consigner_address))),r.a.createElement(Je.g,{style:[mt.container2]},r.a.createElement(Je.g,{style:mt.section},r.a.createElement(Je.f,{style:mt.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(Je.f,{style:mt.address},it(e.consignee,e.consignees)),r.a.createElement(Je.f,{style:mt.address},e.consignee_address))),r.a.createElement(Je.g,{style:mt.tableHeader},r.a.createElement(Je.f,{style:mt.col1},"PRODUCT"),r.a.createElement(Je.f,{style:mt.col2},"BOX"),r.a.createElement(Je.f,{style:mt.col2},"KG"),r.a.createElement(Je.f,{style:mt.col3},"TOTAL")),r.a.createElement(Je.g,null,r.a.createElement(st,e)),r.a.createElement(Je.g,{style:mt.tableData},r.a.createElement(Je.f,{style:mt.col1}),r.a.createElement(Je.f,{style:[mt.col2,{fontFamily:"Roboto"}]},e.invItems.reduce(function(e,t){return+e+ +t.box},0)),r.a.createElement(Je.f,{style:[mt.col2,{fontFamily:"Roboto"}]}),r.a.createElement(Je.f,{style:[mt.col3,{fontFamily:"Roboto"}]},function(e){return e.reduce(function(e,t){return+e+ +t.kg*t.box},0)}(e.invItems)," KG")),r.a.createElement(Je.g,{style:mt.top})))},ut=function(e){var t=e.box*e.kg;return r.a.createElement(Je.g,{style:mt.tableData},r.a.createElement(Je.f,{style:mt.col1},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_product==e});return 0==a.length?"":a[0].name}(e.id_product,e.products)),r.a.createElement(Je.f,{style:mt.col2},e.box),r.a.createElement(Je.f,{style:mt.col2},e.kg),r.a.createElement(Je.f,{style:mt.col3},Math.round(10*t)/10))};Je.b.register({family:"Roboto",src:a(128)});var mt=Je.e.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:5,padding:10,paddingHorizontal:10,width:"50%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"45%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),ht=function(e){return e.airwayItems.map(function(t,a){return r.a.createElement(ft,Object.assign({},t,{products:e.products}))})},Et=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_account_head==e});return 0==a.length?"":a[0].account_head},gt=function(e){return r.a.createElement(Je.a,null,r.a.createElement(Je.d,{size:"A4",style:vt.page},r.a.createElement(Je.g,{style:vt.top}),r.a.createElement(Je.g,{style:vt.container1},r.a.createElement(Je.g,{style:vt.section},r.a.createElement(Je.f,null,"AQUASIGN EXPORTS"),r.a.createElement(Je.f,{style:vt.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(Je.g,{style:vt.sectionTopRight},r.a.createElement(Je.g,{style:vt.box},r.a.createElement(Je.f,{style:vt.left},"DATE"),r.a.createElement(Je.f,{style:vt.right},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))),r.a.createElement(Je.g,{style:vt.box},r.a.createElement(Je.f,{style:vt.left},"INVOICE NO."),r.a.createElement(Je.f,{style:vt.right},e.invoice_no)),r.a.createElement(Je.g,{style:vt.box},r.a.createElement(Je.f,{style:vt.left},"PORT OF LOADING"),r.a.createElement(Je.f,{style:vt.right},"0"==e.port_load||"--Select--"==e.port_load||e.port_load)))),r.a.createElement(Je.g,{style:[vt.container2]},r.a.createElement(Je.g,{style:vt.section},r.a.createElement(Je.f,{style:vt.addressTitle},"CONSIGNER"),r.a.createElement(Je.f,{style:vt.address},Et(e.consigner,e.consigners)),r.a.createElement(Je.f,{style:vt.address},e.consigner_address))),r.a.createElement(Je.g,{style:[vt.container2]},r.a.createElement(Je.g,{style:vt.section},r.a.createElement(Je.f,{style:vt.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(Je.f,{style:vt.address},Et(e.consignee,e.consignees)),r.a.createElement(Je.f,{style:vt.address},e.consignee_address))),r.a.createElement(Je.g,{style:vt.tableHeader},r.a.createElement(Je.f,{style:vt.col1},"PRODUCT"),r.a.createElement(Je.f,{style:vt.col2},"BOX"),r.a.createElement(Je.f,{style:vt.col2},"KG"),r.a.createElement(Je.f,{style:vt.col3},"TOTAL")),r.a.createElement(Je.g,null,r.a.createElement(ht,e)),r.a.createElement(Je.g,{style:vt.tableData},r.a.createElement(Je.f,{style:vt.col1}),r.a.createElement(Je.f,{style:[vt.col2,{fontFamily:"Roboto"}]},e.airwayItems.reduce(function(e,t){return+e+ +t.box},0)),r.a.createElement(Je.f,{style:[vt.col2,{fontFamily:"Roboto"}]}),r.a.createElement(Je.f,{style:[vt.col3,{fontFamily:"Roboto"}]},function(e){return e.reduce(function(e,t){return+e+ +t.kg*t.box},0)}(e.airwayItems)," KG")),r.a.createElement(Je.g,{style:vt.top})))},ft=function(e){var t=e.box*e.kg;return r.a.createElement(Je.g,{style:vt.tableData},r.a.createElement(Je.f,{style:vt.col1},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_product==e});return 0==a.length?"":a[0].name}(e.id_product,e.products)),r.a.createElement(Je.f,{style:vt.col2},e.box),r.a.createElement(Je.f,{style:vt.col2},e.kg),r.a.createElement(Je.f,{style:vt.col3},Math.round(10*t)/10))};Je.b.register({family:"Roboto",src:a(128)});var vt=Je.e.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:5,padding:10,paddingHorizontal:10,width:"50%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"45%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),pt=function(e){function t(e){var a,n;return Object(h.a)(this,t),(n=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadInvoiceDt=function(e){fetch(x+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({date:e[0].date,port_load:e[0].port_load,invoice_no:e[0].invoice_no,consigner:e[0].consigner,consignee:e[0].consignee,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address,invItems:e[0].items||[]})})},n.loadAirwayItemsDt=function(e){fetch(P+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({airwayItems:e[0].airwayItems||[]})})},n.loadProducts=function(){fetch(Ee).then(function(e){return e.json()}).then(function(e){return n.setState({products:[{id_product:0,name:"SELECT"}].concat(Object(m.a)(e))})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.saveInvoice=function(e){if(n.validator.allValid()){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:n.formatDate(n.state.date),invoice_no:n.state.invoice_no,consigner:n.state.consigner,consignee:n.state.consignee,consigner_address:n.state.consigner_address,consignee_address:n.state.consignee_address,port_load:n.state.port_load,items:n.state.invItems,airwayItems:n.state.airwayItems,id_rough_invoice:n.state.id_rough_invoice})};fetch(D,t).then(function(t){t.json(),"BACK"==e?n.setState({redirect:!0}):n.setState({redirectToInvoice:!0})})}else n.validator.showMessages(),n.forceUpdate()},n.onDateChange=function(e){return n.setState({date:e})},n.handleChangeKg=function(e,t){var a=n.state.invItems,r=a[t];r.kg=e.target.value,a[t]=r,n.setState({invItems:a})},n.handleChangeAirwayKg=function(e,t){var a=n.state.airwayItems,r=a[t];r.kg=e.target.value,a[t]=r,n.setState({airwayItems:a})},n.handleChangeBox=function(e,t){var a=n.state.invItems,r=a[t];r.box=e.target.value,a[t]=r,n.setState({invItems:a})},n.handleChangeAirwayBox=function(e,t){var a=n.state.airwayItems,r=a[t];r.box=e.target.value,a[t]=r,n.setState({airwayItems:a})},n.handleChangeProduct=function(e,t){var a=n.state.invItems,r=a[t];r.id_product=e.target.value,a[t]=r,n.setState({invItems:a})},n.handleChangeAirwayProduct=function(e,t){var a=n.state.airwayItems,r=a[t];r.id_product=e.target.value,a[t]=r,n.setState({airwayItems:a})},n.delRow=function(e){var t=n.state.invItems;t.splice(e,1),n.setState({invItems:t})},n.delRowAirway=function(e){var t=n.state.airwayItems;t.splice(e,1),n.setState({airwayItems:t})},n.addRow=function(e){var t=n.state.invItems,a={id_product:e.target.value,kg:"",box:""};t.push(a),n.setState({invItems:t})},n.addRowAirway=function(e){var t=n.state.airwayItems,a={id_product:e.target.value,kg:"",box:""};t.push(a),n.setState({airwayItems:t})},n.state=(a={data:null,title:"Table",id_rough_invoice:0,date:new Date,port_load:"",consigners:[],consignees:[],consigner:"",consignee:"",consigner_address:"",consignee_address:"",invoice_no:"",products:[],invItems:[],airwayItems:[],showPdf:!1,printDoc:"",redirectToInvoice:!1,places:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"INDIA"},{Id_place:2,Place:"KSA"},{Id_place:3,Place:"US"}]},Object(u.a)(a,"redirectToInvoice",!1),Object(u.a)(a,"airports",[{Id_Port:0,Port:"--Select--"},{Id_Port:1,Port:"KOCHI"},{Id_Port:2,Port:"CALICUT"},{Id_Port:3,Port:"TRIVANDRUM"},{Id_Port:4,Port:"KANNUR"},{Id_Port:5,Port:"MUMBAI"},{Id_Port:6,Port:"CHENNAI"},{Id_Port:7,Port:"KOLKATA"},{Id_Port:8,Port:"COIMBATORE"}]),a),n.onDateChange=n.onDateChange.bind(Object(p.a)(Object(p.a)(n))),n.handleChangeConsignee=n.handleChangeConsignee.bind(Object(p.a)(Object(p.a)(n))),n.handleChangeInvoiceNo=n.handleChangeInvoiceNo.bind(Object(p.a)(Object(p.a)(n))),n.handleChangeConsigner=n.handleChangeConsigner.bind(Object(p.a)(Object(p.a)(n))),n.handleChangePortLoad=n.handleChangePortLoad.bind(Object(p.a)(Object(p.a)(n))),n.validator=new xe.a,n}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id_rough_invoice;this.loadProducts(),this.loadConsigners(),this.loadConsignees(),0!=e&&(this.loadInvoiceDt(e),this.loadAirwayItemsDt(e),this.setState({id_rough_invoice:e}))}},{key:"loadConsigners",value:function(){var e=this,t=Se;fetch("".concat(se,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consigners:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadConsignees",value:function(){var e=this,t=Ie;fetch("".concat(se,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consignees:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadLedgerAddress",value:function(e,t){var a=this;fetch("".concat(ne,"/").concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&("CONSIGNER"==t?a.setState({consigner_address:e[0].address}):a.setState({consignee_address:e[0].address}))})}},{key:"handleChangePortLoad",value:function(e){this.setState({port_load:e.target.value})}},{key:"handleChangeInvoiceNo",value:function(e){this.setState({invoice_no:e.target.value.toUpperCase()})}},{key:"handleChangeConsignee",value:function(e){this.setState({consignee:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNEE")}},{key:"handleChangeConsigner",value:function(e){this.setState({consigner:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNER")}},{key:"handleChangeConsigneeAddress",value:function(e){this.setState({consignee_address:e.target.value})}},{key:"handleChangeConsignerAddress",value:function(e){this.setState({consigner_address:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.products,a=this.state.invItems.map(function(a,n){return r.a.createElement(bt,{handleChangeKg:e.handleChangeKg,handleChangeBox:e.handleChangeBox,handleChangeProduct:e.handleChangeProduct,delRow:e.delRow,invItem:a,rowIndex:n,products:t})}),n=this.state.airwayItems.map(function(a,n){return r.a.createElement(yt,{handleChangeAirwayKg:e.handleChangeAirwayKg,handleChangeAirwayBox:e.handleChangeAirwayBox,handleChangeAirwayProduct:e.handleChangeAirwayProduct,delRowAirway:e.delRowAirway,airwayItem:a,rowIndex:n,products:t})}),l=this.state.airwayItems.reduce(function(e,t){return+e+ +t.kg*t.box},0),c=this.state.airwayItems.reduce(function(e,t){return+e+ +t.box},0),s=(this.state.airwayItems.reduce(function(e,t){return+e+ +t.kg},0),this.state.invItems.reduce(function(e,t){return+e+ +t.kg*t.box},0)),i=this.state.invItems.reduce(function(e,t){return+e+ +t.box},0),d=(this.state.invItems.reduce(function(e,t){return+e+ +t.kg},0),this.state),u=d.redirect,m=d.redirectToInvoice;return u?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/roughInvoiceList"})):m?(this.setState({redirectToInvoice:!1}),r.a.createElement(o.a,{to:"/invoice/0/".concat(this.props.match.params.id_rough_invoice)})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Rough Invoice"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"New Rough Invoice")),r.a.createElement("div",{class:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date:"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice No"),r.a.createElement("input",{type:"text",value:this.state.invoice_no,onChange:this.handleChangeInvoiceNo,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of loading"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangePortLoad(t)},value:this.state.port_load},this.state.airports.map(function(e){return r.a.createElement("option",{value:e.Id_port},e.Port)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consigner"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeConsigner(t)},value:this.state.consigner},this.state.consigners.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{class:"form-control",onChange:function(t){return e.handleChangeConsignerAddress(t)},value:this.state.consigner_address,rows:"3",placeholder:"Consigner"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consignee"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeConsignee(t)},value:this.state.consignee},this.state.consignees.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{class:"form-control",onChange:function(t){return e.handleChangeConsigneeAddress(t)},value:this.state.consignee_address,rows:"3",placeholder:"Consignee"})))))),r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Invoice")),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"10%"}},"Box"),r.a.createElement("th",{style:{width:"20%",textAlign:"right"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,a,r.a.createElement(Ct,{products:this.state.products,addRow:this.addRow})),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",{align:"right"}),r.a.createElement("td",{align:"right"},i),r.a.createElement("td",{align:"right"},s," Kg"),r.a.createElement("td",null)))),r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Airport Invoice")),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"10%"}},"Box"),r.a.createElement("th",{align:"right",style:{width:"20%",textAlign:"right"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,n,r.a.createElement(Ct,{products:this.state.products,addRow:this.addRowAirway})),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",{align:"right"}),r.a.createElement("td",{align:"right"},c),r.a.createElement("td",{align:"right"},l," Kg"),r.a.createElement("td",null)))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.saveInvoice("BACK")},type:"submit",class:"btn btn-primary"},"Save"),r.a.createElement("button",{onClick:function(){return e.saveInvoice("INVOICE")},type:"submit",class:"btn btn-primary"},"Create Invoice"),r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!1},function(){return e.setState({showPdf:!0,printDoc:"RoughInvoice"})})},type:"button",class:"btn btn-primary float-right"},"Print Rough Invoice"),r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!1},function(){return e.setState({showPdf:!0,printDoc:"Airway"})})},type:"button",class:"btn btn-primary float-right"},"Print Airway Bill")))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(Je.c,{style:{width:"100%",height:500}},"RoughInvoice"==this.state.printDoc?r.a.createElement(dt,this.state):r.a.createElement(gt,this.state)))))))))))))}}]),t}(n.Component),bt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleChangeKg=function(e){a.props.handleChangeKg(e,a.props.rowIndex)},a.handleChangeBox=function(e){a.props.handleChangeBox(e,a.props.rowIndex)},a.handleChangeProduct=function(e){a.props.handleChangeProduct(e,a.props.rowIndex)},a.delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeKg(t)}})),r.a.createElement("td",{align:"right"},r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeBox(t)}})),r.a.createElement("td",{align:"right"},Math.round(10*a)/10),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRow,class:"btn btn-success"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(n.Component),yt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleChangeAirwayKg=function(e){a.props.handleChangeAirwayKg(e,a.props.rowIndex)},a.handleChangeAirwayBox=function(e){a.props.handleChangeAirwayBox(e,a.props.rowIndex)},a.handleChangeAirwayProduct=function(e){a.props.handleChangeAirwayProduct(e,a.props.rowIndex)},a.delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.airwayItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeAirwayProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeAirwayKg(t)}})),r.a.createElement("td",{align:"right"},r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeAirwayBox(t)}})),r.a.createElement("td",{align:"right"},Math.round(10*a)/10),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRowAirway,class:"btn btn-success"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(n.Component),Ct=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).addRow=function(e){a.props.addRow(e)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.addRow(t)},value:0},this.props.products.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null),r.a.createElement("td",null," "))}}]),t}(n.Component),wt=pt,jt=a(64),kt=a.n(jt),Ot=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).handlePageChange=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.state.activePage;a.loadInvoiceList(e)})},a.state={title:"Table",data:null,date:new Date,invItems:[],activePage:1,totalCount:""},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.activePage;this.loadInvoiceList(e)}},{key:"loadInvoiceList",value:function(e){var t=this;fetch(R+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({invItems:e.items,totalCount:e.totalCount})}),console.log(this.state.totalCount)}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(St,{delRow:e.delRow,invItem:t,rowIndex:a})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Invoice")),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement(kt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)}))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Invoice"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(d.b,{to:"./invoice/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10%"}},"Inv. No"),r.a.createElement("th",{style:{width:"25%"}},"Date"),r.a.createElement("th",{style:{width:"25%"}},"Consignee"),r.a.createElement("th",{style:{width:"20%"}},"Status"),r.a.createElement("th",{style:{width:"15%"}}))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",{align:"right"})))))))))))}}]),t}(n.Component),St=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a.editRow=function(){a.props.editRow(a.props.rowIndex)},a.getStatus=function(e){return"Waiting Approval"==e?r.a.createElement("span",{class:"badge bg-primary"},"Waiting Approval"):"Packing"==e?r.a.createElement("span",{class:"badge bg-warning"},"Packing"):"Shipped"==e?r.a.createElement("span",{class:"badge bg-success"},"Shipped"):"Cancelled"==e?r.a.createElement("span",{class:"badge bg-danger"},"Cancelled"):void 0},a.getDelBtn=function(e){if(1==e)return r.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"}))},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.invItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.invoice_no),r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.consignee),r.a.createElement("td",null,this.getStatus(e.status)),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(d.b,{to:"./invoice/"+e.id_invoice,render:function(e){return r.a.createElement(ot,e)}},r.a.createElement("i",{class:"fas fa-edit"})," "),this.getDelBtn(e.status))))}}]),t}(r.a.Component),It=Ot,Dt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).handlePageChange=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.state.activePage;a.loadInvoiceList(e)})},a.state={title:"Table",data:null,date:new Date,invItems:[],activePage:1,totalCount:""},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.activePage;this.loadInvoiceList(e)}},{key:"loadInvoiceList",value:function(e){var t=this;fetch(T+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({invItems:e.items,totalCount:e.totalCount})})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(xt,{delRow:e.delRow,invItem:t,rowIndex:a})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Rough Invoice")),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement(kt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)}))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Rough Invoice"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(d.b,{to:"./roughInvoiceCreate/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"Date"),r.a.createElement("th",null,"Consigner"),r.a.createElement("th",null,"Consignee"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))))))))))}}]),t}(n.Component),xt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a.editRow=function(){a.props.editRow(a.props.rowIndex)},a.getStatus=function(e){return 1==e?r.a.createElement("span",{class:"badge bg-primary"},"created"):2==e?r.a.createElement("span",{class:"badge bg-warning"},"certified"):3==e?r.a.createElement("span",{class:"badge bg-success"},"shipped"):void 0},a.getDelBtn=function(e){if(1==e)return r.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"}))},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.consigner),r.a.createElement("td",null,t.consignee),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(d.b,{to:"./roughInvoiceCreate/"+t.id_rough_invoice,render:function(t){return r.a.createElement(wt,Object.assign({},t,{id_rough_invoice:e.props.match.params.id_rough_invoice}))}},r.a.createElement("i",{class:"fas fa-edit"})," "),this.getDelBtn(t.status))))}}]),t}(r.a.Component),Pt=Dt,Tt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).delPayroll=function(e){fetch(X+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})});var t=a.formatDate(a.state.date);a.loadVoucherList(t)},a.loadVoucherList=function(e){fetch($+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})}),console.log(a.state.arrVouchers)},a.saveVoucher=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger:a.state.id_ledger,amount:a.state.amount,type:a.state.type})};fetch(Q,e).then(function(e){return e.json()});var t=a.formatDate(a.state.date);a.loadVoucherList(t)}else a.validator.showMessages(),a.forceUpdate()},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateChange=function(e){a.setState({date:e},function(){var e=a.formatDate(a.state.date);a.loadVoucherList(e)})},a.state={data:null,date:new Date,id_ledger:"",type:"",amount:"",ledger:"",arrLedger:[],arrVouchers:[],arrType:[{type:"Allowance"},{type:"Salary"},{type:"Loan"}]},a.onAmountChange=a.onAmountChange.bind(Object(p.a)(Object(p.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(p.a)(Object(p.a)(a))),a.onLedgerChange=a.onLedgerChange.bind(Object(p.a)(Object(p.a)(a))),a.onDateChange=a.onDateChange.bind(Object(p.a)(Object(p.a)(a))),a.validator=new xe.a,a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.date);this.loadAccountHead(),this.loadVoucherList(e)}},{key:"loadAccountHead",value:function(){var e=this,t=je;fetch("".concat(se,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:t})})}},{key:"onTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(_t,{arrVoucher:t,arrLedger:e.state.arrLedger,delPayroll:e.delPayroll})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Payroll"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},r.a.createElement("option",null,"--Select--"),this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger",this.state.id_ledger,"required|numeric"))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)})))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveVoucher},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"40%"}},"Name"),r.a.createElement("th",{style:{width:"30%"}},"Type"),r.a.createElement("th",{style:{width:"30%"}},"Amount"),r.a.createElement("th",null,"hi"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),t}(n.Component),_t=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.props.delPayroll(t.id_payroll)}},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),Lt=Tt,Nt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadLedger=function(e){fetch(ne+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({id:e[0].id_ledger_group,name:e[0].account_head,op:e[0].opening_balance,address:e[0].address,phone:e[0].phone})}),a.state.op,a.setState({crdr:"Dr"})},a.saveLedger=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.state.id,name:a.state.name,code:a.state.code,op:"cr"==a.state.crdr?a.state.op:-1*a.state.op,address:a.state.address,phone:a.state.phone,id_account_head:a.props.match.params.id_ledger})};fetch(de,e).then(function(e){e.json(),a.setState({redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,id_account_head:"",code:"",id:"",name:"",op:"",crdr:"",address:"",phone:"",arrLedgerGroup:[],redirect:!1,types:[{Id:1,Type:"Cr"},{Id:2,Type:"Dr"}]},a.onNameChange=a.onNameChange.bind(Object(p.a)(Object(p.a)(a))),a.onIdChange=a.onIdChange.bind(Object(p.a)(Object(p.a)(a))),a.onOpChange=a.onOpChange.bind(Object(p.a)(Object(p.a)(a))),a.onAddressChange=a.onAddressChange.bind(Object(p.a)(Object(p.a)(a))),a.onPhoneChange=a.onPhoneChange.bind(Object(p.a)(Object(p.a)(a))),a.onCrdrChange=a.onCrdrChange.bind(Object(p.a)(Object(p.a)(a))),a.validator=new xe.a,a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup();var e=this.props.match.params.id_ledger;0!=e&&this.loadLedger(e)}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(oe).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerGroup:t})})}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value.toUpperCase()})}},{key:"onIdChange",value:function(e){this.setState({id:e.target.value})}},{key:"onOpChange",value:function(e){this.setState({op:e.target.value})}},{key:"onAddressChange",value:function(e){this.setState({address:e.target.value})}},{key:"onPhoneChange",value:function(e){this.setState({phone:e.target.value})}},{key:"onCrdrChange",value:function(e){this.setState({crdr:e.target.value})}},{key:"render",value:function(){return this.state.redirect?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/ledger"})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:this.state.name,onChange:this.onNameChange,class:"form-control"}),this.validator.message("name",this.state.name,"required|alpha_num_space"))),r.a.createElement("div",{class:"col-sm-5"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger Group"),r.a.createElement("select",{class:"form-control",onChange:this.onIdChange,value:this.state.id},r.a.createElement("option",{value:""},"Select"),this.state.arrLedgerGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})),this.validator.message("id",this.state.id,"required|alpha_num_space"))),r.a.createElement("div",{class:"col-sm-1"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"\xa0"),r.a.createElement(d.b,{to:"/ledgerGroup",class:"btn btn-tool btn-sm"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"+"))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Opening Balance"),r.a.createElement("input",{type:"text",value:this.state.op,onChange:this.onOpChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"\xa0"),r.a.createElement("select",{class:"form-control",onChange:this.onCrdrChange,value:this.state.crdr},this.state.types.map(function(e){return r.a.createElement("option",{value:e.Id},e.Type)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Phone"),r.a.createElement("input",{type:"text",value:this.state.phone,onChange:this.onPhoneChange,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Address"),r.a.createElement("textarea",{multiline:!0,type:"text",value:this.state.address,onChange:this.onAddressChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save"))))))))))))))}}]),t}(n.Component),Rt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadLedgerList=function(e,t){fetch(ie+"/".concat(e)+"/".concat(t)).then(function(e){return e.json()}).then(function(e){a.setState({arrLedgers:e.items,totalCount:e.totalCount})})},a.handlePageChange=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.state.activePage,t=a.state.ledgerGroup;a.loadLedgerList(t,e)})},a.delRow=function(e){var t=a.state.arrLedgers;t.splice(e,1),a.setState({arrLedgers:t})},a.onLedgerGroupChange=function(e){a.setState({ledgerGroup:e.target.value},function(){var e=a.state.ledgerGroup,t=a.state.activePage;a.loadLedgerList(e,t)})},a.state={data:null,ledgerGroup:"0",activePage:1,totalCount:"",arrLedgerGroup:[],arrLedgers:[]},a.onLedgerGroupChange=a.onLedgerGroupChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.ledgerGroup,t=this.state.activePage;this.loadLedgerGroup(),this.loadLedgerList(e,t)}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(oe).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerGroup:t})})}},{key:"render",value:function(){var e=this.state.arrLedgers.map(function(e,t){return r.a.createElement(At,{arrLedger:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Group"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerGroupChange,value:this.state.ledgerGroup},r.a.createElement("option",{value:""},"All"),this.state.arrLedgerGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})))),r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement(d.b,{to:"./ledgerCreate/0",class:"btn btn-tool btn-sm"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-fla"},"Create"))))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"45%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Phone"),r.a.createElement("th",{style:{width:"30%"}},"Group"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,e))),r.a.createElement("div",{class:"card-footer clearfix"},r.a.createElement(kt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)})))))))))}}]),t}(n.Component),At=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrLedger;return r.a.createElement("tr",null,r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.phone),r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(d.b,{to:"./ledgerCreate/"+t.id_account_head,render:function(t){return r.a.createElement(Nt,Object.assign({},t,{id_ledger:e.props.match.params.id_ledger}))}},r.a.createElement("i",{class:"fas fa-edit"})))))}}]),t}(r.a.Component),Vt=Rt,Ft=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadVoucherList=function(e,t){fetch(Z+"/'".concat(e,"'")+"/'".concat(t,"'")).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})}),a.setState({id_ledger_from:"",id_ledger_to:"",amount:"",description:""}),console.log(a.state.arrVouchers)},a.saveVoucher=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger_from:a.state.id_ledger_from,id_ledger_to:a.state.id_ledger_to,description:a.state.description,rate:a.state.rate,amount:a.state.amount,type:a.state.type,voucher_no:a.state.voucher_no,id_invoice:a.state.id_invoice})};fetch(ee,e).then(function(e){e.json();var t=a.formatDate(a.state.date);a.loadVoucherList(t,a.state.type)})}else a.validator.showMessages(),a.forceUpdate()},a.delVoucher=function(e){fetch(q+"/".concat(e)).then(function(e){e.json();var t=a.formatDate(a.state.date);a.loadVoucherList(t,a.state.type)})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateChange=function(e){a.setState({date:e},function(){var e=a.formatDate(a.state.date);a.loadVoucherList(e,a.state.type),a.loadAccountHead()})},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,date:new Date,id_ledger_from:"",id_ledger_to:"",description:"",rate:"",amount:"",type:"Payment",voucher_no:0,id_invoice:0,ledger:"",arrLedgerFrom:[],arrLedgerTo:[],arrVouchers:[],arrType:[{type:"Payment"},{type:"Receipt"},{type:"Transfer"}]},a.onAmountChange=a.onAmountChange.bind(Object(p.a)(Object(p.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(p.a)(Object(p.a)(a))),a.onDescriptionChange=a.onDescriptionChange.bind(Object(p.a)(Object(p.a)(a))),a.onLedgerFromChange=a.onLedgerFromChange.bind(Object(p.a)(Object(p.a)(a))),a.onLedgerToChange=a.onLedgerToChange.bind(Object(p.a)(Object(p.a)(a))),a.onDateChange=a.onDateChange.bind(Object(p.a)(Object(p.a)(a))),a.validator=new xe.a,a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.date),t=this.state.type;this.loadAccountHead(),this.loadVoucherList(e,t)}},{key:"loadAccountHead",value:function(){var e=this,t=ke,a=-1*ke;"Receipt"==this.state.type?(t=-1*ke,a=ke+","+Se+","+Ie):"Payment"==this.state.type?(t=ke+","+Se+","+Ie,a=-1*ke):"Transfer"==this.state.type&&(t=ke,a=ke),fetch("".concat(ie,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerFrom:t})}),fetch("".concat(ie,"/").concat(a)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerTo:t})})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onTypeChange",value:function(e){var t=this;this.setState({type:e.target.value},function(){t.loadVoucherList(t.formatDate(t.state.date),t.state.type),t.loadAccountHead()})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerFromChange",value:function(e){this.setState({id_ledger_from:e.target.value})}},{key:"onLedgerToChange",value:function(e){this.setState({id_ledger_to:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(Bt,{arrVoucher:t,arrLedger:e.state.arrLedger,delVoucher:e.delVoucher})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Voucher"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)}))))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerFromChange,value:this.state.id_ledger_from},r.a.createElement("option",null,"--Select--"),this.state.arrLedgerFrom.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger_from",this.state.id_ledger_from,"required|numeric"))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerToChange,value:this.state.id_ledger_to},r.a.createElement("option",null,"--Select--"),this.state.arrLedgerTo.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("id_ledger_to",this.state.id_ledger_to,"required|numeric")))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Remarks"),r.a.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveVoucher},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"From"),r.a.createElement("th",{style:{width:"25%"}},"To"),r.a.createElement("th",{style:{width:"25%"}},"Remarks"),r.a.createElement("th",{style:{width:"25%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),t}(n.Component),Bt=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.acc_from),r.a.createElement("td",null,t.acc_to),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.delVoucher(t.id_account_voucher)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),Mt=Ft,Gt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadVoucherList=function(e,t,n,r){fetch(re+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e.items,totalCount:e.totalCount})}),a.loadOp(e,t,n)},a.handlePageChange=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.state.activePage,t=a.formatDate(a.state.dateFrom),n=a.formatDate(a.state.dateTo),r=a.state.id_ledger;a.loadVoucherList(t,n,r,e)})},a.loadOp=function(e,t,n){fetch(le+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({op:e[0].opening_bal})}),console.log(a.state.arrVouchers)},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e})},a.onDateToChange=function(e){a.setState({dateTo:e})},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:0,activePage:1,totalCount:"",arrLedger:[],arrVouchers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(p.a)(Object(p.a)(a))),a.onDateFromChange=a.onDateFromChange.bind(Object(p.a)(Object(p.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.dateFrom),t=this.formatDate(this.state.dateTo),a=this.state.id_ledger,n=this.state.activePage;this.loadOp(e,t,a),this.loadVoucherList(e,t,a,n),this.loadAccountHead()}},{key:"loadAccountHead",value:function(){var e=this;fetch(se).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:t})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(zt,{arrVoucher:t,arrLedger:e.state.arrLedger})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.receipt},0),n=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.payment},0),l=-1*this.state.op+n-a,c=l>=0?"".concat(l," DR"):"".concat(-1*l," CR"),o=this.state.op>=0?"".concat(this.state.op," CR"):"".concat(-1*this.state.op," DR");return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement("label",null,"Opening Balance :"),r.a.createElement("label",null,o))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadVoucherList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo),e.state.id_ledger,e.state.activePage)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Date"),r.a.createElement("th",{style:{width:"15%"}},"Type"),r.a.createElement("th",{style:{width:"20%"}},"Description"),r.a.createElement("th",{style:{width:"10%"}},"Debit"),r.a.createElement("th",{style:{width:"10%"}},"Credit"),r.a.createElement("th",{style:{width:"10%"}},"Balance"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},n),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",{align:"right"},c)))),r.a.createElement("div",{class:"card-footer clearfix"},r.a.createElement(kt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)})))))))))}}]),t}(n.Component),zt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,e.payment),r.a.createElement("td",null,e.receipt),r.a.createElement("td",null))}}]),t}(r.a.Component),Ht=Gt,Kt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).saveLedger=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ledger:a.state.ledger})};fetch(ce,e).then(function(e){return e.json()}),a.loadLedgerGroup()},a.delRow=function(e){var t=a.state.arrLedgers;t.splice(e,1),a.setState({arrLedgers:t})},a.state={data:null,ledger:"",arrLedgers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup()}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(oe).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgers:t})})}},{key:"onLedgerChange",value:function(e){this.setState({ledger:e.target.value})}},{key:"render",value:function(){var e=this.state.arrLedgers.map(function(e,t){return r.a.createElement(Ut,{arrLedger:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Ledger Group"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:this.state.ledger,onChange:this.onLedgerChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"100%"}},"Name"))),r.a.createElement("tbody",null,e))))))))))}}]),t}(n.Component),Ut=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.arrLedger;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name))}}]),t}(r.a.Component),Wt=Kt,Jt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadCredit=function(e,t,n,r){fetch(me+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){a.setState({arrCreditVouchers:e||[]})})},a.loadDebit=function(e,t,n,r){fetch(he+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){a.setState({arrDebitVouchers:e.items||[],totalCountDebit:e.totalCountDebit})})},a.loadOp=function(e,t){fetch(ue+"/'".concat(e,"'")+"/".concat(t)).then(function(e){return e.json()}).then(function(e){a.setState({op:e?e[0].balance:0})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e},function(){a.formatDate(a.state.dateFrom),a.formatDate(a.state.dateTo)})},a.onDateToChange=function(e){a.setState({dateTo:e},function(){a.formatDate(a.state.dateFrom),a.formatDate(a.state.dateTo)})},a.onLedgerChange=function(e){a.setState({id_ledger:e.target.value},function(){})},a.loadCashBook=function(){var e=a.formatDate(a.state.dateFrom),t=a.formatDate(a.state.dateTo),n=a.state.id_ledger,r=a.state.activePage;a.loadCredit(e,t,n,r),a.loadDebit(e,t,n,r),a.loadOp(e,n)},a.handlePageChangeCredit=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.formatDate(a.state.dateFrom),t=a.formatDate(a.state.dateTo),n=a.state.id_ledger,r=a.state.activePage;a.loadCredit(e,t,n,r)})},a.handlePageChangeDebit=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.formatDate(a.state.dateFrom),t=a.formatDate(a.state.dateTo),n=a.state.id_ledger,r=a.state.activePage;a.loadDebit(e,t,n,r)})},a.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:"",activePage:1,totalCountDebit:"",totalCountCredit:"",arrLedger:[],arrCreditVouchers:[],arrDebitVouchers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(p.a)(Object(p.a)(a))),a.onDateFromChange=a.onDateFromChange.bind(Object(p.a)(Object(p.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(p.a)(Object(p.a)(a))),a.loadCashBook=a.loadCashBook.bind(Object(p.a)(Object(p.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.loadAccountHead()}},{key:"loadAccountHead",value:function(){var e=this,t=ke;fetch("".concat(se,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"render",value:function(){var e=this.state.arrCreditVouchers.map(function(e,t){return r.a.createElement(Qt,{arrCredit:e})}),t=this.state.arrDebitVouchers.map(function(e,t){return r.a.createElement(Yt,{arrVoucher:e})}),a=this.state.arrCreditVouchers.reduce(function(e,t){return+e+ +t.credit},0),n=this.state.arrDebitVouchers.reduce(function(e,t){return+e+ +t.debit},0),l=this.state.op+n-a;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Cash Book"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.loadCashBook},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Opening Balance :"),r.a.createElement("label",null,this.state.op)))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement(kt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCountDebit,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChangeDebit.bind(this)}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement(kt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCountCredit,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChangeCredit.bind(this)})))))),r.a.createElement("tbody",null)),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"40%"}},"Name"),r.a.createElement("th",{style:{width:"35%"}},"Particulars"),r.a.createElement("th",{style:{width:"25%"}},"Debit"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},n)))))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"40%"}},"Name"),r.a.createElement("th",{style:{width:"35%"}},"Particulars"),r.a.createElement("th",{style:{width:"25%"}},"Credit"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-footer"},r.a.createElement("label",null,"Balance : ",l)))))))))))))}}]),t}(n.Component),Yt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,e.debit))}}]),t}(r.a.Component),Qt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.arrCredit;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,e.credit))}}]),t}(r.a.Component),$t=Jt,Xt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadSundryCreditors=function(e){fetch(te+"/".concat(e)).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})})},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,id_ledger_group:"0",ledger:"",arrGroup:[],arrVouchers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.id_ledger_group;this.loadSundryCreditors(e),this.loadGroup()}},{key:"loadGroup",value:function(){var e=this;fetch(oe).then(function(e){return e.json()}).then(function(t){return e.setState({arrGroup:[{id_ledger_group:0,name:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_group:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return r.a.createElement(Zt,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.closing_balance},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Sundry Creditor"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Group"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.onLedgerChange(t)},value:this.state.id_ledger_group},this.state.arrGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadSundryCreditors(e.state.id_ledger_group)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"35%"}},"Account Head"),r.a.createElement("th",{style:{width:"30%"}},"Group"),r.a.createElement("th",{style:{width:"30%"}},"Closing Balance"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a," CR")))))))))))}}]),t}(n.Component),Zt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.account_head),r.a.createElement("td",null,e.ledger_group),r.a.createElement("td",{align:"right"},e.closing_balance))}}]),t}(r.a.Component),qt=Xt,ea=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadSundryCreditors=function(e){fetch(ae+"/".concat(e)).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})})},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,id_ledger_group:"0",ledger:"",arrGroup:[],arrVouchers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.id_ledger_group;this.loadSundryCreditors(e),this.loadGroup()}},{key:"loadGroup",value:function(){var e=this;fetch(oe).then(function(e){return e.json()}).then(function(t){return e.setState({arrGroup:[{id_ledger_group:0,name:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_group:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return r.a.createElement(ta,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.closing_balance},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Sundry Debtor"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Group"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.onLedgerChange(t)},value:this.state.id_ledger_group},this.state.arrGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadSundryCreditors(e.state.id_ledger_group)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"35%"}},"Account Head"),r.a.createElement("th",{style:{width:"30%"}},"Group"),r.a.createElement("th",{style:{width:"30%"}},"Closing Balance"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},-1*a," DR"))))))))))))}}]),t}(n.Component),ta=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.account_head),r.a.createElement("td",null,e.ledger_group),r.a.createElement("td",{align:"right"},-1*e.closing_balance))}}]),t}(r.a.Component),aa=ea,na=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={data:null,ledger:"",arrProducts:[]},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup()}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(Ee).then(function(e){return e.json()}).then(function(t){return e.setState({arrProducts:t})})}},{key:"render",value:function(){var e=this.state.arrProducts.map(function(e,t){return r.a.createElement(ra,{arrProduct:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Products"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Purchase Price"),r.a.createElement("th",{style:{width:"25%"}},"Selling Price"))),r.a.createElement("tbody",null,e))))))))))}}]),t}(n.Component),ra=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.arrProduct;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.purchase_price),r.a.createElement("td",null,e.selling_price))}}]),t}(r.a.Component),la=na,ca=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadVoucherList=function(e){fetch(ve+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({date:e[0].date,voucher_no:e[0].voucher_no,ledger:e[0].account_head,op:e[0]._old_balance})})},a.loadVoucherItemsList=function(e){fetch(pe+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVoucherItems:e})})},a.loadVoucherExpList=function(e){fetch(be+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVoucherExps:e})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,date:"",voucher_no:"",op:"",ledger:"",arrVouchers:[],arrVoucherItems:[],arrVoucherExps:[],arrVoucherTotals:[]},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.voucher_no;this.loadVoucherList(e),this.loadVoucherItemsList(e),this.loadVoucherExpList(e)}},{key:"render",value:function(){var e=this.state.arrVoucherItems.map(function(e,t){return r.a.createElement(oa,{arrVoucher:e})}),t=this.state.arrVoucherExps.map(function(e,t){return r.a.createElement(sa,{arrVoucherExp:e})}),a=(this.state.arrVoucherTotals.map(function(e,t){return r.a.createElement(ia,{arrVoucher:e})}),this.state.arrVoucherItems.reduce(function(e,t){return+e+ +t.total},0)),n=this.state.arrVoucherExps.reduce(function(e,t){return+e+ +t.amount},0),l=a+n,c=l+this.state.op;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Purchase Voucher"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Voucher No :"),r.a.createElement("label",null,this.state.voucher_no))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date :"),r.a.createElement("label",null,this.state.date)))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Party : "),r.a.createElement("label",null,this.state.ledger)))),r.a.createElement("div",{class:"row"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"No"),r.a.createElement("th",{style:{width:"20%"}},"Item"),r.a.createElement("th",{style:{width:"25%"}},"Kg"),r.a.createElement("th",{style:{width:"25%"}},"Price"),r.a.createElement("th",{style:{width:"25%"}},"Total"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"65%"}},"Expense"),r.a.createElement("th",{style:{width:"35%"}},"Amount"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},n)))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Total "),r.a.createElement("td",{style:{fontWeight:"bold"}},a)),r.a.createElement("tr",null,r.a.createElement("td",null,"Expense "),r.a.createElement("td",{style:{fontWeight:"bold"}},n)),r.a.createElement("tr",null,r.a.createElement("td",null,"Net "),r.a.createElement("td",{style:{fontWeight:"bold"}},l)),r.a.createElement("tr",null,r.a.createElement("td",null,"OB"),r.a.createElement("td",{style:{fontWeight:"bold"}},this.state.op)),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontWeight:"bold"}},"Total"),r.a.createElement("td",{style:{fontWeight:"bold"}},c))))))))))))}}]),t}(n.Component),oa=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.unit_price),r.a.createElement("td",null,e.total))}}]),t}(r.a.Component),sa=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucherExp;return r.a.createElement("tr",null,r.a.createElement("td",null,e.expense),r.a.createElement("td",null,e.amount))}}]),t}(r.a.Component),ia=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state.arrVoucherItems.reduce(function(e,t){return+e+ +t.total},0),t=this.state.arrVoucherExps.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("tr",null,r.a.createElement("td",null,"Total  :",e),r.a.createElement("td",null,"Expense :",t),r.a.createElement("td",null))}}]),t}(r.a.Component),da=ca,ua=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadVoucherList=function(e,t){fetch(fe+"/'".concat(e,"'")+"/'".concat(t,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e})},a.onDateToChange=function(e){a.setState({dateTo:e})},a.state={data:null,dateFrom:new Date,dateTo:new Date,arrVouchers:[]},a.onDateFromChange=a.onDateFromChange.bind(Object(p.a)(Object(p.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.dateFrom),t=this.formatDate(this.state.dateTo);this.loadVoucherList(e,t)}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return r.a.createElement(ma,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Purchase Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadVoucherList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo))}},"Search"))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"V. No"),r.a.createElement("th",{style:{width:"20%"}},"Date"),r.a.createElement("th",{style:{width:"40%"}},"Party"),r.a.createElement("th",{style:{width:"20%"}},"Kg"),r.a.createElement("th",{style:{width:"20%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),t}(n.Component),ma=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.voucher_no),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(d.b,{to:"purchaseVoucher/"+t.voucher_no,render:function(t){return r.a.createElement(da,Object.assign({},t,{voucher_no:e.props.match.params.voucher_no}))}},r.a.createElement("i",{class:"fas fa-edit"})))))}}]),t}(r.a.Component),ha=ua,Ea=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadStockList=function(e){fetch(ge+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})}),console.log(a.state.arrVouchers)},a.state={data:null,id_product:"",type:"",arrProducts:[],arrVouchers:[],arrType:[{type:"FISH"},{type:"PACKING MATERIAL"},{type:"OTHER"}]},a.onProductChange=a.onProductChange.bind(Object(p.a)(Object(p.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(p.a)(Object(p.a)(a))),a.validator=new xe.a,a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.arrType[0].type;this.loadProduct(),this.loadStockList(e)}},{key:"loadProduct",value:function(){var e=this;fetch(Ee).then(function(e){return e.json()}).then(function(t){e.setState({arrProducts:t})})}},{key:"onProductChange",value:function(e){this.setState({id_product:e.target.value},function(){})}},{key:"onTypeChange",value:function(e){var t=this;this.setState({type:e.target.value},function(){var e=t.state.type;t.loadStockList(e)})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return r.a.createElement(ga,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.rate*t.stock},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Stock Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)})))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadStockList(e.state.type)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Product"),r.a.createElement("th",{style:{width:"25%"}},"Stock"),r.a.createElement("th",{style:{width:"25%"}},"Rate"),r.a.createElement("th",{style:{width:"25%"}},"Amount"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a)))))))))))}}]),t}(n.Component),ga=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.product," ",e.unit),r.a.createElement("td",null,e.stock),r.a.createElement("td",null,e.rate),r.a.createElement("td",null,e.rate*e.stock))}}]),t}(r.a.Component),fa=Ea,va=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).delNotification=function(e){fetch(we+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({invItems:e})}),a.loadNotification()},a.state={title:"Table",data:null,date:new Date,invItems:[]},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.loadNotification()}},{key:"loadNotification",value:function(){var e=this;fetch(ye).then(function(e){return e.json()}).then(function(t){return e.setState({invItems:t})})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(pa,{invItem:t,rowIndex:a,delNotification:e.delNotification})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Notification"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Notification"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(d.b,{to:"./notificationCreate"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"35%"}},"Date"),r.a.createElement("th",{style:{width:"50%"}},"Desciption"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))))))))))}}]),t}(n.Component),pa=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem;t.isread;return 0==t.isread?"Read":"Unread",r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.description),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-outline-danger",onClick:function(){return e.props.delNotification(t.id_notification)}},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),ba=va,ya=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).saveLedger=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:a.state.description})};fetch(Ce,e).then(function(e){e.json(),a.setState({redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={description:"",redirect:!1},a.onDescriptionChange=a.onDescriptionChange.bind(Object(p.a)(Object(p.a)(a))),a.validator=new xe.a,a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"render",value:function(){return this.state.redirect?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/notification"})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Notification Create"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{multiline:!0,type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save"))))))))))))))}}]),t}(n.Component),Ca=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).login=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.state.username,password:a.state.password})};fetch(j,e).then(function(e){return e.json()}).then(function(e){e.length>0?(a.setState({error:!1}),localStorage.setItem("ShadeUser",e[0].id_user),window.location.reload()):a.setState({error:!0})})},a.state={username:"",password:"",error:!1},a.handleChangeUsername=a.handleChangeUsername.bind(Object(p.a)(Object(p.a)(a))),a.handleChangePassword=a.handleChangePassword.bind(Object(p.a)(Object(p.a)(a))),a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"hold-transition login-page"},r.a.createElement("div",{class:"login-box"},r.a.createElement("div",{class:"login-logo"},r.a.createElement("a",{href:"#"},r.a.createElement("b",null,"Aqua"),"sign")),r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body login-card-body"},r.a.createElement("p",{class:"login-box-msg"},"Sign in"),r.a.createElement("form",{action:"../../index3.html",method:"post"},r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("input",{type:"text",class:"form-control",placeholder:"User ID",value:this.state.username,onChange:this.handleChangeUsername}),r.a.createElement("div",{class:"input-group-append"},r.a.createElement("div",{class:"input-group-text"},r.a.createElement("span",{class:"fas fa-envelope"})))),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("input",{type:"password",class:"form-control",placeholder:"Password",value:this.state.password,onChange:this.handleChangePassword}),r.a.createElement("div",{class:"input-group-append"},r.a.createElement("div",{class:"input-group-text"},r.a.createElement("span",{class:"fas fa-lock"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-8"},r.a.createElement("div",{class:"icheck-primary"},this.state.error&&r.a.createElement("label",{for:"remember",style:{color:"red"}},"Invalid Login!"))),r.a.createElement("div",{class:"col-4"},r.a.createElement("button",{type:"button",onClick:function(){return e.login()},class:"btn btn-primary btn-block"},"Sign In"))))))))}}]),t}(n.Component),wa=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).loadUserDt=function(e){fetch(S+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({username:e[0].username,password:e[0].password,confirm:e[0].password,access:e[0].access}),e[0].access.split(",").forEach(function(e){console.log(e),a.setState(function(t){return{checkedItems:t.checkedItems.set(e,!0)}})})})},a.saveUser=function(){if(a.validator.allValid())if(a.state.password==a.state.confirm){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.state.username,password:a.state.password,confirm:a.state.confirm,access:a.state.checkedList,id_user:a.state.id_user})};fetch(k,e).then(function(e){e.json(),a.setState({redirect:!0})})}else a.setState({hidediv:!0});else a.validator.showMessages(),a.forceUpdate()},a.state=Object(u.a)({data:null,id_user:0,username:"",password:"",access:[],items:[],accessList:[],checkedList:"",checkedItems:new Map,hidediv:!1,redirectToUsers:!1},"redirectToUsers",!1),a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a.handleChangeUsername=a.handleChangeUsername.bind(Object(p.a)(Object(p.a)(a))),a.handleChangePassword=a.handleChangePassword.bind(Object(p.a)(Object(p.a)(a))),a.handleChangeConfirm=a.handleChangeConfirm.bind(Object(p.a)(Object(p.a)(a))),a.validator=new xe.a,a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id_user;0!=e&&(this.loadUserDt(e),this.setState({id_user:e}))}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.checked;this.setState(function(e){return{checkedItems:e.checkedItems.set(t,a)}});var n=this.state.checkedItems,r=Array.from(n).filter(function(e){return!0===e[1]}),l=Array.from(r,function(e){return e[0]});this.setState({checkedList:l.join()})}},{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value.toUpperCase()})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeConfirm",value:function(e){this.setState({confirm:e.target.value})}},{key:"render",value:function(){var e=this,t=function(e){var t=e.type,a=void 0===t?"checkbox":t,n=e.name,l=e.checked,c=void 0!==l&&l,o=e.onChange;return r.a.createElement("input",{name:n,type:a,checked:c,onChange:o})},a=this.state,n=a.redirect,l=a.redirectToUsers;return n?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/users"})):l?(this.setState({redirectToUsers:!1}),r.a.createElement(o.a,{to:"/users/0/".concat(this.props.match.params.id_user)})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"User Creation"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"User")),r.a.createElement("div",{class:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",value:this.state.username,onChange:this.handleChangeUsername,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handleChangePassword,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",value:this.state.confirm,onChange:this.handleChangeConfirm,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"text-danger mr-1",id:"results",hidden:!this.state.hidediv},"Confirm password didn't match."))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Access"),r.a.createElement(r.a.Fragment,null,[{key:"1",label:"Voucher ",name:"Voucher"},{key:"2",label:"Ledger Report",name:"Ledger Report"},{key:"3",label:"Cash Book ",name:"Cash Book"},{key:"4",label:"Sundry Creditor ",name:"Sundry Creditor"},{key:"5",label:"Sundry Debtor ",name:"Sundry Debtor"},{key:"5",label:"Stock Report ",name:"Stock Report"},{key:"5",label:"Notification ",name:"Notification"}].map(function(a){return r.a.createElement("div",null,r.a.createElement("label",{key:a.key},r.a.createElement(t,{name:a.name,checked:e.state.checkedItems.get(a.name),onChange:e.handleChange}),"\xa0\xa0",a.name))}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveUser},"Save")))))))))))))}}]),t}(n.Component),ja=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).delUser=function(e){fetch(O+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({items:e})}),a.loadInvoiceList()},a.state={title:"Table",data:null,date:new Date,items:[]},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.loadInvoiceList()}},{key:"loadInvoiceList",value:function(){var e=this;fetch(I).then(function(e){return e.json()}).then(function(t){return e.setState({items:t})})}},{key:"render",value:function(){var e=this,t=this.state.items.map(function(t,a){return r.a.createElement(ka,{delUser:e.delUser,item:t,rowIndex:a})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Users"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Users"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(d.b,{to:"./userCreate/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Access"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))))))))))}}]),t}(n.Component),ka=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item;return r.a.createElement("tr",null,r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.access),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(d.b,{to:"./userCreate/"+t.id_user,render:function(t){return r.a.createElement(wa,Object.assign({},t,{id_user:e.props.match.params.id_user}))}},r.a.createElement("i",{class:"fas fa-edit"})," "))),r.a.createElement("td",null,r.a.createElement("button",{type:"button",class:"btn btn-outline-danger",onClick:function(){return e.props.delUser(t.id_user)}},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(r.a.Component),Oa=ja;function Sa(){var e=localStorage.getItem("ShadeUser")||"",t=Object(s.a)();return""!=e?r.a.createElement(d.a,{history:t},r.a.createElement(o.b,{path:"/roughInvoiceCreate/:id_rough_invoice",component:wt}),r.a.createElement(o.b,{path:"/invoice/:id/:id_rough_invoice?",component:ot}),r.a.createElement(o.b,{path:"/invoiceList",component:It}),r.a.createElement(o.b,{path:"/roughInvoiceList",component:Pt}),r.a.createElement(o.b,{path:"/",exact:!0,component:It}),r.a.createElement(o.b,{path:"/voucher",exact:!0,component:Mt}),r.a.createElement(o.b,{path:"/payroll",exact:!0,component:Lt}),r.a.createElement(o.b,{path:"/ledgerReport",exact:!0,component:Ht}),r.a.createElement(o.b,{path:"/ledger",exact:!0,component:Vt}),r.a.createElement(o.b,{path:"/ledgerCreate/:id_ledger",exact:!0,component:Nt}),r.a.createElement(o.b,{path:"/ledgerGroup",exact:!0,component:Wt}),r.a.createElement(o.b,{path:"/cashBook",exact:!0,component:$t}),r.a.createElement(o.b,{path:"/product",exact:!0,component:la}),r.a.createElement(o.b,{path:"/purchaseVoucher/:voucher_no",exact:!0,component:da}),r.a.createElement(o.b,{path:"/purchaseReport",exact:!0,component:ha}),r.a.createElement(o.b,{path:"/stockReport",exact:!0,component:fa}),r.a.createElement(o.b,{path:"/sundryCreditor",exact:!0,component:qt}),r.a.createElement(o.b,{path:"/sundryDebtor",exact:!0,component:aa}),r.a.createElement(o.b,{path:"/notification",exact:!0,component:ba}),r.a.createElement(o.b,{path:"/notificationCreate",exact:!0,component:ya}),r.a.createElement(o.b,{path:"/users",exact:!0,component:Oa}),r.a.createElement(o.b,{path:"/userCreate/:id_user",exact:!0,component:wa})):r.a.createElement(d.a,null,r.a.createElement(o.b,{path:"/",render:function(e){return r.a.createElement(Ca,e)}}))}var Ia=function(){return r.a.createElement(o.c,{history:i},r.a.createElement(Sa,null))};c.a.render(r.a.createElement(Ia,null),document.getElementById("root"))}},[[285,2,1]]]);
//# sourceMappingURL=main.b1a59ac2.chunk.js.map