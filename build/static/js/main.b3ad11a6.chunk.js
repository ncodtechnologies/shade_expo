(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){e.exports=a.p+"static/media/Roboto-Bold.e07df86c.ttf"},134:function(e,t,a){e.exports=a.p+"static/media/Roboto-BoldItalic.5b44818d.ttf"},276:function(e,t,a){e.exports=a.p+"static/media/loading.3f259006.gif"},288:function(e,t,a){e.exports=a(454)},315:function(e,t){},317:function(e,t){},353:function(e,t){},354:function(e,t){},454:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(168),c=a.n(l),o=a(166),s=a(49),i=Object(s.a)(),d=a(25),u=a(89),m=a(45),h=a(7),g=a(8),f=a(10),E=a(9),p=a(11),v=a(5),b=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){}},{key:"logOut",value:function(){localStorage.clear(),window.location.reload()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{class:"main-header navbar navbar-expand navbar-white navbar-light"},r.a.createElement("ul",{class:"navbar-nav"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link","data-widget":"pushmenu",href:"#"},r.a.createElement("i",{class:"fas fa-bars"}))),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(d.b,{to:"/product",className:"nav-link"},"Product")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(d.b,{to:"/login",className:"nav-link"},"Login")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(d.b,{to:"/users",className:"nav-link"},"Users")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(d.b,{to:"/invoiceList",className:"nav-link"},"Invoices")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(d.b,{to:"/voucher",className:"nav-link"},"Voucher"))),r.a.createElement("ul",{class:"navbar-nav ml-auto"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link",href:"#",onClick:function(){return e.logOut()}},"Log Out")))),r.a.createElement("aside",{class:"main-sidebar sidebar-dark-primary elevation-4"},r.a.createElement("a",{href:"index3.html",class:"brand-link"},r.a.createElement("img",{src:"dist/img/AdminLTELogo.png",alt:"AdminLTE Logo",class:"brand-image img-circle elevation-3"}),r.a.createElement("span",{class:"brand-text font-weight-light"},"Aquasign")),r.a.createElement("div",{class:"sidebar"},r.a.createElement("div",{class:"user-panel mt-3 pb-3 mb-3 d-flex"},r.a.createElement("div",{class:"image"},r.a.createElement("img",{src:"dist/img/user2-160x160.jpg",class:"img-circle elevation-2",alt:"User Image"})),r.a.createElement("div",{class:"info"},r.a.createElement("a",{href:"#",class:"d-block"},"Admin"))),r.a.createElement("nav",{class:"mt-2"},r.a.createElement("ul",{class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},r.a.createElement("li",{class:"nav-item has-treeview"},r.a.createElement(d.c,{to:"/accounts",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Master")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/ledger",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Ledger"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/product",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Product"))))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/roughInvoiceList",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Rough Invoices"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/invoiceList",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Invoices"))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(d.c,{to:"/purchase",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Purchase")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/purchaseReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Purchase Report"))))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(d.c,{to:"/accounts",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Accounts")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/voucher",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Voucher"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/ledgerReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Ledger Report"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/cashBook",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Cash Book"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/sundryCreditor",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Sundry Creditor"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/sundryDebtor",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Sundry Debtor"))))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(d.c,{to:"/payroll",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Payroll"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/stockReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Stock Report"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(d.c,{to:"/notification",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Notification"))))))))}}]),t}(n.Component),y=a(34),C=a.n(y),w="http://198.12.251.14:3000/",j="".concat(w,"login/login"),k="".concat(w,"login/users"),O=("".concat(w,"login/users"),"".concat(w,"login/userDel")),x="".concat(w,"login/userEdit"),D="".concat(w,"login/userList"),S="".concat(w,"invoice/roughInvoice"),I="".concat(w,"invoice/roughInvoice"),T="".concat(w,"invoice/roughInvoice/airway"),_="".concat(w,"invoice/roughInvoiceList"),P="".concat(w,"invoice/invoice"),R="".concat(w,"invoice/invoice"),A="".concat(w,"invoice/invoiceList"),L="".concat(w,"invoice/invoiceList"),N="".concat(w,"invoice/invoice/expense"),F="".concat(w,"invoice/invoice/expense"),V="".concat(w,"invoice/invoice/frightExp"),M="".concat(w,"invoice/invoice/expenseDel"),z="".concat(w,"invoice/invoice/netSalesTotal"),B="".concat(w,"invoice/invoice/totPackingExp"),H="".concat(w,"invoice/invoice/netOtherExp"),G="".concat(w,"invoice/invoice/frightExpTot"),K="".concat(w,"invoice/invoice/updPurchase"),W="".concat(w,"invoice/invoice/documents"),U="".concat(w,"invoice/invoice/documentsList"),Y="".concat(w,"invoice/invoice/documentsDel"),Q="".concat(w,"invoice/invoice/getDoc"),J="".concat(w,"invoice/invoice/invLabour"),X="".concat(w,"invoice/invoice/invPacking"),$="".concat(w,"invoice/invoice/invPackingGrpBy"),Z="".concat(w,"invoice/invoice/invPackingExp"),q=("".concat(w,"invoice/docs"),"".concat(w,"payroll/payroll")),ee="".concat(w,"payroll/payroll"),te="".concat(w,"payroll/payrollDel"),ae="".concat(w,"accounts/voucher"),ne="".concat(w,"accounts/voucherDel"),re="".concat(w,"accounts/accounts/voucher"),le="".concat(w,"accounts/sundryCreditor"),ce="".concat(w,"accounts/sundryDebtor"),oe="".concat(w,"accounts/ledgerEdit"),se="".concat(w,"accounts/ledgerReport"),ie="".concat(w,"accounts/ledgerReportOp"),de="".concat(w,"accounts/ledgerGroup"),ue="".concat(w,"accounts/ledgerGroup"),me="".concat(w,"accounts/ledger"),he="".concat(w,"accounts/ledger"),ge="".concat(w,"accounts/ledgerCreate"),fe=("".concat(w,"accounts/ledgerCreate"),"".concat(w,"accounts/cashBookOp")),Ee="".concat(w,"accounts/cashBookCredit"),pe="".concat(w,"accounts/cashBookDebit"),ve="".concat(w,"product/product"),be="".concat(w,"product/stockReport"),ye="".concat(w,"purchase/purchaseReport"),Ce="".concat(w,"purchase/purchaseVoucher"),we="".concat(w,"purchase/purchaseVoucherItems"),je="".concat(w,"purchase/purchaseVoucherExpense"),ke="".concat(w,"notification/notification"),Oe="".concat(w,"notification/notification"),xe="".concat(w,"notification/notificationDel"),De=3,Se=5,Ie=6,Te=7,_e=8,Pe=a(43),Re=a.n(Pe),Ae=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.delExpense=function(e){fetch(M+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrExpenses:e})});var t=a.props.id_invoice;a.loadExpenseList(t)},a.loadExpenseList=function(e){fetch(F+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrExpenses:e})})},a.saveInvoice=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger_to:a.state.id_ledger_to,description:a.state.description,rate:isNaN(a.state.rate)?"":a.state.rate,amount:isNaN(a.state.amount)?"":a.state.amount,type:a.state.type,voucher_no:a.state.voucher_no,id_invoice:a.props.id_invoice})};fetch(N,e).then(function(e){e.json(),a.loadExpenseList(a.props.id_invoice),a.setState({id_ledger_to:0,description:"",rate:"",qty:"",amount:""})})}else a.validator.showMessages(),a.forceUpdate()},a.onDateChange=function(e){return a.setState({date:e})},a.onDelRow=function(e){a.setState({description:e})},a.state={data:null,date:new Date,id_ledger_to:"",description:"",rate:"",qty:"",amount:"",type:"Receipt",voucher_no:"1",ledger:"",arrLedger:[],arrExpenses:[],arrLedgerFrom:[],arrLedgerTo:[]},a.onAmountChange=a.onAmountChange.bind(Object(v.a)(Object(v.a)(a))),a.onRateChange=a.onRateChange.bind(Object(v.a)(Object(v.a)(a))),a.onQtyChange=a.onQtyChange.bind(Object(v.a)(Object(v.a)(a))),a.onDescriptionChange=a.onDescriptionChange.bind(Object(v.a)(Object(v.a)(a))),a.onLedgerChange=a.onLedgerChange.bind(Object(v.a)(Object(v.a)(a))),a.onDateChange=a.onDateChange.bind(Object(v.a)(Object(v.a)(a))),a.validator=new Re.a,a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadAccountHead(),this.loadExpenseList(e),console.log(e)}},{key:"loadAccountHead",value:function(){var e=this,t=Se,a=Ie;fetch("".concat(me,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerFrom:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})}),fetch("".concat(me,"/").concat(a)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerTo:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onRateChange",value:function(e){this.setState({rate:e.target.value,amount:this.state.qty*e.target.value})}},{key:"onQtyChange",value:function(e){this.setState({qty:e.target.value,amount:e.target.value*this.state.rate})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_to:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrExpenses.map(function(t,a){return r.a.createElement(Le,{arrExpense:t,arrLedger:e.state.arrLedger,delExpense:e.delExpense})}),a=this.state.arrExpenses.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-16"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger_to},this.state.arrLedgerTo.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("ledger",this.state.id_ledger_to,"required|numeric")))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Qty (Freight)"),r.a.createElement("input",{type:"text",value:this.state.qty,onChange:this.onQtyChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Rate (Freight)"),r.a.createElement("input",{type:"text",value:this.state.rate,onChange:this.onRateChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveInvoice},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"25%"}},"Date"),r.a.createElement("th",{style:{width:"25%"}},"Ledger"),r.a.createElement("th",{style:{width:"25%"}},"Description"),r.a.createElement("th",{style:{width:"25%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null))))))))))}}]),t}(n.Component),Le=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrExpense,a=""!=t.rate&&0!=t.rate?"".concat(t.description," ").concat(t.amount/t.rate," x ").concat(t.rate):t.description;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.ledger),r.a.createElement("td",null,a),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.delExpense(t.id_account_voucher)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),Ne=Ae,Fe=a(276),Ve=a.n(Fe),Me=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).updInvoice=function(){a.setState({loadingPur:!0});var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_invoice:a.props.id_invoice,purchase:a.state.purchase})};fetch(K,e).then(function(e){return a.setState({loadingPur:!1})}).catch(function(e){return a.setState({loadingPur:!1})})},a.state={sales_total:"",other_exp:"",freight:0,packing:0,conversion_rate:0,purchase:0,loadingPur:!1},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadSalesTotal(e),this.loadOtherExp(e),this.loadInvoiceDt(e),this.loadPackTotal(e),this.loadFreightTotal(e)}},{key:"handleChangePurchase",value:function(e){this.setState({purchase:e.target.value})}},{key:"loadSalesTotal",value:function(e){var t=this;fetch(z+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({sales_total:e[0].tot})})}},{key:"loadOtherExp",value:function(e){var t=this;fetch(H+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({other_exp:e[0].tot})})}},{key:"loadPackTotal",value:function(e){var t=this;fetch(B+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({packing:e[0].amount})})}},{key:"loadFreightTotal",value:function(e){var t=this;fetch(G+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({freight:e[0].amount})})}},{key:"loadInvoiceDt",value:function(e){var t=this;fetch(R+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({conversion_rate:e[0].conversion_rate,purchase:e[0].purchase})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-6"},r.a.createElement("p",{class:"lead"},"Sales"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Sales Total:"),r.a.createElement("td",{align:"right"},"$ ",Math.round(this.state.sales_total))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total :"),r.a.createElement("td",{align:"right"},"$ ",Math.round(this.state.sales_total))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total : (Rate: ",this.state.conversion_rate,")"),r.a.createElement("td",{align:"right"},"Rs ",Math.round(this.state.sales_total*this.state.conversion_rate*100)/100)))))),r.a.createElement("div",{class:"col-6"},r.a.createElement("p",{class:"lead"},"Expenses"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Purchase:"),r.a.createElement("td",null,r.a.createElement("div",{class:"input-group input-group-sm"},r.a.createElement("input",{type:"text",style:{textAlign:"right"},class:"form-control",onChange:function(t){return e.handleChangePurchase(t)},value:this.state.purchase}),r.a.createElement("span",{class:"input-group-append"},r.a.createElement("button",{type:"button",class:"btn btn-info btn-flat",onClick:function(){return e.updInvoice()}},this.state.loadingPur?r.a.createElement("img",{src:Ve.a,style:{width:15,height:15}}):r.a.createElement("i",{class:"fas fa-check"})))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Freight Expenses:"),r.a.createElement("td",{align:"right"},Math.round(this.state.freight))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Packing Expenses:"),r.a.createElement("td",{align:"right"},Math.round(this.state.packing))),r.a.createElement("tr",null,r.a.createElement("th",null,"Other Expenses"),r.a.createElement("td",{align:"right"},Math.round(this.state.other_exp))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("td",{align:"right"},Math.round(100*(parseInt(this.state.freight||0)+parseInt(this.state.packing||0)+parseInt(this.state.other_exp||0)+parseInt(this.state.purchase||0)))/100)))))),r.a.createElement("div",{class:"row",style:{fontWeight:"bold",alignItems:"center",textAlign:"center",borderWidth:1,margin:"auto",textDecorationLine:"underline"}},"Net amount: ",Math.round(this.state.sales_total*this.state.conversion_rate-(parseInt(this.state.freight||0)+parseInt(this.state.packing||0)+parseInt(this.state.other_exp||0)+parseInt(this.state.purchase||0))))))))}}]),t}(n.Component),ze=a(277),Be=a.n(ze),He=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).delDoc=function(e){fetch(Y+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrTable:e});var t=a.props.id_invoice;a.loadDocumentsList(t)})},a.loadDocumentsList=function(e){fetch(U+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrTable:e})})},a.docDownload=function(e,t){fetch(Q+"/".concat(e)).then(function(e){return e.blob()}).then(function(e){Be.a.saveAs(e,t)})},a.saveDocument=function(){if(a.validator.allValid()){var e=new FormData;e.append("id_invoice",a.props.id_invoice),e.append("name",a.state.name),e.append("remark",a.state.remark),e.append("files",a.state.selectedFile),fetch(W,{method:"POST",body:e}).then(function(e){e.json(),a.loadDocumentsList(a.props.id_invoice),a.setState({name:"",remark:"",selectedFile:null})})}else a.validator.showMessages(),a.forceUpdate()},a.state={remark:"",name:"",arrDocs:[{id_doc:"0",doc:"--Select"},{id_doc:"1",doc:"Document 1"},{id_doc:"2",doc:"Document 2"},{id_doc:"3",doc:"Document 3"}],arrTable:[],selectedFile:null},a.onChangeName=a.onChangeName.bind(Object(v.a)(Object(v.a)(a))),a.onChangeRemark=a.onChangeRemark.bind(Object(v.a)(Object(v.a)(a))),a.onFileSelect=a.onFileSelect.bind(Object(v.a)(Object(v.a)(a))),a.validator=new Re.a,a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadDocumentsList(e)}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeRemark",value:function(e){this.setState({remark:e.target.value})}},{key:"onFileSelect",value:function(e){console.log(JSON.stringify(e.target.files)),this.setState({selectedFile:e.target.files[0]})}},{key:"render",value:function(){var e=this,t=this.state.arrTable.map(function(t,a){return r.a.createElement(Ge,{tbl:t,arrDocs:e.state.arrDocs,delDoc:e.delDoc,getDoc:e.docDownload})});return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"40%"}},r.a.createElement("select",{class:"form-control",onChange:this.onChangeName,value:this.state.name},this.state.arrDocs.map(function(e){return r.a.createElement("option",null,e.doc)}))),r.a.createElement("th",{style:{width:"10%"}},r.a.createElement("input",{type:"text",onChange:this.onChangeRemark,value:this.state.remark,class:"form-control"})),r.a.createElement("th",{style:{width:"35%"}},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",onChange:this.onFileSelect}),r.a.createElement("label",{class:"custom-file-label",for:"exampleInputFile"},this.state.selectedFile?this.state.selectedFile.name:"Choose file"))),r.a.createElement("th",{style:{width:"10%"}},r.a.createElement("button",{type:"button",class:"btn btn-block btn-outline-success btn-flat",onClick:this.saveDocument},r.a.createElement("i",{class:"fas fa-plus"})))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Documents"),r.a.createElement("th",{style:{width:"30%"}},"Remarks"),r.a.createElement("th",null),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,t)))))))))}}]),t}(n.Component),Ge=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tbl;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name," "),r.a.createElement("td",{colSpan:"2"},t.remarks),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.getDoc(t.id_document,t.file)},class:"btn btn-outline-success"},r.a.createElement("i",{class:"fas fa-download"})),r.a.createElement("button",{type:"button",onClick:function(){return e.props.delDoc(t.id_document)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(n.Component),Ke=He,We=a(2),Ue=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_account_head==e});return 0==a.length?"":a[0].account_head},Ye=function(e){return r.a.createElement(We.a,null,r.a.createElement(We.d,{size:"A4",style:Je.page},r.a.createElement(We.g,{style:Je.top}),r.a.createElement(We.g,{style:Je.container1},r.a.createElement(We.g,{style:Je.section},r.a.createElement(We.f,null,"AQUASIGN EXPORTS"),r.a.createElement(We.f,{style:Je.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(We.g,{style:Je.sectionTopRight},r.a.createElement(We.g,{style:Je.box},r.a.createElement(We.f,{style:Je.left},"INVOICE NO "),r.a.createElement(We.f,{style:Je.right},e.invoice_no)),r.a.createElement(We.g,{style:Je.box},r.a.createElement(We.f,{style:Je.left},"DATE"),r.a.createElement(We.f,{style:Je.right},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))))),r.a.createElement(We.g,{style:[Je.container2,{borderBottom:1,borderColor:"#ccc"}]},r.a.createElement(We.g,{style:Je.section},r.a.createElement(We.f,{style:Je.addressTitle},"BILL TO"),r.a.createElement(We.f,{style:Je.address},Ue(e.consigner,e.consigners)),r.a.createElement(We.f,{style:Je.address},e.consigner_address)),r.a.createElement(We.g,{style:Je.section},r.a.createElement(We.f,{style:Je.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(We.f,{style:Je.address},Ue(e.consignee,e.consignees)),r.a.createElement(We.f,{style:Je.address},e.consignee_address))),r.a.createElement(We.g,null,r.a.createElement(We.g,{style:{flexDirection:"row",width:"100%"}},r.a.createElement(We.f,{style:Je.heading},"Packing List")),r.a.createElement(Qe,{pack_no:"Pack No",name:"Item",kg:"Kg",bold:!0,head:!0}),e.packItems.map(function(t,a){return r.a.createElement(Qe,Object.assign({},t,{_pack_no:a>0&&e.packItems[a].pack_no==e.packItems[a-1].pack_no}))}),r.a.createElement(Qe,{pack_no:"",name:"Total",kg:(t=e.packItems,t.reduce(function(e,t){return+e+ +t.kg},0)),bold:!0}))));var t},Qe=function(e){return r.a.createElement(We.g,{style:Je.tableData},r.a.createElement(We.f,{style:[Je.col1,e.bold&&Je.bold,e.head&&Je.tableHeader]},e._pack_no?"-":e.pack_no),r.a.createElement(We.f,{style:[Je.col2,e.bold&&Je.bold,e.head&&Je.tableHeader]},e.name),r.a.createElement(We.f,{style:[Je.col3,e.bold&&Je.bold,e.head&&Je.tableHeader]},e.kg))};We.b.register({family:"Roboto",src:a(108)}),We.b.register({family:"Roboto-Italic",src:a(134)});var Je=We.e.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},heading:{fontSize:12,fontFamily:"Roboto",marginVertical:10,paddingHorizontal:5},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"20%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"60%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"left"},col3:{width:"20%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},bold:{fontFamily:"Roboto"},tableHeader:{backgroundColor:"#fa6a44"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:10,padding:10,paddingHorizontal:10,width:"50%"},section3rd:{margin:10,padding:10,paddingHorizontal:10,width:"30%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),Xe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadInvLabourItem=function(e){fetch(J+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({LabourItems:e})})},a.loadInvPackingList=function(e){fetch(X+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({packItems:e})})},a.loadInvPackingListGrpBy=function(e){fetch($+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({packItemsGrp:e})})},a.loadInvPackingExp=function(e){fetch(Z+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({ExpenseItems:e})})},a.loadInvoiceDt=function(e){fetch(R+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({invoice_no:e[0].invoice_no,date:e[0].date,consigner:e[0].consigner,consignee:e[0].consignee,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address,awb_no:e[0].awb_no},function(){})})},a.state={LabourItems:[],packItems:[],ExpenseItems:[],packItemsGrp:[],showPdf:!1,invoice_no:"",date:"",consigner:"",consignee:"",consigner_address:"",consignee_address:"",awb_no:"",consigners:[],consignees:[]},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadInvLabourItem(e),this.loadInvPackingExp(e),this.loadInvPackingList(e),this.loadInvPackingListGrpBy(e),this.loadInvoiceDt(e),this.loadConsignees(),this.loadConsigners()}},{key:"loadConsigners",value:function(){var e=this,t=Te;fetch("".concat(me,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consigners:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadConsignees",value:function(){var e=this,t=_e;fetch("".concat(me,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consignees:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"render",value:function(){var e=this,t=this.state.packItems.map(function(e,t){return r.a.createElement($e,{packItem:e,rowIndex:t})}),a=this.state.packItemsGrp.map(function(e,t){return r.a.createElement(Ze,{packItem:e,rowIndex:t})}),n=this.state.LabourItems.map(function(e,t){return r.a.createElement(qe,{LabourItem:e,rowIndex:t})}),l=this.state.ExpenseItems.map(function(e,t){return r.a.createElement(et,{ExpenseItem:e,rowIndex:t})}),c=this.state.packItems.reduce(function(e,t){return+e+ +t.kg},0),o=this.state.LabourItems.reduce(function(e,t){return+e+ +t.amount},0),s=this.state.ExpenseItems.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Packing List")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"Pack No"),r.a.createElement("th",{style:{width:"50%"}},"Items"),r.a.createElement("th",{style:{width:"30%",textAlign:"right"}},"Kg"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Net Weight"),r.a.createElement("th",{style:{textAlign:"right"}},c)),a))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!0})},type:"button",class:"btn btn-primary float-right"},"Print"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(We.c,{style:{width:"100%",height:500}},r.a.createElement(Ye,this.state))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Labour")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"50%",textAlign:"right"}},"Amount"))),r.a.createElement("tbody",null,n),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{style:{textAlign:"right"}},o))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Packing Items")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"30%"}},"Item"),r.a.createElement("th",{style:{width:"20%",textAlign:"right"}},"Qty"),r.a.createElement("th",{style:{width:"20%",textAlign:"right"}},"Price"),r.a.createElement("th",{style:{width:"30%",textAlign:"right"}},"Amount"))),r.a.createElement("tbody",null,l),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{style:{textAlign:"right"}},s)))))))))))}}]),t}(n.Component),$e=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.packItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.pack_no),r.a.createElement("td",null,e.name),r.a.createElement("td",{align:"right"},e.kg))}}]),t}(r.a.Component),Ze=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.packItem;return r.a.createElement("tr",null,r.a.createElement("th",null,e.pack_no),r.a.createElement("th",null,e.name),r.a.createElement("th",{style:{textAlign:"right"}},e.kg))}}]),t}(r.a.Component),qe=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.LabourItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",{align:"right"},e.amount))}}]),t}(r.a.Component),et=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.ExpenseItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",{align:"right"},e.qty),r.a.createElement("td",{align:"right"},e.selling_price),r.a.createElement("td",{align:"right"},e.amount))}}]),t}(r.a.Component),tt=Xe,at=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).FrightItems=function(e){fetch(V+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState({FrightItems:e})})},a.state={FrightItems:[]},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.FrightItems(e)}},{key:"render",value:function(){var e=this.state.FrightItems.map(function(e,t){return r.a.createElement(nt,{FrightItem:e,rowIndex:t})}),t=this.state.FrightItems.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Freight Items")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"50%"}},"Amount"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},t))))))))))}}]),t}(n.Component),nt=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.FrightItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.expense),r.a.createElement("td",null,e.amount))}}]),t}(r.a.Component),rt=at,lt=a(156),ct=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")},ot=function(e){return e.invItems.map(function(t,a){return r.a.createElement(mt,Object.assign({},t,{products:e.products}))})},st=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_account_head==e});return 0==a.length?"":a[0].account_head},it=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.Id_place==e});return 0==a.length?"":a[0].Place},dt=function(e){return e.reduce(function(e,t){return+e+ +t.kg*t.box},0)},ut=function(e){return r.a.createElement(We.a,null,r.a.createElement(We.d,{size:"A4",style:ht.page},r.a.createElement(We.g,{style:ht.top}),r.a.createElement(We.g,{style:ht.container1},r.a.createElement(We.g,{style:ht.section},r.a.createElement(We.f,null,"AQUASIGN EXPORTS"),r.a.createElement(We.f,{style:ht.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(We.g,{style:ht.sectionTopRight},r.a.createElement(We.g,{style:ht.box},r.a.createElement(We.f,{style:ht.left},"INVOICE NO "),r.a.createElement(We.f,{style:ht.right},e.invoice_no)),r.a.createElement(We.g,{style:ht.box},r.a.createElement(We.f,{style:ht.left},"DATE"),r.a.createElement(We.f,{style:ht.right},ct(e.date))),r.a.createElement(We.g,{style:ht.box},r.a.createElement(We.f,{style:ht.left},"ORDER NO"),r.a.createElement(We.f,{style:ht.right},e.order_no)),r.a.createElement(We.g,{style:ht.box},r.a.createElement(We.f,{style:ht.left},"ORDER DATE "),r.a.createElement(We.f,{style:ht.right},ct(e.buyer_date))))),r.a.createElement(We.g,{style:[ht.container2,{borderBottom:1,borderColor:"#ccc"}]},r.a.createElement(We.g,{style:ht.section},r.a.createElement(We.f,{style:ht.addressTitle},"BILL TO"),r.a.createElement(We.f,{style:ht.address},st(e.consigner,e.consigners)),r.a.createElement(We.f,{style:ht.address},e.consigner_address)),r.a.createElement(We.g,{style:ht.section},r.a.createElement(We.f,{style:ht.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(We.f,{style:ht.address},st(e.consignee,e.consignees)),r.a.createElement(We.f,{style:ht.address},e.consignee_address))),r.a.createElement(We.g,{style:ht.container2},r.a.createElement(We.g,{style:ht.section3rd},r.a.createElement(We.f,{style:ht.dataTitle},"Country of origin of goods:"),r.a.createElement(We.f,{style:ht.address},it(e.country_origin,e.places)),r.a.createElement(We.f,{style:ht.dataTitle},"Place of receipt by pre_carrier:"),r.a.createElement(We.f,{style:ht.address},e.receipt_place),r.a.createElement(We.f,{style:ht.dataTitle},"Vessel / Flat no:"),r.a.createElement(We.f,{style:ht.address},e.vessel_no),r.a.createElement(We.f,{style:ht.dataTitle},"Other references:"),r.a.createElement(We.f,{style:ht.address},e.other),r.a.createElement(We.f,{style:ht.dataTitle},"Buyer(If other than consignee):"),r.a.createElement(We.f,{style:ht.address},e.buyer)),r.a.createElement(We.g,{style:ht.section3rd},r.a.createElement(We.f,{style:ht.dataTitle},"Terms of delivery & payment:"),r.a.createElement(We.f,{style:ht.address},e.pre_carriage),r.a.createElement(We.f,{style:ht.dataTitle},"AWB No:"),r.a.createElement(We.f,{style:ht.address},e.receipt_place),r.a.createElement(We.f,{style:ht.dataTitle},"Country of final destination:"),r.a.createElement(We.f,{style:ht.address},it(e.country_final,e.places)),r.a.createElement(We.f,{style:ht.dataTitle},"Pre_carriage by:"),r.a.createElement(We.f,{style:ht.address},e.pre_carriage)),r.a.createElement(We.g,{style:ht.section3rd},r.a.createElement(We.f,{style:ht.dataTitle},"Port of loading:"),r.a.createElement(We.f,{style:ht.address},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.Id_port==e});return 0==a.length?"":a[0].Port}(e.port_load,e.airports)),r.a.createElement(We.f,{style:ht.dataTitle},"Marks & No.s:"),r.a.createElement(We.f,{style:ht.address},e.marks),r.a.createElement(We.f,{style:ht.dataTitle},"Port of discharge:"),r.a.createElement(We.f,{style:ht.address},e.port_discharge),r.a.createElement(We.f,{style:ht.dataTitle},"Final destination:"),r.a.createElement(We.f,{style:ht.address},e.final_destination),r.a.createElement(We.f,{style:ht.dataTitle},"Container No:"),r.a.createElement(We.f,{style:ht.address},e.container_no))),r.a.createElement(We.g,{style:ht.tableHeader},r.a.createElement(We.f,{style:ht.col1},"DESCRIPTION"),r.a.createElement(We.f,{style:ht.col2},"UNIT PRICE"),r.a.createElement(We.f,{style:ht.col2},"QTY"),r.a.createElement(We.f,{style:ht.col3},"TOTAL")),r.a.createElement(We.g,null,r.a.createElement(ot,e)),r.a.createElement(We.g,{style:ht.tableData},r.a.createElement(We.f,{style:ht.col1}),r.a.createElement(We.f,{style:ht.col2}),r.a.createElement(We.f,{style:[ht.col2,{fontFamily:"Roboto"}]},e.invItems.reduce(function(e,t){return+e+ +t.kg},0)," kg"),r.a.createElement(We.f,{style:[ht.col3,{fontFamily:"Roboto"}]},"$ ",Math.round(10*dt(e.invItems))/10)),r.a.createElement(We.g,{style:ht.tableData},r.a.createElement(We.f,{style:ht.colFull},"US Dollar ",lt.toWords(dt(e.invItems))," Only")),r.a.createElement(We.g,{style:ht.container3,wrap:!1},r.a.createElement(We.g,{style:ht.section},r.a.createElement(We.f,{style:ht.bank},"Bank Detail",e.bill_to),r.a.createElement(We.f,{style:ht.address},"Account Name: MARIA INTERNATIONAL (PVT) LTD\n              Account #098799971 Current\n              IFSC Code: ICIC0000942\n              Swift Code : ICICINBBCTS\n              Bank Name: ICICI BANK LTD\n              ")),r.a.createElement(We.g,{style:ht.sectionBottomRight},r.a.createElement(We.g,{style:ht.box},r.a.createElement(We.f,{style:ht.left},"SUBTOTAL"),r.a.createElement(We.f,{style:ht.rightBottom},"$ ",Math.round(10*dt(e.invItems))/10)),r.a.createElement(We.g,{style:ht.box},r.a.createElement(We.f,{style:ht.left},"DISCOUNT"),r.a.createElement(We.f,{style:ht.rightBottom},"$ ",e.discount)),r.a.createElement(We.g,{style:ht.box},r.a.createElement(We.f,{style:ht.left},"NET TOTAL"),r.a.createElement(We.f,{style:ht.rightBottom},"$ ",Math.round(10*dt(e.invItems))/10-e.discount)),r.a.createElement(We.g,{style:ht.box},r.a.createElement(We.f,{style:ht.left},"OLD BALANCE "),r.a.createElement(We.f,{style:ht.rightBottom},"$ ",Math.round(100*e.op_bal)/100)),r.a.createElement(We.g,{style:ht.box},r.a.createElement(We.f,{style:ht.leftBalance},"BALANCE"),r.a.createElement(We.f,{style:ht.rightBalance},"$ ",Math.round(100*(Math.round(100*e.op_bal)/100+Math.round(10*dt(e.invItems))/10-e.discount))/100)))),r.a.createElement(We.g,{style:ht.top})))},mt=function(e){var t=e.box*e.kg;return r.a.createElement(We.g,{style:ht.tableData},r.a.createElement(We.f,{style:ht.col1},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_product==e});return 0==a.length?"":a[0].name}(e.id_product,e.products)),r.a.createElement(We.f,{style:ht.col2},e.box),r.a.createElement(We.f,{style:ht.col2},e.kg),r.a.createElement(We.f,{style:ht.col3},Math.round(10*t)/10))};We.b.register({family:"Roboto",src:a(108)}),We.b.register({family:"Roboto-Italic",src:a(134)});var ht=We.e.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{marginTop:10,paddingHorizontal:10,width:"50%"},section3rd:{margin:10,padding:10,paddingHorizontal:10,width:"30%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"45%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),gt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadProducts=function(){fetch(ve).then(function(e){return e.json()}).then(function(e){a.setState({products:[{id_product:0,name:"SELECT"}].concat(Object(m.a)(e))})})},a.loadInvoiceDt=function(e){fetch(R+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({invoice_no:e[0].invoice_no,date:e[0].date,order_no:e[0].order_no,buyer_date:e[0].buyer_date,consigner:e[0].consigner,consignee:e[0].consignee,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address,other:e[0].other,buyer:e[0].buyer,country_origin:e[0].country_origin,country_final:e[0].country_final,pre_carriage:e[0].pre_carriage,receipt_place:e[0].receipt_place,vessel_no:e[0].vessel_no,port_load:e[0].port_load,port_discharge:e[0].port_discharge,final_destination:e[0].final_destination,marks:e[0].marks,container_no:e[0].container_no,awb_no:e[0].awb_no,terms:e[0].terms,conversion_rate:e[0].conversion_rate,status:e[0].status,discount:e[0].discount,narration:e[0].narration,freight_code:e[0].freight_code,invItems:e[0].items||[]},function(){a.props.setInvoiceNo(a.state.invoice_no),a.loadOpeningBal()})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.saveInvoice=function(){if(a.setState({btnSaveText:"Saving..."}),a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_no:a.state.invoice_no,order_no:a.state.order_no,date:a.formatDate(a.state.date),buyer_date:a.formatDate(a.state.buyer_date),consigner:a.state.consigner,consignee:a.state.consignee,consigner_address:a.state.consigner_address,consignee_address:a.state.consignee_address,other:a.state.other,buyer:a.state.buyer,country_origin:a.state.country_origin,country_final:a.state.country_final,pre_carriage:a.state.pre_carriage,receipt_place:a.state.receipt_place,vessel_no:a.state.vessel_no,port_load:a.state.port_load,port_discharge:a.state.port_discharge,final_destination:a.state.final_destination,marks:a.state.marks,container_no:a.state.container_no,awb_no:a.state.awb_no,terms:a.state.terms,items:a.state.invItems,id_invoice:a.props.id_invoice,conversion_rate:a.state.conversion_rate,status:a.state.status||a.state.statusTypes[0],discount:a.state.discount,narration:a.state.narration,freight_code:a.state.freight_code})};fetch(P,e).then(function(e){return e.json()}).then(function(e){e.isUpdate?(a.setState({btnSaveText:"Saved"}),setTimeout(function(){this.setState({btnSaveText:"Save Invoice"})}.bind(Object(v.a)(Object(v.a)(a))),5e3)):a.setState({id_invoice:e.id_invoice,redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.renderRedirect=function(){if(a.state.redirect)return a.setState({redirect:!1}),r.a.createElement(o.a,{to:"./invoice/".concat(a.state.id_invoice)})},a.handleChangeDate=function(e){return a.setState({date:e})},a.handleChangeBuyerDate=function(e){return a.setState({buyer_date:e})},a.handleChangeKg=function(e,t){var n=a.state.invItems,r=n[t];r.kg=e.target.value,n[t]=r,a.setState({invItems:n})},a.handleChangeBox=function(e,t){var n=a.state.invItems,r=n[t];r.box=e.target.value,n[t]=r,a.setState({invItems:n})},a.handleChangeProduct=function(e,t){var n=a.state.invItems,r=n[t];r.id_product=e.target.value,n[t]=r,a.setState({invItems:n})},a.delRow=function(e){var t=a.state.invItems;t.splice(e,1),a.setState({invItems:t})},a.addRow=function(e){var t=a.state.invItems,n={id_product:e.target.value,kg:"",box:""};t.push(n),a.setState({invItems:t})},a.state={showPdf:!1,arrInv:[],id:null,title:"Table",data:null,date:new Date,products:[],invoice:[],invoice_no:"",order_no:"",buyer_date:new Date,consigners:[],consignees:[],consigner:a.props.data&&a.props.data.consigner,consignee:"",consignee_name:"",consigner_address:a.props.data&&a.props.data.consigner_address,consignee_address:"",other:"",buyer:"",country_origin:"",country_final:"",pre_carriage:"",receipt_place:"",vessel_no:"",port_load:"",port_discharge:"",final_destination:"",marks:"",container_no:"",awb_no:"",terms:"",conversion_rate:"",status:"Waiting Approval",discount:"",narration:"",freight_code:"",arrProducts:[],invItems:[],op_bal:0,places:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"INDIA"},{Id_place:2,Place:"KSA"},{Id_place:3,Place:"US"}],dischargePlaces:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"DELHI"},{Id_place:2,Place:"CHENNAI"},{Id_place:3,Place:"KERALA"}],statusTypes:["Waiting Approval","Packing","Shipped","Cancelled"],airports:[{Id_Port:0,Port:"--Select--"},{Id_Port:1,Port:"KOCHI"},{Id_Port:1,Port:"CALICUT"},{Id_Port:1,Port:"TRIVANDRUM"},{Id_Port:1,Port:"KANNUR"},{Id_Port:1,Port:"MUMBAI"},{Id_Port:1,Port:"CHENNAI"},{Id_Port:1,Port:"KOLKATA"},{Id_Port:1,Port:"COIMBATORE"}],btnSaveText:"Save Invoice"},a.handleChangeDate=a.handleChangeDate.bind(Object(v.a)(Object(v.a)(a))),a.handleChangeBuyerDate=a.handleChangeBuyerDate.bind(Object(v.a)(Object(v.a)(a))),a.validator=new Re.a,a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.props.id_rough_invoice&&this.loadRoughInvoice(this.props.id_rough_invoice),this.loadProducts(),this.loadConsigners(),this.loadConsignees(),0!=e&&this.loadInvoiceDt(e)}},{key:"loadOpeningBal",value:function(){var e=this,t=this.formatDate(this.state.date),a=this.state.consignee;""!=a&&fetch("".concat(ie,"/'").concat(t,"'/'").concat(t,"'/").concat(a)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({op_bal:-1*t[0].opening_bal})})}},{key:"loadRoughInvoice",value:function(e){var t=this;fetch(I+"/"+e).then(function(e){return e.json()}).then(function(e){e.length>0&&t.setState({consignee:e[0].consignee,consigner:e[0].consigner,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address})})}},{key:"loadConsigners",value:function(){var e=this,t=Te;fetch("".concat(me,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consigners:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadConsignees",value:function(){var e=this,t=_e;fetch("".concat(me,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consignees:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadLedgerAddress",value:function(e,t){var a=this;fetch("".concat(oe,"/").concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&("CONSIGNER"==t?a.setState({consigner_address:e[0].address}):a.setState({consignee_address:e[0].address}))})}},{key:"handleChangeInvoiceNo",value:function(e){this.setState({invoice_no:e.target.value.toUpperCase()})}},{key:"handleChangeOrderNo",value:function(e){this.setState({order_no:e.target.value})}},{key:"handleChangeConsignee",value:function(e){this.setState({consignee:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNEE")}},{key:"handleChangeConsigner",value:function(e){this.setState({consigner:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNER")}},{key:"handleChangeConsigneeAddress",value:function(e){this.setState({consignee_address:e.target.value})}},{key:"handleChangeConsignerAddress",value:function(e){this.setState({consigner_address:e.target.value})}},{key:"handleChangeOther",value:function(e){this.setState({other:e.target.value})}},{key:"handleChangeBuyer",value:function(e){this.setState({buyer:e.target.value})}},{key:"handleChangeCountryOrigin",value:function(e){this.setState({country_origin:e.target.value})}},{key:"handleChangeCountryFinal",value:function(e){this.setState({country_final:e.target.value})}},{key:"handleChangePreCarriage",value:function(e){this.setState({pre_carriage:e.target.value})}},{key:"handleChangeReceiptPlace",value:function(e){this.setState({receipt_place:e.target.value})}},{key:"handleChangeVesselNo",value:function(e){this.setState({vessel_no:e.target.value})}},{key:"handleChangePortLoad",value:function(e){this.setState({port_load:e.target.value})}},{key:"handleChangePortDischarge",value:function(e){this.setState({port_discharge:e.target.value})}},{key:"handleChangeFinalDest",value:function(e){this.setState({final_destination:e.target.value})}},{key:"handleChangeMarks",value:function(e){this.setState({marks:e.target.value})}},{key:"handleChangeContainerNo",value:function(e){this.setState({container_no:e.target.value})}},{key:"handleChangeAwbNo",value:function(e){this.setState({awb_no:e.target.value})}},{key:"handleChangeTerms",value:function(e){this.setState({terms:e.target.value})}},{key:"handleChangeConversionRate",value:function(e){this.setState({conversion_rate:e.target.value})}},{key:"handleChangeStatus",value:function(e){this.setState({status:e.target.value})}},{key:"handleChangeDiscount",value:function(e){this.setState({discount:e.target.value})}},{key:"handleChangeNarration",value:function(e){this.setState({narration:e.target.value})}},{key:"handleChangeFreightCode",value:function(e){this.setState({freight_code:e.target.value})}},{key:"render",value:function(){var e,t=this,a=this.state.invItems.map(function(e,a){return r.a.createElement(ft,{handleChangeKg:t.handleChangeKg,handleChangeBox:t.handleChangeBox,handleChangeProduct:t.handleChangeProduct,delRow:t.delRow,invItem:e,rowIndex:a,products:t.state.products})}),n=this.state.invItems.reduce(function(e,t){return+e+ +t.kg*t.box},0),l=(this.state.invItems.reduce(function(e,t){return+e+ +t.box},0),this.state.invItems.reduce(function(e,t){return+e+ +t.kg},0));return r.a.createElement("div",null,this.renderRedirect(),r.a.createElement("section",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("form",{role:"form"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice No"),r.a.createElement("input",{type:"text",value:this.state.invoice_no,onChange:function(e){return t.handleChangeInvoiceNo(e)},class:"form-control"}),this.validator.message("invoice_no",this.state.invoice_no,"required"))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice Date"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(C.a,{className:"form-control",value:this.state.date,format:"dd/MM/yyyy",onChange:this.handleChangeDate}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer's Order No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeOrderNo(e)},value:this.state.order_no,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer's Date"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(C.a,{className:"form-control",onChange:this.handleChangeBuyerDate,value:this.state.buyer_date,format:"dd/MM/yyyy"}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Other reference(s)"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeOther(e)},class:"form-control",value:this.state.other})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer (If other than consignee)"),r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeBuyer(e)},class:"form-control",value:this.state.buyer}))),r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Country of origin of goods"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCountryOrigin(e)},value:this.state.country_origin},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Country of final destination"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCountryFinal(e)},value:this.state.country_final},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Terms of delivery and payment"),r.a.createElement("textarea",(e={type:"text",onChange:function(e){return t.handleChangeTerms(e)},class:"form-control"},Object(u.a)(e,"onChange",function(e){return t.handleChangeTerms(e)}),Object(u.a)(e,"value",this.state.terms),Object(u.a)(e,"rows",2.8),e))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"AWB No."),r.a.createElement("input",{type:"text",class:"form-control",onChange:function(e){return t.handleChangeAwbNo(e)},value:this.state.awb_no})))))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-primary"},r.a.createElement("form",{role:"form"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consigner"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeConsigner(e)},value:this.state.consigner},this.state.consigners.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeConsignerAddress(e)},value:this.state.consigner_address,class:"form-control",rows:4})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consignee"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeConsignee(e)},value:this.state.consignee},this.state.consignees.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeConsigneeAddress(e)},value:this.state.consignee_address,class:"form-control",rows:4})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Pre-Carriage by"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangePreCarriage(e)},value:this.state.pre_carriage,class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Place of receipt by Pre-Carrier"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeReceiptPlace(e)},value:this.state.receipt_place,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Vessel/Flight No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeVesselNo(e)},value:this.state.vessel_no,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of loading"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangePortLoad(e)},value:this.state.port_load},this.state.airports.map(function(e){return r.a.createElement("option",{value:e.Id_port},e.Port)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of discharge"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangePortDischarge(e)},value:this.state.port_discharge},this.state.dischargePlaces.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Final destination"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeFinalDest(e)},value:this.state.final_destination},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Marks & No.s"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeMarks(e)},value:this.state.marks,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Container No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeContainerNo(e)},value:this.state.container_no,class:"form-control"})))))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Description of goods"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"15%"}},"Amount(USD)"),r.a.createElement("th",{style:{width:"10%"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,a,r.a.createElement(pt,{products:this.state.products,addRow:this.addRow})),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null,l),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},"$ ",Math.round(10*n)/10),r.a.createElement("th",null))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("label",null,"Discount"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeDiscount(e)},value:this.state.discount,class:"form-control"}))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("label",null,"Narration"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeNarration(e)},value:this.state.narration,class:"form-control"}))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-4"},r.a.createElement("label",null,"Status"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeStatus(e)},value:this.state.status},this.state.statusTypes.map(function(e){return r.a.createElement("option",{value:e},e)}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("label",null,"Conversion Rate"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeConversionRate(e)},value:this.state.conversion_rate,class:"form-control"})),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("label",null,"Frieght Code"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeFreightCode(e)},value:this.state.freight_code,class:"form-control"})))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:this.saveInvoice,type:"submit",class:"btn btn-primary"},this.state.btnSaveText),r.a.createElement("button",{onClick:function(){return t.setState({showPdf:!0})},type:"submit",class:"btn btn-primary float-right"},"Print Invoice"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return t.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(We.c,{style:{width:"100%",height:500}},r.a.createElement(ut,this.state)))))))))}}]),t}(n.Component),ft=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleChangeKg=function(e){a.props.handleChangeKg(e,a.props.rowIndex)},a.handleChangeBox=function(e){a.props.handleChangeBox(e,a.props.rowIndex)},a.handleChangeProduct=function(e){a.props.handleChangeProduct(e,a.props.rowIndex)},a.delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeKg(t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeBox(t)}})),r.a.createElement("td",{align:"right"},Math.round(100*a)/100),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRow,class:"btn btn-block btn-outline-danger btn-flat"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(n.Component),Et=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).setTab=function(e){a.setState({currentTab:e})},a.setInvoiceNo=function(e){a.setState({invoice_no:e})},a.state={currentTab:0,invoice_no:0},a.setTab=a.setTab.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.match.params)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("div",{class:"card card-primary card-outline card-outline-tabs"},r.a.createElement("div",{class:"card-header p-0 border-bottom-0"},r.a.createElement("ul",{class:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(0)},class:"nav-link active",id:"custom-tabs-three-home-tab","data-toggle":"pill",href:"#custom-tabs-three-home",role:"tab","aria-controls":"custom-tabs-three-home","aria-selected":"true"},"Invoice ",0!=this.props.match.params.id&&"No. ".concat(this.state.invoice_no)," ")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(1)},class:"nav-link",id:"custom-tabs-three-profile-tab","data-toggle":"pill",href:"#custom-tabs-three-profile",role:"tab","aria-controls":"custom-tabs-three-profile","aria-selected":"false"},"Documents")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(2)},class:"nav-link",id:"custom-tabs-three-messages-tab","data-toggle":"pill",href:"#custom-tabs-three-messages",role:"tab","aria-controls":"custom-tabs-three-messages","aria-selected":"false"},"Expenses")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(3)},class:"nav-link",id:"custom-tabs-three-settings-tab","data-toggle":"pill",href:"#custom-tabs-three-settings",role:"tab","aria-controls":"custom-tabs-three-settings","aria-selected":"false"},"Net Report")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(4)},class:"nav-link",id:"custom-tabs-three-packing-tab","data-toggle":"pill",href:"#custom-tabs-three-packing",role:"tab","aria-controls":"custom-tabs-three-packing","aria-selected":"false"},"Packing ")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(5)},class:"nav-link",id:"custom-tabs-three-fright-tab","data-toggle":"pill",href:"#custom-tabs-three-fright",role:"tab","aria-controls":"custom-tabs-three-fright","aria-selected":"false"},"Freight Expenses ")))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"tab-content",id:"custom-tabs-three-tabContent"},r.a.createElement("div",{class:"tab-pane fade active show",id:"custom-tabs-three-home",role:"tabpanel","aria-labelledby":"custom-tabs-three-home-tab"},0==this.state.currentTab?r.a.createElement(gt,{id_invoice:this.props.match.params.id,id_rough_invoice:this.props.match.params.id_rough_invoice,setInvoiceNo:this.setInvoiceNo}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-profile",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab"},1==this.state.currentTab?r.a.createElement(Ke,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-messages",role:"tabpanel","aria-labelledby":"custom-tabs-three-messages-tab"},2==this.state.currentTab?r.a.createElement(Ne,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-settings",role:"tabpanel","aria-labelledby":"custom-tabs-three-settings-tab"},3==this.state.currentTab?r.a.createElement(Me,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-packing",role:"tabpanel","aria-labelledby":"custom-tabs-three-packing-tab"},4==this.state.currentTab?r.a.createElement(tt,Object.assign({id_invoice:this.props.match.params.id,invoice_no:this.state.invoice_no},this.props)):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-fright",role:"tabpanel","aria-labelledby":"custom-tabs-three-fright-tab"},5==this.state.currentTab?r.a.createElement(rt,Object.assign({id_invoice:this.props.match.params.id},this.props)):r.a.createElement("div",null)))))))}}]),t}(n.Component),pt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).addRow=function(e){a.props.addRow(e)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.addRow(t)},value:0},this.props.products.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",{align:"right"}),r.a.createElement("td",null," "))}}]),t}(n.Component),vt=Et,bt=function(e){return e.invItems.map(function(t,a){return r.a.createElement(wt,Object.assign({},t,{products:e.products}))})},yt=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_account_head==e});return 0==a.length?"":a[0].account_head},Ct=function(e){return r.a.createElement(We.a,null,r.a.createElement(We.d,{size:"A4",style:jt.page},r.a.createElement(We.g,{style:jt.top}),r.a.createElement(We.g,{style:jt.container1},r.a.createElement(We.g,{style:jt.section},r.a.createElement(We.f,null,"AQUASIGN EXPORTS"),r.a.createElement(We.f,{style:jt.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(We.g,{style:jt.sectionTopRight},r.a.createElement(We.g,{style:jt.box},r.a.createElement(We.f,{style:jt.left},"DATE"),r.a.createElement(We.f,{style:jt.right},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))),r.a.createElement(We.g,{style:jt.box},r.a.createElement(We.f,{style:jt.left},"PORT OF LOADING"),r.a.createElement(We.f,{style:jt.right},"0"==e.port_load||"--Select--"==e.port_load||e.port_load)))),r.a.createElement(We.g,{style:[jt.container2]},r.a.createElement(We.g,{style:jt.section},r.a.createElement(We.f,{style:jt.addressTitle},"CONSIGNER"),r.a.createElement(We.f,{style:jt.address},yt(e.consigner,e.consigners)),r.a.createElement(We.f,{style:jt.address},e.consigner_address))),r.a.createElement(We.g,{style:[jt.container2]},r.a.createElement(We.g,{style:jt.section},r.a.createElement(We.f,{style:jt.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(We.f,{style:jt.address},yt(e.consignee,e.consignees)),r.a.createElement(We.f,{style:jt.address},e.consignee_address))),r.a.createElement(We.g,{style:jt.tableHeader},r.a.createElement(We.f,{style:jt.col1},"PRODUCT"),r.a.createElement(We.f,{style:jt.col2},"BOX"),r.a.createElement(We.f,{style:jt.col2},"KG"),r.a.createElement(We.f,{style:jt.col3},"TOTAL")),r.a.createElement(We.g,null,r.a.createElement(bt,e)),r.a.createElement(We.g,{style:jt.tableData},r.a.createElement(We.f,{style:jt.col1}),r.a.createElement(We.f,{style:[jt.col2,{fontFamily:"Roboto"}]},e.invItems.reduce(function(e,t){return+e+ +t.box},0)),r.a.createElement(We.f,{style:[jt.col2,{fontFamily:"Roboto"}]}),r.a.createElement(We.f,{style:[jt.col3,{fontFamily:"Roboto"}]},function(e){return e.reduce(function(e,t){return+e+ +t.kg*t.box},0)}(e.invItems)," KG")),r.a.createElement(We.g,{style:jt.top})))},wt=function(e){var t=e.box*e.kg;return r.a.createElement(We.g,{style:jt.tableData},r.a.createElement(We.f,{style:jt.col1},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_product==e});return 0==a.length?"":a[0].name}(e.id_product,e.products)),r.a.createElement(We.f,{style:jt.col2},e.box),r.a.createElement(We.f,{style:jt.col2},e.kg),r.a.createElement(We.f,{style:jt.col3},Math.round(10*t)/10))};We.b.register({family:"Roboto",src:a(108)});var jt=We.e.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:5,padding:10,paddingHorizontal:10,width:"50%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"45%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),kt=function(e){return e.airwayItems.map(function(t,a){return r.a.createElement(Dt,Object.assign({},t,{products:e.products}))})},Ot=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_account_head==e});return 0==a.length?"":a[0].account_head},xt=function(e){return r.a.createElement(We.a,null,r.a.createElement(We.d,{size:"A4",style:St.page},r.a.createElement(We.g,{style:St.top}),r.a.createElement(We.g,{style:St.container1},r.a.createElement(We.g,{style:St.section},r.a.createElement(We.f,null,"AQUASIGN EXPORTS"),r.a.createElement(We.f,{style:St.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(We.g,{style:St.sectionTopRight},r.a.createElement(We.g,{style:St.box},r.a.createElement(We.f,{style:St.left},"DATE"),r.a.createElement(We.f,{style:St.right},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))),r.a.createElement(We.g,{style:St.box},r.a.createElement(We.f,{style:St.left},"INVOICE NO."),r.a.createElement(We.f,{style:St.right},e.invoice_no)),r.a.createElement(We.g,{style:St.box},r.a.createElement(We.f,{style:St.left},"PORT OF LOADING"),r.a.createElement(We.f,{style:St.right},"0"==e.port_load||"--Select--"==e.port_load||e.port_load)))),r.a.createElement(We.g,{style:[St.container2]},r.a.createElement(We.g,{style:St.section},r.a.createElement(We.f,{style:St.addressTitle},"CONSIGNER"),r.a.createElement(We.f,{style:St.address},Ot(e.consigner,e.consigners)),r.a.createElement(We.f,{style:St.address},e.consigner_address))),r.a.createElement(We.g,{style:[St.container2]},r.a.createElement(We.g,{style:St.section},r.a.createElement(We.f,{style:St.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(We.f,{style:St.address},Ot(e.consignee,e.consignees)),r.a.createElement(We.f,{style:St.address},e.consignee_address))),r.a.createElement(We.g,{style:St.tableHeader},r.a.createElement(We.f,{style:St.col1},"PRODUCT"),r.a.createElement(We.f,{style:St.col2},"BOX"),r.a.createElement(We.f,{style:St.col2},"KG"),r.a.createElement(We.f,{style:St.col3},"TOTAL")),r.a.createElement(We.g,null,r.a.createElement(kt,e)),r.a.createElement(We.g,{style:St.tableData},r.a.createElement(We.f,{style:St.col1}),r.a.createElement(We.f,{style:[St.col2,{fontFamily:"Roboto"}]},e.airwayItems.reduce(function(e,t){return+e+ +t.box},0)),r.a.createElement(We.f,{style:[St.col2,{fontFamily:"Roboto"}]}),r.a.createElement(We.f,{style:[St.col3,{fontFamily:"Roboto"}]},function(e){return e.reduce(function(e,t){return+e+ +t.kg*t.box},0)}(e.airwayItems)," KG")),r.a.createElement(We.g,{style:St.top})))},Dt=function(e){var t=e.box*e.kg;return r.a.createElement(We.g,{style:St.tableData},r.a.createElement(We.f,{style:St.col1},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_product==e});return 0==a.length?"":a[0].name}(e.id_product,e.products)),r.a.createElement(We.f,{style:St.col2},e.box),r.a.createElement(We.f,{style:St.col2},e.kg),r.a.createElement(We.f,{style:St.col3},Math.round(10*t)/10))};We.b.register({family:"Roboto",src:a(108)});var St=We.e.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:5,padding:10,paddingHorizontal:10,width:"50%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"45%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),It=function(e){function t(e){var a,n;return Object(h.a)(this,t),(n=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadInvoiceDt=function(e){fetch(I+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({date:e[0].date,port_load:e[0].port_load,invoice_no:e[0].invoice_no,consigner:e[0].consigner,consignee:e[0].consignee,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address,invItems:e[0].items||[]})})},n.loadAirwayItemsDt=function(e){fetch(T+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({airwayItems:e[0].airwayItems||[]})})},n.loadProducts=function(){fetch(ve).then(function(e){return e.json()}).then(function(e){return n.setState({products:[{id_product:0,name:"SELECT"}].concat(Object(m.a)(e))})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.saveInvoice=function(e){if(n.validator.allValid()){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:n.formatDate(n.state.date),invoice_no:n.state.invoice_no,consigner:n.state.consigner,consignee:n.state.consignee,consigner_address:n.state.consigner_address,consignee_address:n.state.consignee_address,port_load:n.state.port_load,items:n.state.invItems,airwayItems:n.state.airwayItems,id_rough_invoice:n.state.id_rough_invoice})};fetch(S,t).then(function(t){t.json(),"BACK"==e?n.setState({redirect:!0}):n.setState({redirectToInvoice:!0})})}else n.validator.showMessages(),n.forceUpdate()},n.onDateChange=function(e){return n.setState({date:e})},n.handleChangeKg=function(e,t){var a=n.state.invItems,r=a[t];r.kg=e.target.value,a[t]=r,n.setState({invItems:a})},n.handleChangeAirwayKg=function(e,t){var a=n.state.airwayItems,r=a[t];r.kg=e.target.value,a[t]=r,n.setState({airwayItems:a})},n.handleChangeBox=function(e,t){var a=n.state.invItems,r=a[t];r.box=e.target.value,a[t]=r,n.setState({invItems:a})},n.handleChangeAirwayBox=function(e,t){var a=n.state.airwayItems,r=a[t];r.box=e.target.value,a[t]=r,n.setState({airwayItems:a})},n.handleChangeProduct=function(e,t){var a=n.state.invItems,r=a[t];r.id_product=e.target.value,a[t]=r,n.setState({invItems:a})},n.handleChangeAirwayProduct=function(e,t){var a=n.state.airwayItems,r=a[t];r.id_product=e.target.value,a[t]=r,n.setState({airwayItems:a})},n.delRow=function(e){var t=n.state.invItems;t.splice(e,1),n.setState({invItems:t})},n.delRowAirway=function(e){var t=n.state.airwayItems;t.splice(e,1),n.setState({airwayItems:t})},n.addRow=function(e){var t=n.state.invItems,a={id_product:e.target.value,kg:"",box:""};t.push(a),n.setState({invItems:t})},n.addRowAirway=function(e){var t=n.state.airwayItems,a={id_product:e.target.value,kg:"",box:""};t.push(a),n.setState({airwayItems:t})},n.state=(a={data:null,title:"Table",id_rough_invoice:0,date:new Date,port_load:"",consigners:[],consignees:[],consigner:"",consignee:"",consigner_address:"",consignee_address:"",invoice_no:"",products:[],invItems:[],airwayItems:[],showPdf:!1,printDoc:"",redirectToInvoice:!1,places:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"INDIA"},{Id_place:2,Place:"KSA"},{Id_place:3,Place:"US"}]},Object(u.a)(a,"redirectToInvoice",!1),Object(u.a)(a,"airports",[{Id_Port:0,Port:"--Select--"},{Id_Port:1,Port:"KOCHI"},{Id_Port:2,Port:"CALICUT"},{Id_Port:3,Port:"TRIVANDRUM"},{Id_Port:4,Port:"KANNUR"},{Id_Port:5,Port:"MUMBAI"},{Id_Port:6,Port:"CHENNAI"},{Id_Port:7,Port:"KOLKATA"},{Id_Port:8,Port:"COIMBATORE"}]),a),n.onDateChange=n.onDateChange.bind(Object(v.a)(Object(v.a)(n))),n.handleChangeConsignee=n.handleChangeConsignee.bind(Object(v.a)(Object(v.a)(n))),n.handleChangeInvoiceNo=n.handleChangeInvoiceNo.bind(Object(v.a)(Object(v.a)(n))),n.handleChangeConsigner=n.handleChangeConsigner.bind(Object(v.a)(Object(v.a)(n))),n.handleChangePortLoad=n.handleChangePortLoad.bind(Object(v.a)(Object(v.a)(n))),n.validator=new Re.a,n}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id_rough_invoice;this.loadProducts(),this.loadConsigners(),this.loadConsignees(),0!=e&&(this.loadInvoiceDt(e),this.loadAirwayItemsDt(e),this.setState({id_rough_invoice:e}))}},{key:"loadConsigners",value:function(){var e=this,t=Te;fetch("".concat(me,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consigners:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadConsignees",value:function(){var e=this,t=_e;fetch("".concat(me,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consignees:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadLedgerAddress",value:function(e,t){var a=this;fetch("".concat(oe,"/").concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&("CONSIGNER"==t?a.setState({consigner_address:e[0].address}):a.setState({consignee_address:e[0].address}))})}},{key:"handleChangePortLoad",value:function(e){this.setState({port_load:e.target.value})}},{key:"handleChangeInvoiceNo",value:function(e){this.setState({invoice_no:e.target.value.toUpperCase()})}},{key:"handleChangeConsignee",value:function(e){this.setState({consignee:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNEE")}},{key:"handleChangeConsigner",value:function(e){this.setState({consigner:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNER")}},{key:"handleChangeConsigneeAddress",value:function(e){this.setState({consignee_address:e.target.value})}},{key:"handleChangeConsignerAddress",value:function(e){this.setState({consigner_address:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.products,a=this.state.invItems.map(function(a,n){return r.a.createElement(Tt,{handleChangeKg:e.handleChangeKg,handleChangeBox:e.handleChangeBox,handleChangeProduct:e.handleChangeProduct,delRow:e.delRow,invItem:a,rowIndex:n,products:t})}),n=this.state.airwayItems.map(function(a,n){return r.a.createElement(_t,{handleChangeAirwayKg:e.handleChangeAirwayKg,handleChangeAirwayBox:e.handleChangeAirwayBox,handleChangeAirwayProduct:e.handleChangeAirwayProduct,delRowAirway:e.delRowAirway,airwayItem:a,rowIndex:n,products:t})}),l=this.state.airwayItems.reduce(function(e,t){return+e+ +t.kg*t.box},0),c=this.state.airwayItems.reduce(function(e,t){return+e+ +t.box},0),s=(this.state.airwayItems.reduce(function(e,t){return+e+ +t.kg},0),this.state.invItems.reduce(function(e,t){return+e+ +t.kg*t.box},0)),i=this.state.invItems.reduce(function(e,t){return+e+ +t.box},0),d=(this.state.invItems.reduce(function(e,t){return+e+ +t.kg},0),this.state),u=d.redirect,m=d.redirectToInvoice;return u?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/roughInvoiceList"})):m?(this.setState({redirectToInvoice:!1}),r.a.createElement(o.a,{to:"/invoice/0/".concat(this.props.match.params.id_rough_invoice)})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Rough Invoice"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"New Rough Invoice")),r.a.createElement("div",{class:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date:"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice No"),r.a.createElement("input",{type:"text",value:this.state.invoice_no,onChange:this.handleChangeInvoiceNo,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of loading"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangePortLoad(t)},value:this.state.port_load},this.state.airports.map(function(e){return r.a.createElement("option",{value:e.Id_port},e.Port)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consigner"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeConsigner(t)},value:this.state.consigner},this.state.consigners.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{class:"form-control",onChange:function(t){return e.handleChangeConsignerAddress(t)},value:this.state.consigner_address,rows:"3",placeholder:"Consigner"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consignee"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeConsignee(t)},value:this.state.consignee},this.state.consignees.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{class:"form-control",onChange:function(t){return e.handleChangeConsigneeAddress(t)},value:this.state.consignee_address,rows:"3",placeholder:"Consignee"})))))),r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Invoice")),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"10%"}},"Box"),r.a.createElement("th",{style:{width:"20%",textAlign:"right"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,a,r.a.createElement(Pt,{products:this.state.products,addRow:this.addRow})),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",{align:"right"}),r.a.createElement("td",{align:"right"},i),r.a.createElement("td",{align:"right"},s," Kg"),r.a.createElement("td",null)))),r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Airport Invoice")),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"10%"}},"Box"),r.a.createElement("th",{align:"right",style:{width:"20%",textAlign:"right"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,n,r.a.createElement(Pt,{products:this.state.products,addRow:this.addRowAirway})),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",{align:"right"}),r.a.createElement("td",{align:"right"},c),r.a.createElement("td",{align:"right"},l," Kg"),r.a.createElement("td",null)))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.saveInvoice("BACK")},type:"submit",class:"btn btn-primary"},"Save"),r.a.createElement("button",{onClick:function(){return e.saveInvoice("INVOICE")},type:"submit",class:"btn btn-primary"},"Create Invoice"),r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!1},function(){return e.setState({showPdf:!0,printDoc:"RoughInvoice"})})},type:"button",class:"btn btn-primary float-right"},"Print Rough Invoice"),r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!1},function(){return e.setState({showPdf:!0,printDoc:"Airway"})})},type:"button",class:"btn btn-primary float-right"},"Print Airway Bill")))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(We.c,{style:{width:"100%",height:500}},"RoughInvoice"==this.state.printDoc?r.a.createElement(Ct,this.state):r.a.createElement(xt,this.state)))))))))))))}}]),t}(n.Component),Tt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleChangeKg=function(e){a.props.handleChangeKg(e,a.props.rowIndex)},a.handleChangeBox=function(e){a.props.handleChangeBox(e,a.props.rowIndex)},a.handleChangeProduct=function(e){a.props.handleChangeProduct(e,a.props.rowIndex)},a.delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeKg(t)}})),r.a.createElement("td",{align:"right"},r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeBox(t)}})),r.a.createElement("td",{align:"right"},Math.round(10*a)/10),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRow,class:"btn btn-success"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(n.Component),_t=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleChangeAirwayKg=function(e){a.props.handleChangeAirwayKg(e,a.props.rowIndex)},a.handleChangeAirwayBox=function(e){a.props.handleChangeAirwayBox(e,a.props.rowIndex)},a.handleChangeAirwayProduct=function(e){a.props.handleChangeAirwayProduct(e,a.props.rowIndex)},a.delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.airwayItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeAirwayProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeAirwayKg(t)}})),r.a.createElement("td",{align:"right"},r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeAirwayBox(t)}})),r.a.createElement("td",{align:"right"},Math.round(10*a)/10),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRowAirway,class:"btn btn-success"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(n.Component),Pt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).addRow=function(e){a.props.addRow(e)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.addRow(t)},value:0},this.props.products.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null),r.a.createElement("td",null," "))}}]),t}(n.Component),Rt=It,At=a(64),Lt=a.n(At),Nt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).handlePageChange=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.state.dateFrom,t=a.state.dateTo,n=a.state.invoice_no,r=a.state.show,l=a.state.activePage;0==r&&a.loadInvoiceList(l),1==r&&a.loadInvoiceSearchList(a.formatDate(e),a.formatDate(t),l,n)})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e})},a.onDateToChange=function(e){a.setState({dateTo:e})},a.state={title:"Table",data:null,invoice_no:"",date:new Date,dateFrom:new Date,dateTo:new Date,invItems:[],activePage:1,totalCount:"",show:!1},a.onDateFromChange=a.onDateFromChange.bind(Object(v.a)(Object(v.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(v.a)(Object(v.a)(a))),a.onInvoiceNoChange=a.onInvoiceNoChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.activePage;this.loadInvoiceList(e)}},{key:"loadInvoiceList",value:function(e){var t=this;fetch(A+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({invItems:e.items,totalCount:e.totalCount})}),console.log(this.state.totalCount)}},{key:"loadInvoiceSearchList",value:function(e,t,a,n){var r=this,l=""!=n?n.replace("/","_"):null;fetch("".concat(L,"/").concat(e,"/").concat(t,"/").concat(a,"/").concat(l)).then(function(e){return e.json()}).then(function(e){return r.setState({invItems:e.items,totalCount:e.totalCount})})}},{key:"onFilter",value:function(){var e=this;this.setState({invoice_no:"",show:!0},function(){var t=e.state.dateFrom,a=e.state.dateTo,n=e.state.invoice_no,r=e.state.activePage;e.loadInvoiceSearchList(e.formatDate(t),e.formatDate(a),r,n)})}},{key:"removeFilter",value:function(){var e=this;this.setState({invoice_no:"",show:!1},function(){var t=e.state.activePage;e.loadInvoiceList(t)})}},{key:"onInvoiceNoChange",value:function(e){this.setState({invoice_no:e.target.value.toUpperCase()})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(Ft,{delRow:e.delRow,invItem:t,rowIndex:a})}),a=this.state.show;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Invoice")),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement(Lt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)}))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},a&&r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("button",{type:"button",class:"btn btn float-right",onClick:function(){return e.removeFilter()},"data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice No"),r.a.createElement("input",{type:"text",value:this.state.invoice_no,onChange:this.onInvoiceNoChange,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadInvoiceSearchList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo),e.state.activePage,e.state.invoice_no)}},"Search")))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Invoice"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(d.b,{to:"./invoice/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create"))),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.onFilter()},class:"btn btn-block btn-success btn-flat "},"Filter"))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"Inv. No"),r.a.createElement("th",{style:{width:"15%"}},"Date"),r.a.createElement("th",{style:{width:"30%"}},"Consignee"),r.a.createElement("th",{style:{width:"15%"}},"Status"),r.a.createElement("th",{style:{width:"5%"}}))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",{align:"right"})))))))))))}}]),t}(n.Component),Ft=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a.editRow=function(){a.props.editRow(a.props.rowIndex)},a.getStatus=function(e){return"Waiting Approval"==e?r.a.createElement("span",{class:"badge bg-primary"},"Waiting Approval"):"Packing"==e?r.a.createElement("span",{class:"badge bg-warning"},"Packing"):"Shipped"==e?r.a.createElement("span",{class:"badge bg-success"},"Shipped"):"Cancelled"==e?r.a.createElement("span",{class:"badge bg-danger"},"Cancelled"):void 0},a.getDelBtn=function(e){if(1==e)return r.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"}))},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.invItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.invoice_no),r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.consignee),r.a.createElement("td",null,this.getStatus(e.status)),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(d.b,{to:"./invoice/"+e.id_invoice,render:function(e){return r.a.createElement(vt,e)}},r.a.createElement("i",{class:"fas fa-edit"})," "),this.getDelBtn(e.status))))}}]),t}(r.a.Component),Vt=Nt,Mt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).handlePageChange=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.state.activePage;a.loadInvoiceList(e)})},a.state={title:"Table",data:null,date:new Date,invItems:[],activePage:1,totalCount:""},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.activePage;this.loadInvoiceList(e)}},{key:"loadInvoiceList",value:function(e){var t=this;fetch(_+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({invItems:e.items,totalCount:e.totalCount})})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(zt,{delRow:e.delRow,invItem:t,rowIndex:a})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Rough Invoice")),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement(Lt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)}))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Rough Invoice"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(d.b,{to:"./roughInvoiceCreate/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"Date"),r.a.createElement("th",null,"Consigner"),r.a.createElement("th",null,"Consignee"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))))))))))}}]),t}(n.Component),zt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a.editRow=function(){a.props.editRow(a.props.rowIndex)},a.getStatus=function(e){return 1==e?r.a.createElement("span",{class:"badge bg-primary"},"created"):2==e?r.a.createElement("span",{class:"badge bg-warning"},"certified"):3==e?r.a.createElement("span",{class:"badge bg-success"},"shipped"):void 0},a.getDelBtn=function(e){if(1==e)return r.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"}))},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.consigner),r.a.createElement("td",null,t.consignee),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(d.b,{to:"./roughInvoiceCreate/"+t.id_rough_invoice,render:function(t){return r.a.createElement(Rt,Object.assign({},t,{id_rough_invoice:e.props.match.params.id_rough_invoice}))}},r.a.createElement("i",{class:"fas fa-edit"})," "),this.getDelBtn(t.status))))}}]),t}(r.a.Component),Bt=Mt,Ht=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).delPayroll=function(e){fetch(te+"/".concat(e)).then(function(e){e.json();var t=a.formatDate(a.state.date);a.loadVoucherList(t)})},a.loadVoucherList=function(e){fetch(ee+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){a.setState({id_ledger:"",type:"",amount:"",arrVouchers:e})}),console.log(a.state.arrVouchers)},a.saveVoucher=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger:a.state.id_ledger,amount:a.state.amount,type:a.state.type})};fetch(q,e).then(function(e){e.json();var t=a.formatDate(a.state.date);a.loadVoucherList(t)}),a.setState({amount:""})}else a.validator.showMessages(),a.forceUpdate()},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateChange=function(e){a.setState({date:e},function(){var e=a.formatDate(a.state.date);a.loadVoucherList(e)})},a.state={data:null,date:new Date,id_ledger:"",type:"",amount:"",ledger:"",arrLedger:[],arrVouchers:[],arrType:[{type:"Allowance"},{type:"Salary"},{type:"Loan"}]},a.onAmountChange=a.onAmountChange.bind(Object(v.a)(Object(v.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(v.a)(Object(v.a)(a))),a.onLedgerChange=a.onLedgerChange.bind(Object(v.a)(Object(v.a)(a))),a.onDateChange=a.onDateChange.bind(Object(v.a)(Object(v.a)(a))),a.validator=new Re.a,a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.date);this.loadAccountHead(),this.loadVoucherList(e)}},{key:"loadAccountHead",value:function(){var e=this,t=De;fetch("".concat(me,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:t})})}},{key:"onTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(Gt,{arrVoucher:t,arrLedger:e.state.arrLedger,delPayroll:e.delPayroll})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Payroll"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},r.a.createElement("option",null,"--Select--"),this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("name",this.state.id_ledger,"required|numeric"))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},r.a.createElement("option",null,"--Select--"),this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)})))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveVoucher},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"45%"}},"Name"),r.a.createElement("th",{style:{width:"30%"}},"Type"),r.a.createElement("th",{style:{width:"30%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),t}(n.Component),Gt=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.props.delPayroll(t.id_payroll)}},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),Kt=Ht,Wt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadLedger=function(e){fetch(oe+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({id:e[0].id_ledger_group,name:e[0].account_head,op:e[0].opening_balance>0?e[0].opening_balance:-1*e[0].opening_balance,address:e[0].address,phone:e[0].phone,crdr:e[0].opening_balance>0?"Cr":"Dr"})})},a.saveLedger=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.state.id,name:a.state.name,code:a.state.code,op:"Cr"==a.state.crdr?a.state.op:-1*a.state.op,address:a.state.address,phone:a.state.phone,id_account_head:a.props.match.params.id_ledger})};fetch(ge,e).then(function(e){e.json(),a.setState({redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,id_account_head:"",code:"",id:"",name:"",op:"",crdr:"",address:"",phone:"",arrLedgerGroup:[],redirect:!1,types:[{Id:1,Type:"Cr"},{Id:2,Type:"Dr"}]},a.onNameChange=a.onNameChange.bind(Object(v.a)(Object(v.a)(a))),a.onIdChange=a.onIdChange.bind(Object(v.a)(Object(v.a)(a))),a.onOpChange=a.onOpChange.bind(Object(v.a)(Object(v.a)(a))),a.onAddressChange=a.onAddressChange.bind(Object(v.a)(Object(v.a)(a))),a.onPhoneChange=a.onPhoneChange.bind(Object(v.a)(Object(v.a)(a))),a.onCrdrChange=a.onCrdrChange.bind(Object(v.a)(Object(v.a)(a))),a.validator=new Re.a,a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup();var e=this.props.match.params.id_ledger;0!=e&&this.loadLedger(e)}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(ue).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerGroup:t})})}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value.toUpperCase()})}},{key:"onIdChange",value:function(e){this.setState({id:e.target.value})}},{key:"onOpChange",value:function(e){this.setState({op:e.target.value})}},{key:"onAddressChange",value:function(e){this.setState({address:e.target.value})}},{key:"onPhoneChange",value:function(e){this.setState({phone:e.target.value})}},{key:"onCrdrChange",value:function(e){this.setState({crdr:e.target.value})}},{key:"render",value:function(){return this.state.redirect?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/ledger"})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:this.state.name,onChange:this.onNameChange,class:"form-control"}),this.validator.message("name",this.state.name,"required"))),r.a.createElement("div",{class:"col-sm-5"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger Group"),r.a.createElement("select",{class:"form-control",onChange:this.onIdChange,value:this.state.id},r.a.createElement("option",{value:""},"Select"),this.state.arrLedgerGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})),this.validator.message("ledger group",this.state.id,"required|alpha_num_space"))),r.a.createElement("div",{class:"col-sm-1"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"\xa0"),r.a.createElement(d.b,{to:"/ledgerGroup",class:"btn btn-tool btn-sm"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"+"))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Opening Balance"),r.a.createElement("input",{type:"text",value:this.state.op,onChange:this.onOpChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",onChange:this.onCrdrChange,value:this.state.crdr},this.state.types.map(function(e){return r.a.createElement("option",{value:e.Type},e.Type)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Phone"),r.a.createElement("input",{type:"text",value:this.state.phone,onChange:this.onPhoneChange,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Address"),r.a.createElement("textarea",{multiline:!0,type:"text",value:this.state.address,onChange:this.onAddressChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save"))))))))))))))}}]),t}(n.Component),Ut=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadLedgerList=function(e,t){fetch(he+"/".concat(e)+"/".concat(t)).then(function(e){return e.json()}).then(function(e){a.setState({arrLedgers:e.items,totalCount:e.totalCount})})},a.handlePageChange=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.state.activePage,t=a.state.ledgerGroup;a.loadLedgerList(t,e)})},a.delRow=function(e){var t=a.state.arrLedgers;t.splice(e,1),a.setState({arrLedgers:t})},a.onLedgerGroupChange=function(e){a.setState({ledgerGroup:e.target.value},function(){var e=a.state.ledgerGroup,t=a.state.activePage;a.loadLedgerList(e,t)})},a.state={data:null,ledgerGroup:"0",activePage:1,totalCount:"",arrLedgerGroup:[],arrLedgers:[]},a.onLedgerGroupChange=a.onLedgerGroupChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.ledgerGroup,t=this.state.activePage;this.loadLedgerGroup(),this.loadLedgerList(e,t)}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(ue).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerGroup:t})})}},{key:"render",value:function(){var e=this,t=this.state.arrLedgers.map(function(e,t){return r.a.createElement(Yt,{arrLedger:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Group"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.onLedgerGroupChange(t)},value:this.state.ledgerGroup},r.a.createElement("option",{value:""},"All"),this.state.arrLedgerGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})))),r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement(d.b,{to:"./ledgerCreate/0",class:"btn btn-tool btn-sm"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-fla"},"Create"))))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"45%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Phone"),r.a.createElement("th",{style:{width:"30%"}},"Group"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,t))),r.a.createElement("div",{class:"card-footer clearfix"},r.a.createElement(Lt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)})))))))))}}]),t}(n.Component),Yt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrLedger;return r.a.createElement("tr",null,r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.phone),r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(d.b,{to:"./ledgerCreate/"+t.id_account_head,render:function(t){return r.a.createElement(Wt,Object.assign({},t,{id_ledger:e.props.match.params.id_ledger}))}},r.a.createElement("i",{class:"fas fa-edit"})))))}}]),t}(r.a.Component),Qt=Ut,Jt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadVoucherList=function(e,t){fetch(ae+"/'".concat(e,"'")+"/'".concat(t,"'")).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})}),a.setState({id_ledger_from:"",id_ledger_to:"",amount:"",description:""}),console.log(a.state.arrVouchers)},a.saveVoucher=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a.formatDate(a.state.date),id_ledger_from:a.state.id_ledger_from,id_ledger_to:a.state.id_ledger_to,description:a.state.description,rate:a.state.rate,amount:a.state.amount,type:a.state.type,voucher_no:a.state.voucher_no,id_invoice:a.state.id_invoice})};fetch(re,e).then(function(e){e.json();var t=a.formatDate(a.state.date);a.loadVoucherList(t,a.state.type)})}else a.validator.showMessages(),a.forceUpdate()},a.delVoucher=function(e){fetch(ne+"/".concat(e)).then(function(e){e.json();var t=a.formatDate(a.state.date);a.loadVoucherList(t,a.state.type)})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateChange=function(e){a.setState({date:e},function(){var e=a.formatDate(a.state.date);a.loadVoucherList(e,a.state.type),a.loadAccountHead()})},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,date:new Date,id_ledger_from:"",id_ledger_to:"",description:"",rate:"",amount:"",type:"Payment",voucher_no:0,id_invoice:0,ledger:"",arrLedgerFrom:[],arrLedgerTo:[],arrVouchers:[],arrType:[{type:"Payment"},{type:"Receipt"},{type:"Transfer"}]},a.onAmountChange=a.onAmountChange.bind(Object(v.a)(Object(v.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(v.a)(Object(v.a)(a))),a.onDescriptionChange=a.onDescriptionChange.bind(Object(v.a)(Object(v.a)(a))),a.onLedgerFromChange=a.onLedgerFromChange.bind(Object(v.a)(Object(v.a)(a))),a.onLedgerToChange=a.onLedgerToChange.bind(Object(v.a)(Object(v.a)(a))),a.onDateChange=a.onDateChange.bind(Object(v.a)(Object(v.a)(a))),a.validator=new Re.a,a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.date,t=this.props.match.params.type;e?this.setState({date:new Date(e),type:t}):(e=this.formatDate(this.state.date),t=this.state.type),this.loadAccountHead(),this.loadVoucherList(e,t)}},{key:"loadAccountHead",value:function(){var e=this,t=Se,a=-1*Se;"Receipt"==this.state.type?(t=-1*Se,a=Se+","+Te+","+_e):"Payment"==this.state.type?(t=Se+","+Te+","+_e,a=-1*Se):"Transfer"==this.state.type&&(t=Se,a=Se),fetch("".concat(he,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerFrom:t})}),fetch("".concat(he,"/").concat(a)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerTo:t})})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onTypeChange",value:function(e){var t=this;this.setState({type:e.target.value},function(){t.loadVoucherList(t.formatDate(t.state.date),t.state.type),t.loadAccountHead()})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerFromChange",value:function(e){this.setState({id_ledger_from:e.target.value})}},{key:"onLedgerToChange",value:function(e){this.setState({id_ledger_to:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(Xt,{arrVoucher:t,arrLedger:e.state.arrLedger,delVoucher:e.delVoucher})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Voucher"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)}))))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerFromChange,value:this.state.id_ledger_from},r.a.createElement("option",null,"--Select--"),this.state.arrLedgerFrom.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("from",this.state.id_ledger_from,"required|numeric"))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerToChange,value:this.state.id_ledger_to},r.a.createElement("option",null,"--Select--"),this.state.arrLedgerTo.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("to",this.state.id_ledger_to,"required|numeric")))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Remarks"),r.a.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveVoucher},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"From"),r.a.createElement("th",{style:{width:"25%"}},"To"),r.a.createElement("th",{style:{width:"25%"}},"Remarks"),r.a.createElement("th",{style:{width:"25%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),t}(n.Component),Xt=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.acc_from),r.a.createElement("td",null,t.acc_to),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.delVoucher(t.id_account_voucher)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),$t=Jt,Zt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadVoucherList=function(e,t,n,r){fetch(se+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e.items,totalCount:e.totalCount,receiptTotal:e.receipt,paymentTotal:e.payment})}),a.loadOp(e,t,n)},a.handlePageChange=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.state.activePage,t=a.formatDate(a.state.dateFrom),n=a.formatDate(a.state.dateTo),r=a.state.id_ledger;a.loadVoucherList(t,n,r,e)})},a.loadOp=function(e,t,n){fetch(ie+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({op:e[0].opening_bal})}),console.log(a.state.arrVouchers)},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e})},a.onDateToChange=function(e){a.setState({dateTo:e})},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:0,activePage:1,totalCount:"",receiptTotal:0,paymentTotal:0,arrLedger:[],arrVouchers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(v.a)(Object(v.a)(a))),a.onDateFromChange=a.onDateFromChange.bind(Object(v.a)(Object(v.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.dateFrom),t=this.formatDate(this.state.dateTo),a=this.state.id_ledger,n=this.state.activePage;this.loadOp(e,t,a),this.loadVoucherList(e,t,a,n),this.loadAccountHead()}},{key:"loadAccountHead",value:function(){var e=this;fetch(me).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:t})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(qt,{arrVoucher:t,arrLedger:e.state.arrLedger})}),a=(this.state.arrVouchers.reduce(function(e,t){return+e+ +t.receipt},0),this.state.arrVouchers.reduce(function(e,t){return+e+ +t.payment},0),Math.round(100*(-1*this.state.op+this.state.paymentTotal-this.state.receiptTotal))/100||0),n=a>=0?"".concat(a," DR"):"".concat(-1*a," CR"),l=Math.round(100*this.state.op)/100||0;return l=l>=0?"".concat(l," CR"):"".concat(-1*l," DR"),r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement("label",null,"Opening Balance :"),r.a.createElement("label",null,l))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadVoucherList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo),e.state.id_ledger,e.state.activePage)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Date"),r.a.createElement("th",{style:{width:"15%"}},"Type"),r.a.createElement("th",{style:{width:"20%"}},"Description"),r.a.createElement("th",{style:{width:"10%"}},"Debit"),r.a.createElement("th",{style:{width:"10%"}},"Credit"),r.a.createElement("th",{style:{width:"10%"}},"Balance"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},Math.round(100*this.state.paymentTotal)/100||0),r.a.createElement("th",{align:"right"},Math.round(100*this.state.receiptTotal)/100||0),r.a.createElement("th",{align:"right"},n)))),r.a.createElement("div",{class:"card-footer clearfix"},r.a.createElement(Lt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)}),r.a.createElement("button",{onClick:function(){window.open("./#/ledgerReportPdf/".concat(e.state.id_ledger,"/").concat(e.formatDate(e.state.dateFrom),"/").concat(e.formatDate(e.state.dateTo),"/"),"_blank")},type:"submit",class:"btn btn-primary"},"Print")))))))))}}]),t}(n.Component),qt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher,t=e.date.split("/").reverse().join("-");return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,Math.round(100*e.payment)/100||0),r.a.createElement("td",null,Math.round(100*e.receipt)/100||0),r.a.createElement("td",{align:"right"},"1"==e.vchr_type&&r.a.createElement(d.b,{to:"./voucher/".concat(t,"/").concat(e.type),render:function(e){return r.a.createElement($t,null)}},r.a.createElement("i",{class:"fas fa-edit"})," ")))}}]),t}(r.a.Component),ea=Zt,ta=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadAccountHead=function(e){fetch("".concat(oe,"/").concat(e)).then(function(e){return e.json()}).then(function(e){a.setState({ledger:e[0].account_head})})},a.loadVoucherList=function(e,t,n){fetch(se+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)+"/".concat(1,"/0")).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e.items,totalCount:e.totalCount,receiptTotal:e.receipt,paymentTotal:e.payment})})},a.loadOp=function(e,t,n){fetch(ie+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({op:e[0].opening_bal})}),console.log(a.state.arrVouchers)},a.state={data:null,dateFrom:"",dateTo:"",id_ledger:"",ledger:"",op:0,activePage:1,totalCount:"",receiptTotal:0,paymentTotal:0,arrLedger:[],arrVouchers:[]},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.from_date,t=this.props.match.params.to_date,a=this.props.match.params.id_account_head;this.setState({dateFrom:e,dateTo:t}),this.loadOp(e,t,a),this.loadVoucherList(e,t,a),this.loadAccountHead(a)}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(aa,{arrVoucher:t,arrLedger:e.state.arrLedger})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.receipt},0),n=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.payment},0),l=parseInt(-1*this.state.op+this.state.paymentTotal-this.state.receiptTotal)||0,c=parseInt(this.state.op)||0;return a+=c>0?c:0,n+=c<0?-1*c:0,r.a.createElement(We.c,{style:{width:"100%",height:700}},r.a.createElement(We.a,null,r.a.createElement(We.d,{size:"A4",style:ra.page},r.a.createElement(We.g,{style:ra.top}),r.a.createElement(We.g,{style:{flexDirection:"column"}},r.a.createElement(We.g,{style:ra.container1},r.a.createElement(We.g,{style:ra.section},r.a.createElement(We.f,{style:ra.headerTxt},"AQUASIGN EXPORTS"),r.a.createElement(We.f,{style:ra.address},"5-27, M-1. Maria Street, Kanyakumari Dist")),r.a.createElement(We.g,{style:ra.sectionTopRight},r.a.createElement(We.g,{style:ra.box},r.a.createElement(We.f,{style:[ra.right,{textDecoration:"underline"}]},"LEDGER REPORT")),r.a.createElement(We.g,{style:ra.box},r.a.createElement(We.f,{style:ra.right},this.state.ledger)),r.a.createElement(We.g,{style:ra.box},r.a.createElement(We.f,{style:ra.right},"".concat(this.state.dateFrom," to ").concat(this.state.dateTo))))),r.a.createElement(We.g,{style:ra.tableRow},r.a.createElement(We.f,{style:[ra.col1,ra.bold]},"DATE"),r.a.createElement(We.f,{style:[ra.col2,ra.bold]},"TYPE"),r.a.createElement(We.f,{style:[ra.col3,ra.bold]},"NARRATION"),r.a.createElement(We.f,{style:[ra.col4,ra.bold]},"DEBIT"),r.a.createElement(We.f,{style:[ra.col5,ra.bold]},"CREDIT")),r.a.createElement(We.g,{style:ra.tableRow},r.a.createElement(We.f,{style:ra.col1}),r.a.createElement(We.f,{style:ra.col2}),r.a.createElement(We.f,{style:ra.col3},"Opening Balance"),r.a.createElement(We.f,{style:ra.col4},c<0&&-1*c),r.a.createElement(We.f,{style:ra.col5},c>0&&c)),t,r.a.createElement(We.g,{style:ra.tableRow},r.a.createElement(We.f,{style:ra.col1}),r.a.createElement(We.f,{style:[ra.col2,ra.bold]}),r.a.createElement(We.f,{style:[ra.col3,ra.bold]},"Total"),r.a.createElement(We.f,{style:[ra.col4,ra.bold]},n),r.a.createElement(We.f,{style:[ra.col5,ra.bold]},a)),r.a.createElement(We.g,{style:ra.tableRow},r.a.createElement(We.f,{style:ra.col1}),r.a.createElement(We.f,{style:[ra.col2,ra.bold]}),r.a.createElement(We.f,{style:[ra.col3,ra.bold]},"Closing Balance"),r.a.createElement(We.f,{style:[ra.col4,ra.bold]},l>0&&l+" DR"),r.a.createElement(We.f,{style:[ra.col5,ra.bold]},l<0&&-1*l+" CR"))))))}}]),t}(n.Component),aa=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement(We.g,{style:ra.tableRow},r.a.createElement(We.f,{style:ra.col1},e.date),r.a.createElement(We.f,{style:ra.col2},e.type),r.a.createElement(We.f,{style:ra.col3},e.narration),r.a.createElement(We.f,{style:ra.col4},Math.round(parseInt(e.payment))||0),r.a.createElement(We.f,{style:ra.col5},Math.round(parseInt(e.receipt))||0))}}]),t}(r.a.Component),na=ta,ra=We.e.create({tableRow:{flexDirection:"row",paddingVertical:5,borderBottomColor:"#CCC",borderBottomWidth:1},col1:{width:"15%",fontSize:10},col2:{width:"10%",fontSize:10},col3:{width:"45%",fontSize:10},col4:{width:"15%",textAlign:"right",fontSize:10},col5:{width:"15%",textAlign:"right",fontSize:10},page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between",padding:5},sectionTopRight:{paddingVertical:5,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{fontSize:10,textAlign:"right"},right:{fontSize:10,textAlign:"left",paddingHorizontal:10,fontFamily:"Roboto"},address:{color:"#034a7e",fontSize:10,fontFamily:"Roboto"},headerTxt:{fontSize:13,fontFamily:"Roboto"},bold:{fontFamily:"Roboto"}}),la=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).saveLedger=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ledger:a.state.ledger})};fetch(de,e).then(function(e){return e.json()}),a.loadLedgerGroup()},a.delRow=function(e){var t=a.state.arrLedgers;t.splice(e,1),a.setState({arrLedgers:t})},a.state={data:null,ledger:"",arrLedgers:[]},a.onLedgerChange=a.onLedgerChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup()}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(ue).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgers:t})})}},{key:"onLedgerChange",value:function(e){this.setState({ledger:e.target.value})}},{key:"render",value:function(){var e=this.state.arrLedgers.map(function(e,t){return r.a.createElement(ca,{arrLedger:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Ledger Group"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:this.state.ledger,onChange:this.onLedgerChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"100%"}},"Name"))),r.a.createElement("tbody",null,e))))))))))}}]),t}(n.Component),ca=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrLedger;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name))}}]),t}(r.a.Component),oa=la,sa=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadCredit=function(e,t,n,r){fetch(Ee+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){a.setState({arrCreditVouchers:e.items||[],totalCountCredit:e.totalCountCredit,totalCredit:e.totalCredit})})},a.loadDebit=function(e,t,n,r){fetch(pe+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){a.setState({arrDebitVouchers:e.items||[],totalCountDebit:e.totalCountDebit,totalDebit:e.totalDebit})})},a.loadOp=function(e,t){fetch(fe+"/'".concat(e,"'")+"/".concat(t)).then(function(e){return e.json()}).then(function(e){a.setState({op:e[0].balance?e[0].balance:0})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e},function(){a.formatDate(a.state.dateFrom),a.formatDate(a.state.dateTo)})},a.onDateToChange=function(e){a.setState({dateTo:e},function(){a.formatDate(a.state.dateFrom),a.formatDate(a.state.dateTo)})},a.onLedgerChange=function(e){a.setState({id_ledger:e.target.value},function(){})},a.loadCashBook=function(){var e=a.formatDate(a.state.dateFrom),t=a.formatDate(a.state.dateTo),n=a.state.id_ledger,r=a.state.activePage;a.loadCredit(e,t,n,r),a.loadDebit(e,t,n,r),a.loadOp(e,n)},a.handlePageChangeCredit=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.formatDate(a.state.dateFrom),t=a.formatDate(a.state.dateTo),n=a.state.id_ledger,r=a.state.activePage;a.loadCredit(e,t,n,r)})},a.handlePageChangeDebit=function(e){console.log("active page is ".concat(e)),a.setState({activePage:e},function(){var e=a.formatDate(a.state.dateFrom),t=a.formatDate(a.state.dateTo),n=a.state.id_ledger,r=a.state.activePage;a.loadDebit(e,t,n,r)})},a.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:"",activePage:1,totalCountDebit:"",totalCountCredit:"",arrLedger:[],arrCreditVouchers:[],arrDebitVouchers:[],totalDebit:0,totalCredit:0},a.onLedgerChange=a.onLedgerChange.bind(Object(v.a)(Object(v.a)(a))),a.onDateFromChange=a.onDateFromChange.bind(Object(v.a)(Object(v.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(v.a)(Object(v.a)(a))),a.loadCashBook=a.loadCashBook.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadAccountHead()}},{key:"loadAccountHead",value:function(){var e=this,t=Se;fetch("".concat(me,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"render",value:function(){var e=this,t=this.state.arrCreditVouchers.map(function(e,t){return r.a.createElement(da,{arrCredit:e})}),a=this.state.arrDebitVouchers.map(function(e,t){return r.a.createElement(ia,{arrVoucher:e})}),n=this.state.totalCredit,l=this.state.totalDebit,c=this.state.op+l-n;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Cash Book"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.loadCashBook},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Opening Balance :"),r.a.createElement("label",null,this.state.op)))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement(Lt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCountDebit,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChangeDebit.bind(this)}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement(Lt.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCountCredit,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChangeCredit.bind(this)})))))),r.a.createElement("tbody",null)),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Date"),r.a.createElement("th",{style:{width:"30%"}},"Name"),r.a.createElement("th",{style:{width:"30%"}},"Particulars"),r.a.createElement("th",{style:{width:"25%"}},"Receipt"))),r.a.createElement("tbody",null,a),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},l)))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Date"),r.a.createElement("th",{style:{width:"30%"}},"Name"),r.a.createElement("th",{style:{width:"30%"}},"Particulars"),r.a.createElement("th",{style:{width:"25%"}},"Payment"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},n))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-footer"},r.a.createElement("label",null,"Balance : ",c),r.a.createElement("button",{onClick:function(){window.open("./#/cashBookPdf/".concat(e.state.id_ledger,"/").concat(e.formatDate(e.state.dateFrom),"/").concat(e.formatDate(e.state.dateTo),"/"),"_blank")},type:"submit",class:"btn btn-primary float-right"},"Print")))))))))))))}}]),t}(n.Component),ia=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,e.debit))}}]),t}(r.a.Component),da=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrCredit;return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,e.credit))}}]),t}(r.a.Component),ua=sa,ma=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadCashBook=function(e,t,n){a.loadCredit(e,t,n,"0/0"),a.loadDebit(e,t,n,"0/0"),a.loadOp(e,n)},a.loadAccountHead=function(e){fetch("".concat(oe,"/").concat(e)).then(function(e){return e.json()}).then(function(e){a.setState({ledger:e[0].account_head})})},a.loadCredit=function(e,t,n,r){fetch(Ee+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){a.setState({arrCreditVouchers:e.items||[],totalCountCredit:e.totalCountCredit,totalCredit:e.totalCredit})})},a.loadDebit=function(e,t,n,r){fetch(pe+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(n)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){a.setState({arrDebitVouchers:e.items||[],totalCountDebit:e.totalCountDebit,totalDebit:e.totalDebit})})},a.loadOp=function(e,t){fetch(fe+"/'".concat(e,"'")+"/".concat(t)).then(function(e){return e.json()}).then(function(e){a.setState({op:e?e[0].balance:0})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:"",activePage:1,totalCountDebit:"",totalCountCredit:"",arrLedger:[],arrCreditVouchers:[],arrDebitVouchers:[],totalDebit:0,totalCredit:0},a.loadCashBook=a.loadCashBook.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.from_date,t=this.props.match.params.to_date,a=this.props.match.params.id_account_head;this.setState({dateFrom:e,dateTo:t}),this.loadAccountHead(a),this.loadCashBook(e,t,a)}},{key:"render",value:function(){var e=this.state.arrCreditVouchers.map(function(e,t){return r.a.createElement(ga,{arrVoucher:e})}),t=this.state.arrDebitVouchers.map(function(e,t){return r.a.createElement(ha,{arrVoucher:e})}),a=this.state.totalCredit,n=this.state.totalDebit,l=this.state.op+n-a;return r.a.createElement(We.c,{style:{width:"100%",height:700}},r.a.createElement(We.a,null,r.a.createElement(We.d,{size:"A4",style:Ea.page},r.a.createElement(We.g,{style:Ea.top}),r.a.createElement(We.g,{style:{flexDirection:"column"}},r.a.createElement(We.g,{style:Ea.container1},r.a.createElement(We.g,{style:Ea.section},r.a.createElement(We.f,{style:Ea.headerTxt},"AQUASIGN EXPORTS"),r.a.createElement(We.f,{style:Ea.address},"5-27, M-1. Maria Street, Kanyakumari Dist")),r.a.createElement(We.g,{style:Ea.sectionTopRight},r.a.createElement(We.g,{style:Ea.box},r.a.createElement(We.f,{style:[Ea.right,{textDecoration:"underline"}]},"CASH BOOK")),r.a.createElement(We.g,{style:Ea.box},r.a.createElement(We.f,{style:Ea.right},this.state.ledger)),r.a.createElement(We.g,{style:Ea.box},r.a.createElement(We.f,{style:Ea.right},"".concat(this.state.dateFrom," to ").concat(this.state.dateTo))))),r.a.createElement(We.f,{style:Ea.txtBalance},"Opening Balance: ",Math.round(parseInt(this.state.op))||0),r.a.createElement(We.g,{style:Ea.tblContainer},r.a.createElement(We.g,{style:Ea.tblWrapper},r.a.createElement(We.g,{style:[Ea.tableRow,Ea.bg]},r.a.createElement(We.f,{style:[Ea.col1,Ea.bold]},"DATE"),r.a.createElement(We.f,{style:[Ea.col2,Ea.bold]},"NAME"),r.a.createElement(We.f,{style:[Ea.col3,Ea.bold]},"PARTICULARS"),r.a.createElement(We.f,{style:[Ea.col4,Ea.bold]},"RECEIPT")),t,r.a.createElement(We.g,{style:Ea.tableRow},r.a.createElement(We.f,{style:[Ea.col1,Ea.bold]}),r.a.createElement(We.f,{style:[Ea.col2,Ea.bold]},"Total"),r.a.createElement(We.f,{style:[Ea.col3,Ea.bold]}),r.a.createElement(We.f,{style:[Ea.col4,Ea.bold]},n))),r.a.createElement(We.g,{style:Ea.tblWrapper},r.a.createElement(We.g,{style:[Ea.tableRow,Ea.bg]},r.a.createElement(We.f,{style:[Ea.col1,Ea.bold]},"DATE"),r.a.createElement(We.f,{style:[Ea.col2,Ea.bold]},"NAME"),r.a.createElement(We.f,{style:[Ea.col3,Ea.bold]},"PARTICULARS"),r.a.createElement(We.f,{style:[Ea.col4,Ea.bold]},"PAYMENT")),e,r.a.createElement(We.g,{style:Ea.tableRow},r.a.createElement(We.f,{style:[Ea.col1,Ea.bold]}),r.a.createElement(We.f,{style:[Ea.col2,Ea.bold]},"Total"),r.a.createElement(We.f,{style:[Ea.col3,Ea.bold]}),r.a.createElement(We.f,{style:[Ea.col4,Ea.bold]},a)))),r.a.createElement(We.f,{style:Ea.txtBalance},"Closing Balance: ",Math.round(parseInt(l))||0),r.a.createElement(We.g,{style:Ea.top})))))}}]),t}(n.Component),ha=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement(We.g,{style:Ea.tableRow},r.a.createElement(We.f,{style:Ea.col1},e.date),r.a.createElement(We.f,{style:Ea.col2},e.name),r.a.createElement(We.f,{style:Ea.col3},e.narration),r.a.createElement(We.f,{style:Ea.col4},Math.round(parseInt(e.debit))||0))}}]),t}(r.a.Component),ga=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement(We.g,{style:Ea.tableRow},r.a.createElement(We.f,{style:Ea.col1},e.date),r.a.createElement(We.f,{style:Ea.col2},e.name),r.a.createElement(We.f,{style:Ea.col3},e.narration),r.a.createElement(We.f,{style:Ea.col4},Math.round(parseInt(e.credit))||0))}}]),t}(r.a.Component),fa=ma,Ea=We.e.create({tblContainer:{flexDirection:"row"},tblWrapper:{width:"50%",padding:5},tableRow:{flexDirection:"row",paddingVertical:5,borderBottomColor:"#CCC",borderBottomWidth:1},col1:{width:"20%",fontSize:10},col2:{width:"30%",fontSize:10},col3:{width:"30%",fontSize:10,textAlign:"right"},col4:{width:"20%",textAlign:"right",fontSize:10},page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between",padding:5},sectionTopRight:{paddingVertical:5,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{fontSize:10,textAlign:"right"},right:{fontSize:10,textAlign:"left",paddingHorizontal:10,fontFamily:"Roboto"},txtBalance:{fontSize:10,textAlign:"right",padding:10,width:"100%",fontFamily:"Roboto",margin:5},address:{color:"#034a7e",fontSize:10,fontFamily:"Roboto"},headerTxt:{fontSize:13,fontFamily:"Roboto"},bold:{fontFamily:"Roboto"},bg:{backgroundColor:"#fa6a44"}}),pa=(a(156),function(e){return e.arrVouchers.map(function(e,t){return r.a.createElement(ba,e)})}),va=function(e){return r.a.createElement(We.a,null,r.a.createElement(We.d,{size:"A4",style:ya.page},r.a.createElement(We.g,{style:ya.top}),r.a.createElement(We.g,{style:ya.container1},r.a.createElement(We.g,{style:ya.section},r.a.createElement(We.f,null,"AQUASIGN EXPORTS"),r.a.createElement(We.f,{style:ya.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(We.g,{style:ya.sectionTopRight},r.a.createElement(We.g,{style:ya.box},r.a.createElement(We.f,{style:ya.left},"SUNDRY CREDITORS")),r.a.createElement(We.g,{style:ya.box},r.a.createElement(We.f,{style:ya.left},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))))),r.a.createElement(We.g,{style:ya.tableHeader},r.a.createElement(We.f,{style:ya.col1},"NAME"),r.a.createElement(We.f,{style:ya.col2},"CLOSING BALANCE")),r.a.createElement(We.g,null,r.a.createElement(pa,e)),r.a.createElement(We.g,{style:ya.tableData},r.a.createElement(We.f,{style:ya.col1}),r.a.createElement(We.f,{style:[ya.col2,{fontFamily:"Roboto"}]},Math.round(e.arrVouchers.reduce(function(e,t){return+e+ +t.closing_balance},0)))),r.a.createElement(We.g,{style:ya.top})))},ba=function(e){return r.a.createElement(We.g,{style:ya.tableData},r.a.createElement(We.f,{style:ya.col1},e.account_head),r.a.createElement(We.f,{style:ya.col2},Math.round(e.closing_balance)))};We.b.register({family:"Roboto",src:a(108)}),We.b.register({family:"Roboto-Italic",src:a(134)});var ya=We.e.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:10,padding:10,paddingHorizontal:10,width:"50%"},section3rd:{margin:10,padding:10,paddingHorizontal:10,width:"30%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"70%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"30%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{fontSize:10,textAlign:"right",fontFamily:"Roboto",padding:5},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{fontSize:10,textAlign:"left"},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),Ca=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).onDateChange=function(e){a.setState({date:e})},a.loadSundryCreditors=function(e){var t=a.formatDate(a.state.date);fetch(le+"/".concat(e,"/'").concat(t,"'")).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={showPdf:!1,data:null,id_ledger_group:"0",ledger:"",arrGroup:[],arrVouchers:[],rates:[],date:new Date},a.onLedgerChange=a.onLedgerChange.bind(Object(v.a)(Object(v.a)(a))),a.changeRate=a.changeRate.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.id_ledger_group;this.loadSundryCreditors(e),this.loadGroup()}},{key:"changeRate",value:function(e,t){var a=this.state.rates,n=this.state.arrVouchers.filter(function(t){return t.account_head==e});a[this.state.arrVouchers.indexOf(n[0])]=t,this.setState({rates:a})}},{key:"loadGroup",value:function(){var e=this;fetch(ue).then(function(e){return e.json()}).then(function(t){return e.setState({arrGroup:[{id_ledger_group:0,name:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_group:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(wa,{arrVoucher:t,rate:e.state.rates[a],changeRate:e.changeRate})}),a=this.state.rates,n=this.state.arrVouchers.reduce(function(e,t,n){var r=a[n]||1;return+e+ +t.closing_balance*r},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Sundry Creditor"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Group"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.onLedgerChange(t)},value:this.state.id_ledger_group},this.state.arrGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadSundryCreditors(e.state.id_ledger_group)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"35%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Group"),r.a.createElement("th",{style:{width:"15%"}},"Conv Rate"),r.a.createElement("th",{style:{width:"20%"}},"Closing Balance"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{style:{textAlign:"right"}},Math.round(n)," CR")))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!0})},type:"submit",class:"btn btn-primary float-right"},"Print"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(We.c,{style:{width:"100%",height:500}},r.a.createElement(va,{arrVouchers:this.state.arrVouchers,date:this.formatDate(this.state.date)})))))))))))}}]),t}(n.Component),wa=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"handleChangeRate",value:function(e,t){this.props.changeRate(e,t.target.value)}},{key:"render",value:function(){var e=this,t=this.props.arrVoucher,a=this.props.rate||1;return r.a.createElement("tr",null,r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.ledger_group),r.a.createElement("td",null,r.a.createElement("input",{type:"text",style:{textAlign:"right",width:100},onChange:function(a){return e.handleChangeRate(t.account_head,a)},value:this.props.rate})),r.a.createElement("td",{align:"right"},Math.round(t.closing_balance*a)))}}]),t}(r.a.Component),ja=Ca,ka=(a(156),function(e){return e.arrVouchers.map(function(e,t){return r.a.createElement(xa,e)})}),Oa=function(e){return r.a.createElement(We.a,null,r.a.createElement(We.d,{size:"A4",style:Da.page},r.a.createElement(We.g,{style:Da.top}),r.a.createElement(We.g,{style:Da.container1},r.a.createElement(We.g,{style:Da.section},r.a.createElement(We.f,null,"AQUASIGN EXPORTS"),r.a.createElement(We.f,{style:Da.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(We.g,{style:Da.sectionTopRight},r.a.createElement(We.g,{style:Da.box},r.a.createElement(We.f,{style:Da.left},"SUNDRY DEBTORS")),r.a.createElement(We.g,{style:Da.box},r.a.createElement(We.f,{style:Da.left},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))))),r.a.createElement(We.g,{style:Da.tableHeader},r.a.createElement(We.f,{style:Da.col1},"NAME"),r.a.createElement(We.f,{style:Da.col2},"CLOSING BALANCE")),r.a.createElement(We.g,null,r.a.createElement(ka,e)),r.a.createElement(We.g,{style:Da.tableData},r.a.createElement(We.f,{style:Da.col1}),r.a.createElement(We.f,{style:[Da.col2,{fontFamily:"Roboto"}]},-1*Math.round(e.arrVouchers.reduce(function(e,t){return+e+ +t.closing_balance},0)))),r.a.createElement(We.g,{style:Da.top})))},xa=function(e){return r.a.createElement(We.g,{style:Da.tableData},r.a.createElement(We.f,{style:Da.col1},e.account_head),r.a.createElement(We.f,{style:Da.col2},-1*Math.round(e.closing_balance)))};We.b.register({family:"Roboto",src:a(108)}),We.b.register({family:"Roboto-Italic",src:a(134)});var Da=We.e.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:10,padding:10,paddingHorizontal:10,width:"50%"},section3rd:{margin:10,padding:10,paddingHorizontal:10,width:"30%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"70%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"30%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{fontSize:10,textAlign:"right",fontFamily:"Roboto",padding:5},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{fontSize:10,textAlign:"left"},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),Sa=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).onDateChange=function(e){a.setState({date:e})},a.loadSundryCreditors=function(e){var t=a.formatDate(a.state.date);fetch(ce+"/".concat(e,"/'").concat(t,"'")).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={showPdf:!1,data:null,id_ledger_group:"0",ledger:"",arrGroup:[],arrVouchers:[],rates:[],date:new Date},a.onLedgerChange=a.onLedgerChange.bind(Object(v.a)(Object(v.a)(a))),a.changeRate=a.changeRate.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.id_ledger_group;this.loadSundryCreditors(e),this.loadGroup()}},{key:"changeRate",value:function(e,t){var a=this.state.rates,n=this.state.arrVouchers.filter(function(t){return t.account_head==e});a[this.state.arrVouchers.indexOf(n[0])]=t,this.setState({rates:a})}},{key:"loadGroup",value:function(){var e=this;fetch(ue).then(function(e){return e.json()}).then(function(t){return e.setState({arrGroup:[{id_ledger_group:0,name:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_group:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(Ia,{arrVoucher:t,rate:e.state.rates[a],changeRate:e.changeRate})}),a=this.state.rates,n=this.state.arrVouchers.reduce(function(e,t,n){var r=a[n]||1;return+e+ +t.closing_balance*r},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Sundry Debtor"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Group"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.onLedgerChange(t)},value:this.state.id_ledger_group},this.state.arrGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadSundryCreditors(e.state.id_ledger_group)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"35%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Group"),r.a.createElement("th",{style:{width:"15%"}},"Conv Rate"),r.a.createElement("th",{style:{width:"20%"}},"Closing Balance"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{style:{textAlign:"right"}},-1*Math.round(n)," DR"))))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!0})},type:"submit",class:"btn btn-primary float-right"},"Print"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(We.c,{style:{width:"100%",height:500}},r.a.createElement(Oa,{arrVouchers:this.state.arrVouchers,date:this.formatDate(this.state.date)})))))))))))}}]),t}(n.Component),Ia=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"handleChangeRate",value:function(e,t){this.props.changeRate(e,t.target.value)}},{key:"render",value:function(){var e=this,t=this.props.arrVoucher,a=this.props.rate||1;return r.a.createElement("tr",null,r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.ledger_group),r.a.createElement("td",null,r.a.createElement("input",{type:"text",style:{textAlign:"right",width:100},onChange:function(a){return e.handleChangeRate(t.account_head,a)},value:this.props.rate})),r.a.createElement("td",{align:"right"},-1*Math.round(t.closing_balance*a)))}}]),t}(r.a.Component),Ta=Sa,_a=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).state={data:null,ledger:"",arrProducts:[]},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadLedgerGroup()}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(ve).then(function(e){return e.json()}).then(function(t){return e.setState({arrProducts:t})})}},{key:"render",value:function(){var e=this.state.arrProducts.map(function(e,t){return r.a.createElement(Pa,{arrProduct:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Products"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Purchase Price"),r.a.createElement("th",{style:{width:"25%"}},"Selling Price"))),r.a.createElement("tbody",null,e))))))))))}}]),t}(n.Component),Pa=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrProduct;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.purchase_price),r.a.createElement("td",null,e.selling_price))}}]),t}(r.a.Component),Ra=_a,Aa=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadVoucherList=function(e){fetch(Ce+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({date:e[0].date,voucher_no:e[0].voucher_no,ledger:e[0].account_head,op:e[0]._old_balance})})},a.loadVoucherItemsList=function(e){fetch(we+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVoucherItems:e})})},a.loadVoucherExpList=function(e){fetch(je+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVoucherExps:e})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={data:null,date:"",voucher_no:"",op:"",ledger:"",arrVouchers:[],arrVoucherItems:[],arrVoucherExps:[],arrVoucherTotals:[]},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.voucher_no;this.loadVoucherList(e),this.loadVoucherItemsList(e),this.loadVoucherExpList(e)}},{key:"render",value:function(){var e=this.state.arrVoucherItems.map(function(e,t){return r.a.createElement(La,{arrVoucher:e})}),t=this.state.arrVoucherExps.map(function(e,t){return r.a.createElement(Na,{arrVoucherExp:e})}),a=(this.state.arrVoucherTotals.map(function(e,t){return r.a.createElement(Fa,{arrVoucher:e})}),this.state.arrVoucherItems.reduce(function(e,t){return+e+ +t.total},0)),n=this.state.arrVoucherExps.reduce(function(e,t){return+e+ +t.amount},0),l=a+n,c=l+this.state.op;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Purchase Voucher"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Voucher No :"),r.a.createElement("label",null,this.state.voucher_no))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date :"),r.a.createElement("label",null,this.state.date)))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Party : "),r.a.createElement("label",null,this.state.ledger)))),r.a.createElement("div",{class:"row"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"No"),r.a.createElement("th",{style:{width:"20%"}},"Item"),r.a.createElement("th",{style:{width:"25%"}},"Kg"),r.a.createElement("th",{style:{width:"25%"}},"Price"),r.a.createElement("th",{style:{width:"25%"}},"Total"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"65%"}},"Expense"),r.a.createElement("th",{style:{width:"35%"}},"Amount"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},n)))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Total "),r.a.createElement("td",{style:{fontWeight:"bold"}},a)),r.a.createElement("tr",null,r.a.createElement("td",null,"Expense "),r.a.createElement("td",{style:{fontWeight:"bold"}},n)),r.a.createElement("tr",null,r.a.createElement("td",null,"Net "),r.a.createElement("td",{style:{fontWeight:"bold"}},l)),r.a.createElement("tr",null,r.a.createElement("td",null,"OB"),r.a.createElement("td",{style:{fontWeight:"bold"}},this.state.op)),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontWeight:"bold"}},"Total"),r.a.createElement("td",{style:{fontWeight:"bold"}},c))))))))))))}}]),t}(n.Component),La=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).delRow=function(){a.props.delRow(a.props.rowIndex)},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.unit_price),r.a.createElement("td",null,e.total))}}]),t}(r.a.Component),Na=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucherExp;return r.a.createElement("tr",null,r.a.createElement("td",null,e.expense),r.a.createElement("td",null,e.amount))}}]),t}(r.a.Component),Fa=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state.arrVoucherItems.reduce(function(e,t){return+e+ +t.total},0),t=this.state.arrVoucherExps.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("tr",null,r.a.createElement("td",null,"Total  :",e),r.a.createElement("td",null,"Expense :",t),r.a.createElement("td",null))}}]),t}(r.a.Component),Va=Aa,Ma=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadVoucherList=function(e,t){fetch(ye+"/'".concat(e,"'")+"/'".concat(t,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({arrVouchers:e})})},a.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},a.onDateFromChange=function(e){a.setState({dateFrom:e})},a.onDateToChange=function(e){a.setState({dateTo:e})},a.state={data:null,dateFrom:new Date,dateTo:new Date,arrVouchers:[]},a.onDateFromChange=a.onDateFromChange.bind(Object(v.a)(Object(v.a)(a))),a.onDateToChange=a.onDateToChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.dateFrom),t=this.formatDate(this.state.dateTo);this.loadVoucherList(e,t)}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return r.a.createElement(za,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0),n=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.quantity},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Purchase Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadVoucherList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo))}},"Search"))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(C.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"V. No"),r.a.createElement("th",{style:{width:"20%"}},"Date"),r.a.createElement("th",{style:{width:"40%"}},"Party"),r.a.createElement("th",{style:{width:"20%"}},"Kg"),r.a.createElement("th",{style:{width:"20%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},n),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),t}(n.Component),za=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.voucher_no),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(d.b,{to:"purchaseVoucher/"+t.voucher_no,render:function(t){return r.a.createElement(Va,Object.assign({},t,{voucher_no:e.props.match.params.voucher_no}))}},r.a.createElement("i",{class:"fas fa-edit"})))))}}]),t}(r.a.Component),Ba=Ma,Ha=(a(156),function(e){return e.arrVouchers.map(function(e,t){return r.a.createElement(Ka,e)})}),Ga=function(e){return r.a.createElement(We.a,null,r.a.createElement(We.d,{size:"A4",style:Wa.page},r.a.createElement(We.g,{style:Wa.top}),r.a.createElement(We.g,{style:Wa.container1},r.a.createElement(We.g,{style:Wa.section},r.a.createElement(We.f,null,"AQUASIGN EXPORTS"),r.a.createElement(We.f,{style:Wa.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(We.g,{style:Wa.sectionTopRight},r.a.createElement(We.g,{style:Wa.box},r.a.createElement(We.f,{style:Wa.left},"STOCK REPORT")))),r.a.createElement(We.g,{style:Wa.tableHeader},r.a.createElement(We.f,{style:Wa.col1},"PRODUCT"),r.a.createElement(We.f,{style:Wa.col2},"STOCK"),r.a.createElement(We.f,{style:Wa.col3},"RATE"),r.a.createElement(We.f,{style:Wa.col4},"AMOUNT")),r.a.createElement(We.g,null,r.a.createElement(Ha,e)),r.a.createElement(We.g,{style:Wa.tableData},r.a.createElement(We.f,{style:Wa.col1}),r.a.createElement(We.f,{style:[Wa.col2,{fontFamily:"Roboto"}]},Math.round(e.arrVouchers.reduce(function(e,t){return+e+ +t.stock},0))),r.a.createElement(We.f,{style:[Wa.col3,{fontFamily:"Roboto"}]}),r.a.createElement(We.f,{style:[Wa.col4,{fontFamily:"Roboto"}]},Math.round(function(e){return e.reduce(function(e,t){return+e+ +t.rate*t.stock},0)}(e.arrVouchers)))),r.a.createElement(We.g,{style:Wa.top})))},Ka=function(e){return r.a.createElement(We.g,{style:Wa.tableData},r.a.createElement(We.f,{style:Wa.col1},e.product),r.a.createElement(We.f,{style:Wa.col2},e.stock," ",e.unit),r.a.createElement(We.f,{style:Wa.col3},e.rate),r.a.createElement(We.f,{style:Wa.col4},e.rate*e.stock))};We.b.register({family:"Roboto",src:a(108)}),We.b.register({family:"Roboto-Italic",src:a(134)});var Wa=We.e.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:10,padding:10,paddingHorizontal:10,width:"50%"},section3rd:{margin:10,padding:10,paddingHorizontal:10,width:"30%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"50%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"15%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},col4:{width:"20%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{fontSize:10,textAlign:"right",fontFamily:"Roboto",padding:5},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{fontSize:10,textAlign:"left"},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),Ua=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadStockList=function(e){fetch(be+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){a.setState({arrVouchers:e})}),console.log(a.state.arrVouchers)},a.state={showPdf:!1,data:null,id_product:"",type:"",arrProducts:[],arrVouchers:[],arrType:[{type:"FISH"},{type:"PACKING MATERIAL"},{type:"OTHER"}]},a.onProductChange=a.onProductChange.bind(Object(v.a)(Object(v.a)(a))),a.onTypeChange=a.onTypeChange.bind(Object(v.a)(Object(v.a)(a))),a.validator=new Re.a,a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.arrType[0].type;this.loadProduct(),this.loadStockList(e)}},{key:"loadProduct",value:function(){var e=this;fetch(ve).then(function(e){return e.json()}).then(function(t){e.setState({arrProducts:t})})}},{key:"onProductChange",value:function(e){this.setState({id_product:e.target.value},function(){})}},{key:"onTypeChange",value:function(e){var t=this;this.setState({type:e.target.value},function(){var e=t.state.type;t.loadStockList(e)})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return r.a.createElement(Ya,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.rate*t.stock},0),n=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.stock},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Stock Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)})))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadStockList(e.state.type)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Product"),r.a.createElement("th",{style:{width:"25%"}},"Stock"),r.a.createElement("th",{style:{width:"25%"}},"Rate"),r.a.createElement("th",{style:{width:"25%"}},"Amount"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},n),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a)))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!0})},type:"submit",class:"btn btn-primary float-right"},"Print"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(We.c,{style:{width:"100%",height:500}},r.a.createElement(Ga,{arrVouchers:this.state.arrVouchers})))))))))))}}]),t}(n.Component),Ya=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.product),r.a.createElement("td",null,e.stock," ",e.unit),r.a.createElement("td",null,e.rate),r.a.createElement("td",null,e.rate*e.stock))}}]),t}(r.a.Component),Qa=Ua,Ja=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).delNotification=function(e){fetch(xe+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({invItems:e})}),a.loadNotification()},a.state={title:"Table",data:null,date:new Date,invItems:[]},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadNotification()}},{key:"loadNotification",value:function(){var e=this;fetch(ke).then(function(e){return e.json()}).then(function(t){return e.setState({invItems:t})})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(Xa,{invItem:t,rowIndex:a,delNotification:e.delNotification})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Notification"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Notification"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(d.b,{to:"./notificationCreate"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"35%"}},"Date"),r.a.createElement("th",{style:{width:"50%"}},"Desciption"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))))))))))}}]),t}(n.Component),Xa=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.invItem;t.isread;return 0==t.isread?"Read":"Unread",r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.description),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-outline-danger",onClick:function(){return e.props.delNotification(t.id_notification)}},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),t}(r.a.Component),$a=Ja,Za=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).saveLedger=function(){if(a.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:a.state.description})};fetch(Oe,e).then(function(e){e.json(),a.setState({redirect:!0})})}else a.validator.showMessages(),a.forceUpdate()},a.delRow=function(e){var t=a.state.arrVouchers;t.splice(e,1),a.setState({arrVouchers:t})},a.state={description:"",redirect:!1},a.onDescriptionChange=a.onDescriptionChange.bind(Object(v.a)(Object(v.a)(a))),a.validator=new Re.a,a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"render",value:function(){return this.state.redirect?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/notification"})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Notification Create"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{multiline:!0,type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save"))))))))))))))}}]),t}(n.Component),qa=(n.Component,function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).loadUserDt=function(e){fetch(x+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({username:e[0].username,password:e[0].password,confirm:e[0].password,access:e[0].access}),e[0].access.split(",").forEach(function(e){console.log(e),a.setState(function(t){return{checkedItems:t.checkedItems.set(e,!0)}})})})},a.saveUser=function(){if(a.validator.allValid())if(a.state.password==a.state.confirm){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.state.username,password:a.state.password,confirm:a.state.confirm,access:a.state.checkedList,id_user:a.state.id_user})};fetch(k,e).then(function(e){e.json(),a.setState({redirect:!0})})}else a.setState({hidediv:!0});else a.validator.showMessages(),a.forceUpdate()},a.state=Object(u.a)({data:null,id_user:0,username:"",password:"",access:[],items:[],accessList:[],checkedList:"",checkedItems:new Map,hidediv:!1,redirectToUsers:!1},"redirectToUsers",!1),a.handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.handleChangeUsername=a.handleChangeUsername.bind(Object(v.a)(Object(v.a)(a))),a.handleChangePassword=a.handleChangePassword.bind(Object(v.a)(Object(v.a)(a))),a.handleChangeConfirm=a.handleChangeConfirm.bind(Object(v.a)(Object(v.a)(a))),a.validator=new Re.a,a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id_user;0!=e&&(this.loadUserDt(e),this.setState({id_user:e}))}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.checked;this.setState(function(e){return{checkedItems:e.checkedItems.set(t,a)}});var n=this.state.checkedItems,r=Array.from(n).filter(function(e){return!0===e[1]}),l=Array.from(r,function(e){return e[0]});this.setState({checkedList:l.join()})}},{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value.toUpperCase()})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeConfirm",value:function(e){this.setState({confirm:e.target.value})}},{key:"render",value:function(){var e=this,t=function(e){var t=e.type,a=void 0===t?"checkbox":t,n=e.name,l=e.checked,c=void 0!==l&&l,o=e.onChange;return r.a.createElement("input",{name:n,type:a,checked:c,onChange:o})},a=this.state,n=a.redirect,l=a.redirectToUsers;return n?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/users"})):l?(this.setState({redirectToUsers:!1}),r.a.createElement(o.a,{to:"/users/0/".concat(this.props.match.params.id_user)})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"User Creation"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"User")),r.a.createElement("div",{class:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",value:this.state.username,onChange:this.handleChangeUsername,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handleChangePassword,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",value:this.state.confirm,onChange:this.handleChangeConfirm,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"text-danger mr-1",id:"results",hidden:!this.state.hidediv},"Confirm password didn't match."))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Access"),r.a.createElement(r.a.Fragment,null,[{key:"1",label:"Voucher ",name:"Voucher"},{key:"2",label:"Ledger Report",name:"Ledger Report"},{key:"3",label:"Cash Book ",name:"Cash Book"},{key:"4",label:"Sundry Creditor ",name:"Sundry Creditor"},{key:"5",label:"Sundry Debtor ",name:"Sundry Debtor"},{key:"5",label:"Stock Report ",name:"Stock Report"},{key:"5",label:"Notification ",name:"Notification"}].map(function(a){return r.a.createElement("div",null,r.a.createElement("label",{key:a.key},r.a.createElement(t,{name:a.name,checked:e.state.checkedItems.get(a.name),onChange:e.handleChange}),"\xa0\xa0",a.name))}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveUser},"Save")))))))))))))}}]),t}(n.Component)),en=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(E.a)(t).call(this,e))).delUser=function(e){fetch(O+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&a.setState({items:e})}),a.loadInvoiceList()},a.state={title:"Table",data:null,date:new Date,items:[]},a}return Object(p.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.loadInvoiceList()}},{key:"loadInvoiceList",value:function(){var e=this;fetch(D).then(function(e){return e.json()}).then(function(t){return e.setState({items:t})})}},{key:"render",value:function(){var e=this,t=this.state.items.map(function(t,a){return r.a.createElement(tn,{delUser:e.delUser,item:t,rowIndex:a})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(b,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Users"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Users"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(d.b,{to:"./userCreate/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Access"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))))))))))}}]),t}(n.Component),tn=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item;return r.a.createElement("tr",null,r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.access),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(d.b,{to:"./userCreate/"+t.id_user,render:function(t){return r.a.createElement(qa,Object.assign({},t,{id_user:e.props.match.params.id_user}))}},r.a.createElement("i",{class:"fas fa-edit"})," "))),r.a.createElement("td",null,r.a.createElement("button",{type:"button",class:"btn btn-outline-danger",onClick:function(){return e.props.delUser(t.id_user)}},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),t}(r.a.Component),an=en;function nn(){var e=Object(s.a)();return r.a.createElement(d.a,{history:e},r.a.createElement(o.b,{path:"/roughInvoiceCreate/:id_rough_invoice",component:Rt}),r.a.createElement(o.b,{path:"/invoice/:id/:id_rough_invoice?",component:vt}),r.a.createElement(o.b,{path:"/invoiceList",component:Vt}),r.a.createElement(o.b,{path:"/roughInvoiceList",component:Bt}),r.a.createElement(o.b,{path:"/",exact:!0,component:Vt}),r.a.createElement(o.b,{path:"/voucher/:date?/:type?",exact:!0,component:$t}),r.a.createElement(o.b,{path:"/payroll",exact:!0,component:Kt}),r.a.createElement(o.b,{path:"/ledgerReport",exact:!0,component:ea}),r.a.createElement(o.b,{path:"/ledgerReportPdf/:id_account_head/:from_date/:to_date",exact:!0,component:na}),r.a.createElement(o.b,{path:"/ledger",exact:!0,component:Qt}),r.a.createElement(o.b,{path:"/ledgerCreate/:id_ledger",exact:!0,component:Wt}),r.a.createElement(o.b,{path:"/ledgerGroup",exact:!0,component:oa}),r.a.createElement(o.b,{path:"/cashBook",exact:!0,component:ua}),r.a.createElement(o.b,{path:"/cashBookPdf/:id_account_head/:from_date/:to_date",exact:!0,component:fa}),r.a.createElement(o.b,{path:"/product",exact:!0,component:Ra}),r.a.createElement(o.b,{path:"/purchaseVoucher/:voucher_no",exact:!0,component:Va}),r.a.createElement(o.b,{path:"/purchaseReport",exact:!0,component:Ba}),r.a.createElement(o.b,{path:"/stockReport",exact:!0,component:Qa}),r.a.createElement(o.b,{path:"/sundryCreditor",exact:!0,component:ja}),r.a.createElement(o.b,{path:"/sundryDebtor",exact:!0,component:Ta}),r.a.createElement(o.b,{path:"/notification",exact:!0,component:$a}),r.a.createElement(o.b,{path:"/notificationCreate",exact:!0,component:Za}),r.a.createElement(o.b,{path:"/users",exact:!0,component:an}),r.a.createElement(o.b,{path:"/userCreate/:id_user",exact:!0,component:qa}))}var rn=function(){return r.a.createElement(o.c,{history:i},r.a.createElement(nn,null))};c.a.render(r.a.createElement(rn,null),document.getElementById("root"))}},[[288,2,1]]]);
//# sourceMappingURL=main.b3ad11a6.chunk.js.map