(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{193:function(e,t,a){e.exports=a.p+"static/media/loading.3f259006.gif"},203:function(e,t,a){e.exports=a(489)},227:function(e,t){},229:function(e,t){},259:function(e,t){},260:function(e,t){},41:function(e,t,a){e.exports=a.p+"static/media/Roboto-Bold.e07df86c.ttf"},489:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(64),l=a.n(c),o=a(17),i=a(23),s=Object(i.a)(),u=a(14),d=a(34),m=a(19),h=a(7),f=a(8),p=a(11),g=a(9),E=a(13),v=a(10);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var y=function(e){Object(g.a)(a,e);var t=b(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){}},{key:"logOut",value:function(){localStorage.clear(),window.location.reload()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{class:"main-header navbar navbar-expand navbar-white navbar-light"},r.a.createElement("ul",{class:"navbar-nav"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link","data-widget":"pushmenu",href:"#"},r.a.createElement("i",{class:"fas fa-bars"}))),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(u.b,{to:"/product",className:"nav-link"},"Product")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(u.b,{to:"/login",className:"nav-link"},"Login")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(u.b,{to:"/users",className:"nav-link"},"Users")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(u.b,{to:"/invoiceList",className:"nav-link"},"Invoices")),r.a.createElement("li",{class:"nav-item d-none d-sm-inline-block"},r.a.createElement(u.b,{to:"/voucher",className:"nav-link"},"Voucher"))),r.a.createElement("ul",{class:"navbar-nav ml-auto"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{class:"nav-link",href:"#",onClick:function(){return e.logOut()}},"Log Out")))),r.a.createElement("aside",{class:"main-sidebar sidebar-dark-primary elevation-4"},r.a.createElement("a",{href:"index3.html",class:"brand-link"},r.a.createElement("img",{src:"dist/img/AdminLTELogo.png",alt:"AdminLTE Logo",class:"brand-image img-circle elevation-3"}),r.a.createElement("span",{class:"brand-text font-weight-light"},"Aquasign")),r.a.createElement("div",{class:"sidebar"},r.a.createElement("div",{class:"user-panel mt-3 pb-3 mb-3 d-flex"},r.a.createElement("div",{class:"image"},r.a.createElement("img",{src:"dist/img/user2-160x160.jpg",class:"img-circle elevation-2",alt:"User Image"})),r.a.createElement("div",{class:"info"},r.a.createElement("a",{href:"#",class:"d-block"},"Admin"))),r.a.createElement("nav",{class:"mt-2"},r.a.createElement("ul",{class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},r.a.createElement("li",{class:"nav-item has-treeview"},r.a.createElement(u.c,{to:"/accounts",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Master")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/ledger",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Ledger"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/product",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Product"))))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/roughInvoiceList",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Rough Invoices"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/invoiceList",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Invoices"))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(u.c,{to:"/purchase",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Purchase")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/purchaseReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Purchase Report"))))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(u.c,{to:"/salesReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Sales Report"))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(u.c,{to:"/accounts",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Accounts")),r.a.createElement("ul",{class:"nav nav-treeview"},r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/voucher",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Voucher"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/ledgerReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Ledger Report"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/cashBook",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Cash Book"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/sundryCreditor",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Sundry Creditor"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/sundryDebtor",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Sundry Debtor"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/profit",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Profil & Loss"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/balanceSheet",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"far fa-circle nav-icon"}),r.a.createElement("p",null,"Balance Sheet"))))),r.a.createElement("li",{class:"nav-item has-treeview menu-open"},r.a.createElement(u.c,{to:"/payroll",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Payroll"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/stockReport",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Stock Report"))),r.a.createElement("li",{class:"nav-item"},r.a.createElement(u.c,{to:"/notification",activeClassName:"active",className:"nav-link"},r.a.createElement("i",{class:"nav-icon fas fa-file-invoice"}),r.a.createElement("p",null,"Notification"))))))))}}]),a}(n.Component),C=a(16),w=a.n(C),x=localStorage.getItem("ShadeYear")||"2020",_="http://198.12.251.14:3000/".concat(x,"/"),D="".concat(_,"login/login"),k="".concat(_,"login/users"),S=("".concat(_,"login/users"),"".concat(_,"login/userDel")),T="".concat(_,"login/userEdit"),j="".concat(_,"login/userList"),O="".concat(_,"invoice/roughInvoice"),R="".concat(_,"invoice/roughInvoice"),I="".concat(_,"invoice/roughInvoice/airway"),P="".concat(_,"invoice/roughInvoiceList"),V="".concat(_,"invoice/invoice"),A="".concat(_,"invoice/invoice"),L="".concat(_,"invoice/invoiceList"),N="".concat(_,"invoice/invoiceList"),F="".concat(_,"invoice/invoice/expense"),M="".concat(_,"invoice/invoice/expense"),B="".concat(_,"invoice/invoice/frightExp"),z="".concat(_,"invoice/invoice/expenseDel"),H="".concat(_,"invoice/invoice/netSalesTotal"),G="".concat(_,"invoice/invoice/totPackingExp"),U="".concat(_,"invoice/invoice/netOtherExp"),K="".concat(_,"invoice/invoice/frightExpTot"),W="".concat(_,"invoice/invoice/updPurchase"),Y="".concat(_,"invoice/invoice/documents"),q="".concat(_,"invoice/invoice/documentsList"),J="".concat(_,"invoice/invoice/documentsDel"),Q="".concat(_,"invoice/invoice/getDoc"),X="".concat(_,"invoice/invoice/invLabour"),Z="".concat(_,"invoice/invoice/invPacking"),$="".concat(_,"invoice/invoice/invPackingGrpBy"),ee="".concat(_,"invoice/invoice/invPackingExp"),te=("".concat(_,"invoice/docs"),"".concat(_,"payroll/payroll")),ae="".concat(_,"payroll/payroll"),ne="".concat(_,"payroll/payrollDel"),re="".concat(_,"accounts/voucher"),ce="".concat(_,"accounts/voucherDel"),le="".concat(_,"accounts/accounts/voucher"),oe="".concat(_,"accounts/sundryCreditor"),ie="".concat(_,"accounts/sundryDebtor"),se="".concat(_,"accounts/ledgerEdit"),ue="".concat(_,"accounts/ledgerReport"),de="".concat(_,"accounts/ledgerReportOp"),me="".concat(_,"accounts/ledgerGroup"),he="".concat(_,"accounts/ledgerGroup"),fe="".concat(_,"accounts/ledger"),pe="".concat(_,"accounts/ledger"),ge="".concat(_,"accounts/ledgerCreate"),Ee=("".concat(_,"accounts/ledgerCreate"),"".concat(_,"accounts/cashBookOp")),ve="".concat(_,"accounts/cashBookCredit"),be="".concat(_,"accounts/cashBookDebit"),ye="".concat(_,"product/product"),Ce="".concat(_,"sales/supplier"),we="".concat(_,"sales/salesReport"),xe="".concat(_,"product/stockReport"),_e="".concat(_,"purchase/purchaseReport"),De="".concat(_,"purchase/purchaseVoucher"),ke="".concat(_,"purchase/purchaseVoucherItems"),Se="".concat(_,"purchase/purchaseVoucherExpense"),Te="".concat(_,"notification/notification"),je="".concat(_,"notification/notification"),Oe="".concat(_,"notification/notificationDel"),Re="".concat(_,"statement/totalPurchase"),Ie="".concat(_,"statement/totalSales"),Pe="".concat(_,"statement/expenses"),Ve="".concat(_,"statement/income"),Ae="".concat(_,"statement/payroll"),Le="".concat(_,"statement/invoicePackingExp"),Ne="".concat(_,"statement/invoiceFreightExp"),Fe="".concat(_,"statement/invoiceOtherExp"),Me="".concat(_,"statement/totalPurchaseDt"),Be="".concat(_,"statement/totalSalesDt"),ze="".concat(_,"statement/expensesDt"),He=("".concat(_,"statement/incomeDt"),"".concat(_,"statement/payrollDt")),Ge="".concat(_,"statement/invoicePackingExpDt"),Ue=("".concat(_,"statement/invoiceFreightExpDt"),"".concat(_,"statement/invoiceOtherExpDt")),Ke="".concat(_,"statement/sundryDebtor"),We="".concat(_,"statement/sundryCreditor"),Ye="".concat(_,"statement/cashBal"),qe="".concat(_,"statement/stockReport"),Je=3,Qe=5,Xe=6,Ze=7,$e=8,et=a(18),tt=a.n(et),at=a(78);a(117);function nt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var rt=function(e){Object(g.a)(a,e);var t=nt(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.delExpense=function(e){Object(at.confirmAlert)({title:"Delete",message:"Are you sure?",buttons:[{label:"Yes",onClick:function(){fetch(z+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({arrExpenses:e})});var t=n.props.id_invoice;n.loadExpenseList(t)}},{label:"No"}]})},n.loadExpenseList=function(e){fetch(M+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({arrExpenses:e})})},n.saveInvoice=function(){if(n.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:n.formatDate(n.state.date),id_ledger_to:n.state.id_ledger_to,description:n.state.description,rate:isNaN(n.state.rate)?"":n.state.rate,amount:isNaN(n.state.amount)?"":n.state.amount,type:n.state.type,voucher_no:n.state.voucher_no,id_invoice:n.props.id_invoice})};fetch(F,e).then(function(e){e.json(),n.loadExpenseList(n.props.id_invoice),n.setState({id_ledger_to:0,description:"",rate:"",qty:"",amount:""})})}else n.validator.showMessages(),n.forceUpdate()},n.onDateChange=function(e){return n.setState({date:e})},n.onDelRow=function(e){n.setState({description:e})},n.state={data:null,date:new Date,id_ledger_to:"",description:"",rate:"",qty:"",amount:"",type:"Receipt",voucher_no:"1",ledger:"",arrLedger:[],arrExpenses:[],arrLedgerFrom:[],arrLedgerTo:[]},n.onAmountChange=n.onAmountChange.bind(Object(p.a)(n)),n.onRateChange=n.onRateChange.bind(Object(p.a)(n)),n.onQtyChange=n.onQtyChange.bind(Object(p.a)(n)),n.onDescriptionChange=n.onDescriptionChange.bind(Object(p.a)(n)),n.onLedgerChange=n.onLedgerChange.bind(Object(p.a)(n)),n.onDateChange=n.onDateChange.bind(Object(p.a)(n)),n.validator=new tt.a,n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadAccountHead(),this.loadExpenseList(e),console.log(e)}},{key:"loadAccountHead",value:function(){var e=this,t=Qe,a=Xe;fetch("".concat(fe,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerFrom:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})}),fetch("".concat(fe,"/").concat(a)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerTo:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onRateChange",value:function(e){this.setState({rate:e.target.value,amount:this.state.qty*e.target.value})}},{key:"onQtyChange",value:function(e){this.setState({qty:e.target.value,amount:e.target.value*this.state.rate})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_to:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrExpenses.map(function(t,a){return r.a.createElement(ct,{arrExpense:t,arrLedger:e.state.arrLedger,delExpense:e.delExpense})}),a=this.state.arrExpenses.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-16"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger_to},this.state.arrLedgerTo.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("ledger",this.state.id_ledger_to,"required|numeric")))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Qty (Freight)"),r.a.createElement("input",{type:"text",value:this.state.qty,onChange:this.onQtyChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Rate (Freight)"),r.a.createElement("input",{type:"text",value:this.state.rate,onChange:this.onRateChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveInvoice},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"25%"}},"Date"),r.a.createElement("th",{style:{width:"25%"}},"Ledger"),r.a.createElement("th",{style:{width:"25%"}},"Description"),r.a.createElement("th",{style:{width:"25%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null))))))))))}}]),a}(n.Component),ct=function(e){Object(g.a)(a,e);var t=nt(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.arrExpense,a=""!=t.rate&&0!=t.rate?"".concat(t.description," ").concat(t.amount/t.rate," x ").concat(t.rate):t.description;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.ledger),r.a.createElement("td",null,a),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.delExpense(t.id_account_voucher)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),a}(r.a.Component),lt=rt,ot=a(193),it=a.n(ot);function st(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var ut=function(e){Object(g.a)(a,e);var t=st(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).updInvoice=function(){n.setState({loadingPur:!0});var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_invoice:n.props.id_invoice,purchase:n.state.purchase})};fetch(W,e).then(function(e){return n.setState({loadingPur:!1})}).catch(function(e){return n.setState({loadingPur:!1})})},n.state={sales_total:"",other_exp:"",freight:0,packing:0,conversion_rate:0,purchase:0,loadingPur:!1},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadSalesTotal(e),this.loadOtherExp(e),this.loadInvoiceDt(e),this.loadPackTotal(e),this.loadFreightTotal(e)}},{key:"handleChangePurchase",value:function(e){this.setState({purchase:e.target.value})}},{key:"loadSalesTotal",value:function(e){var t=this;fetch(H+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({sales_total:e[0].tot})})}},{key:"loadOtherExp",value:function(e){var t=this;fetch(U+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({other_exp:e[0].tot})})}},{key:"loadPackTotal",value:function(e){var t=this;fetch(G+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({packing:e[0].amount})})}},{key:"loadFreightTotal",value:function(e){var t=this;fetch(K+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({freight:e[0].amount})})}},{key:"loadInvoiceDt",value:function(e){var t=this;fetch(A+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({conversion_rate:e[0].conversion_rate,purchase:e[0].purchase})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-6"},r.a.createElement("p",{class:"lead"},"Sales"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Sales Total:"),r.a.createElement("td",{align:"right"},"$ ",Math.round(this.state.sales_total))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total :"),r.a.createElement("td",{align:"right"},"$ ",Math.round(this.state.sales_total))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total : (Rate: ",this.state.conversion_rate,")"),r.a.createElement("td",{align:"right"},"Rs ",Math.round(this.state.sales_total*this.state.conversion_rate*100)/100)))))),r.a.createElement("div",{class:"col-6"},r.a.createElement("p",{class:"lead"},"Expenses"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Purchase:"),r.a.createElement("td",null,r.a.createElement("div",{class:"input-group input-group-sm"},r.a.createElement("input",{type:"text",style:{textAlign:"right"},class:"form-control",onChange:function(t){return e.handleChangePurchase(t)},value:this.state.purchase}),r.a.createElement("span",{class:"input-group-append"},r.a.createElement("button",{type:"button",class:"btn btn-info btn-flat",onClick:function(){return e.updInvoice()}},this.state.loadingPur?r.a.createElement("img",{src:it.a,style:{width:15,height:15}}):r.a.createElement("i",{class:"fas fa-check"})))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Freight Expenses:"),r.a.createElement("td",{align:"right"},Math.round(this.state.freight))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Packing Expenses:"),r.a.createElement("td",{align:"right"},Math.round(this.state.packing))),r.a.createElement("tr",null,r.a.createElement("th",null,"Other Expenses"),r.a.createElement("td",{align:"right"},Math.round(this.state.other_exp))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("td",{align:"right"},Math.round(100*(parseInt(this.state.freight||0)+parseInt(this.state.packing||0)+parseInt(this.state.other_exp||0)+parseInt(this.state.purchase||0)))/100)))))),r.a.createElement("div",{class:"row",style:{fontWeight:"bold",alignItems:"center",textAlign:"center",borderWidth:1,margin:"auto",textDecorationLine:"underline"}},"Net amount: ",Math.round(this.state.sales_total*this.state.conversion_rate-(parseInt(this.state.freight||0)+parseInt(this.state.packing||0)+parseInt(this.state.other_exp||0)+parseInt(this.state.purchase||0))))))))}}]),a}(n.Component),dt=a(194),mt=a.n(dt);function ht(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var ft=function(e){Object(g.a)(a,e);var t=ht(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).delDoc=function(e){fetch(J+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({arrTable:e});var t=n.props.id_invoice;n.loadDocumentsList(t)})},n.loadDocumentsList=function(e){fetch(q+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({arrTable:e})})},n.docDownload=function(e,t){fetch(Q+"/".concat(e)).then(function(e){return e.blob()}).then(function(e){mt.a.saveAs(e,t)})},n.saveDocument=function(){if(n.validator.allValid()){var e=new FormData;e.append("id_invoice",n.props.id_invoice),e.append("name",n.state.name),e.append("remark",n.state.remark),e.append("files",n.state.selectedFile),fetch(Y,{method:"POST",body:e}).then(function(e){e.json(),n.loadDocumentsList(n.props.id_invoice),n.setState({name:"",remark:"",selectedFile:null})})}else n.validator.showMessages(),n.forceUpdate()},n.state={remark:"",name:"",arrDocs:[{id_doc:"0",doc:"--Select"},{id_doc:"1",doc:"Document 1"},{id_doc:"2",doc:"Document 2"},{id_doc:"3",doc:"Document 3"}],arrTable:[],selectedFile:null},n.onChangeName=n.onChangeName.bind(Object(p.a)(n)),n.onChangeRemark=n.onChangeRemark.bind(Object(p.a)(n)),n.onFileSelect=n.onFileSelect.bind(Object(p.a)(n)),n.validator=new tt.a,n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadDocumentsList(e)}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeRemark",value:function(e){this.setState({remark:e.target.value})}},{key:"onFileSelect",value:function(e){console.log(JSON.stringify(e.target.files)),this.setState({selectedFile:e.target.files[0]})}},{key:"render",value:function(){var e=this,t=this.state.arrTable.map(function(t,a){return r.a.createElement(pt,{tbl:t,arrDocs:e.state.arrDocs,delDoc:e.delDoc,getDoc:e.docDownload})});return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"40%"}},r.a.createElement("select",{class:"form-control",onChange:this.onChangeName,value:this.state.name},this.state.arrDocs.map(function(e){return r.a.createElement("option",null,e.doc)}))),r.a.createElement("th",{style:{width:"10%"}},r.a.createElement("input",{type:"text",onChange:this.onChangeRemark,value:this.state.remark,class:"form-control"})),r.a.createElement("th",{style:{width:"35%"}},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",class:"custom-file-input",id:"exampleInputFile",onChange:this.onFileSelect}),r.a.createElement("label",{class:"custom-file-label",for:"exampleInputFile"},this.state.selectedFile?this.state.selectedFile.name:"Choose file"))),r.a.createElement("th",{style:{width:"10%"}},r.a.createElement("button",{type:"button",class:"btn btn-block btn-outline-success btn-flat",onClick:this.saveDocument},r.a.createElement("i",{class:"fas fa-plus"})))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Documents"),r.a.createElement("th",{style:{width:"30%"}},"Remarks"),r.a.createElement("th",null),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,t)))))))))}}]),a}(n.Component),pt=function(e){Object(g.a)(a,e);var t=ht(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.tbl;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name," "),r.a.createElement("td",{colSpan:"2"},t.remarks),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.getDoc(t.id_document,t.file)},class:"btn btn-outline-success"},r.a.createElement("i",{class:"fas fa-download"})),r.a.createElement("button",{type:"button",onClick:function(){return e.props.delDoc(t.id_document)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),a}(n.Component),gt=ft,Et=a(2),vt=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_account_head==e});return 0==a.length?"":a[0].account_head},bt=function(e){return r.a.createElement(Et.Document,null,r.a.createElement(Et.Page,{size:"A4",style:Ct.page},r.a.createElement(Et.View,{style:Ct.top}),r.a.createElement(Et.View,{style:Ct.container1},r.a.createElement(Et.View,{style:Ct.section},r.a.createElement(Et.Text,null,"AQUASIGN EXPORTS"),r.a.createElement(Et.Text,{style:Ct.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(Et.View,{style:Ct.sectionTopRight},r.a.createElement(Et.View,{style:Ct.box},r.a.createElement(Et.Text,{style:Ct.left},"INVOICE NO "),r.a.createElement(Et.Text,{style:Ct.right},e.invoice_no)),r.a.createElement(Et.View,{style:Ct.box},r.a.createElement(Et.Text,{style:Ct.left},"DATE"),r.a.createElement(Et.Text,{style:Ct.right},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))))),r.a.createElement(Et.View,{style:[Ct.container2,{borderBottom:1,borderColor:"#ccc"}]},r.a.createElement(Et.View,{style:Ct.section},r.a.createElement(Et.Text,{style:Ct.addressTitle},"BILL TO"),r.a.createElement(Et.Text,{style:Ct.address},vt(e.consigner,e.consigners)),r.a.createElement(Et.Text,{style:Ct.address},e.consigner_address)),r.a.createElement(Et.View,{style:Ct.section},r.a.createElement(Et.Text,{style:Ct.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(Et.Text,{style:Ct.address},vt(e.consignee,e.consignees)),r.a.createElement(Et.Text,{style:Ct.address},e.consignee_address))),r.a.createElement(Et.View,null,r.a.createElement(Et.View,{style:{flexDirection:"row",width:"100%"}},r.a.createElement(Et.Text,{style:Ct.heading},"Packing List")),r.a.createElement(yt,{pack_no:"Pack No",name:"Item",kg:"Kg",bold:!0,head:!0}),e.packItems.map(function(t,a){return r.a.createElement(yt,Object.assign({},t,{_pack_no:a>0&&e.packItems[a].pack_no==e.packItems[a-1].pack_no}))}),r.a.createElement(yt,{pack_no:"",name:"Total",kg:(t=e.packItems,t.reduce(function(e,t){return+e+ +t.kg},0)),bold:!0}))));var t},yt=function(e){return r.a.createElement(Et.View,{style:Ct.tableData},r.a.createElement(Et.Text,{style:[Ct.col1,e.bold&&Ct.bold,e.head&&Ct.tableHeader]},e._pack_no?"-":e.pack_no),r.a.createElement(Et.Text,{style:[Ct.col2,e.bold&&Ct.bold,e.head&&Ct.tableHeader]},e.name),r.a.createElement(Et.Text,{style:[Ct.col3,e.bold&&Ct.bold,e.head&&Ct.tableHeader]},e.kg))};Et.Font.register({family:"Roboto",src:a(41)}),Et.Font.register({family:"Roboto-Italic",src:a(63)});var Ct=Et.StyleSheet.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},heading:{fontSize:12,fontFamily:"Roboto",marginVertical:10,paddingHorizontal:5},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"20%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"60%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"left"},col3:{width:"20%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},bold:{fontFamily:"Roboto"},tableHeader:{backgroundColor:"#fa6a44"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:10,padding:10,paddingHorizontal:10,width:"50%"},section3rd:{margin:10,padding:10,paddingHorizontal:10,width:"30%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}});function wt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var xt=function(e){Object(g.a)(a,e);var t=wt(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadInvLabourItem=function(e){fetch(X+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return n.setState({LabourItems:e})})},n.loadInvPackingList=function(e){fetch(Z+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return n.setState({packItems:e})})},n.loadInvPackingListGrpBy=function(e){fetch($+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return n.setState({packItemsGrp:e})})},n.loadInvPackingExp=function(e){fetch(ee+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return n.setState({ExpenseItems:e})})},n.loadInvoiceDt=function(e){fetch(A+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({invoice_no:e[0].invoice_no,date:e[0].date,consigner:e[0].consigner,consignee:e[0].consignee,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address,awb_no:e[0].awb_no},function(){})})},n.state={LabourItems:[],packItems:[],ExpenseItems:[],packItemsGrp:[],showPdf:!1,invoice_no:"",date:"",consigner:"",consignee:"",consigner_address:"",consignee_address:"",awb_no:"",consigners:[],consignees:[]},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.loadInvLabourItem(e),this.loadInvPackingExp(e),this.loadInvPackingList(e),this.loadInvPackingListGrpBy(e),this.loadInvoiceDt(e),this.loadConsignees(),this.loadConsigners()}},{key:"loadConsigners",value:function(){var e=this,t=Ze;fetch("".concat(fe,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consigners:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadConsignees",value:function(){var e=this,t=$e;fetch("".concat(fe,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consignees:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"render",value:function(){var e=this,t=this.state.packItems.map(function(e,t){return r.a.createElement(_t,{packItem:e,rowIndex:t})}),a=this.state.packItemsGrp.map(function(e,t){return r.a.createElement(Dt,{packItem:e,rowIndex:t})}),n=this.state.LabourItems.map(function(e,t){return r.a.createElement(kt,{LabourItem:e,rowIndex:t})}),c=this.state.ExpenseItems.map(function(e,t){return r.a.createElement(St,{ExpenseItem:e,rowIndex:t})}),l=this.state.packItems.reduce(function(e,t){return+e+ +t.kg},0),o=this.state.LabourItems.reduce(function(e,t){return+e+ +t.amount},0),i=this.state.ExpenseItems.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Packing List")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"Pack No"),r.a.createElement("th",{style:{width:"50%"}},"Items"),r.a.createElement("th",{style:{width:"30%",textAlign:"right"}},"Kg"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Net Weight"),r.a.createElement("th",{style:{textAlign:"right"}},l)),a))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!0})},type:"button",class:"btn btn-primary float-right"},"Print"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(Et.PDFViewer,{style:{width:"100%",height:500}},r.a.createElement(bt,this.state))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Labour")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"50%",textAlign:"right"}},"Amount"))),r.a.createElement("tbody",null,n),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{style:{textAlign:"right"}},o))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Packing Items")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"30%"}},"Item"),r.a.createElement("th",{style:{width:"20%",textAlign:"right"}},"Qty"),r.a.createElement("th",{style:{width:"20%",textAlign:"right"}},"Price"),r.a.createElement("th",{style:{width:"30%",textAlign:"right"}},"Amount"))),r.a.createElement("tbody",null,c),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{style:{textAlign:"right"}},i)))))))))))}}]),a}(n.Component),_t=function(e){Object(g.a)(a,e);var t=wt(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.packItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.pack_no),r.a.createElement("td",null,e.name),r.a.createElement("td",{align:"right"},e.kg))}}]),a}(r.a.Component),Dt=function(e){Object(g.a)(a,e);var t=wt(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.packItem;return r.a.createElement("tr",null,r.a.createElement("th",null,e.pack_no),r.a.createElement("th",null,e.name),r.a.createElement("th",{style:{textAlign:"right"}},e.kg))}}]),a}(r.a.Component),kt=function(e){Object(g.a)(a,e);var t=wt(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.LabourItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",{align:"right"},e.amount))}}]),a}(r.a.Component),St=function(e){Object(g.a)(a,e);var t=wt(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.ExpenseItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",{align:"right"},e.qty),r.a.createElement("td",{align:"right"},e.selling_price),r.a.createElement("td",{align:"right"},e.amount))}}]),a}(r.a.Component),Tt=xt;function jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Ot=function(e){Object(g.a)(a,e);var t=jt(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).FrightItems=function(e){fetch(B+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return n.setState({FrightItems:e})})},n.state={FrightItems:[]},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.FrightItems(e)}},{key:"render",value:function(){var e=this.state.FrightItems.map(function(e,t){return r.a.createElement(Rt,{FrightItem:e,rowIndex:t})}),t=this.state.FrightItems.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",null,r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Freight Items")),r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"50%"}},"Amount"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},t))))))))))}}]),a}(n.Component),Rt=function(e){Object(g.a)(a,e);var t=jt(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.FrightItem;return r.a.createElement("tr",null,r.a.createElement("td",null,e.expense),r.a.createElement("td",null,e.amount))}}]),a}(r.a.Component),It=Ot,Pt=a(76),Vt=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")},At=function(e){return e.invItems.map(function(t,a){return r.a.createElement(Bt,Object.assign({},t,{products:e.products}))})},Lt=function(e,t,a){if(0==e)return"";var n=t.filter(function(t){return t.id_account_head==e});return 0==n.length?"":"name"==a?n[0].account_head:n[0].title},Nt=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.Id_place==e});return 0==a.length?"":a[0].Place},Ft=function(e){return e.reduce(function(e,t){return+e+ +t.kg*t.box},0)},Mt=function(e){return r.a.createElement(Et.Document,null,r.a.createElement(Et.Page,{size:"A4",style:zt.page},r.a.createElement(Et.View,{style:zt.top}),r.a.createElement(Et.View,{style:zt.container1},r.a.createElement(Et.View,{style:zt.section},r.a.createElement(Et.Text,null,"AQUASIGN EXPORTS"),r.a.createElement(Et.Text,{style:zt.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(Et.View,{style:zt.sectionTopRight},r.a.createElement(Et.View,{style:zt.box},r.a.createElement(Et.Text,{style:zt.left},"INVOICE NO "),r.a.createElement(Et.Text,{style:zt.right},e.invoice_no)),r.a.createElement(Et.View,{style:zt.box},r.a.createElement(Et.Text,{style:zt.left},"DATE"),r.a.createElement(Et.Text,{style:zt.right},Vt(e.date))),r.a.createElement(Et.View,{style:zt.box},r.a.createElement(Et.Text,{style:zt.left},"ORDER NO"),r.a.createElement(Et.Text,{style:zt.right},e.order_no)),r.a.createElement(Et.View,{style:zt.box},r.a.createElement(Et.Text,{style:zt.left},"ORDER DATE "),r.a.createElement(Et.Text,{style:zt.right},Vt(e.buyer_date))))),r.a.createElement(Et.View,{style:[zt.container2,{borderBottom:1,borderColor:"#ccc"}]},r.a.createElement(Et.View,{style:zt.section},r.a.createElement(Et.Text,{style:zt.addressTitle},"BILL TO"),r.a.createElement(Et.Text,{style:zt.address},Lt(e.consigner,e.consigners,"name")),r.a.createElement(Et.Text,{style:zt.address},e.consigner_address)),r.a.createElement(Et.View,{style:zt.section},r.a.createElement(Et.Text,{style:zt.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(Et.Text,{style:zt.address},Lt(e.consignee,e.consignees,"title")),r.a.createElement(Et.Text,{style:zt.address},e.consignee_address))),r.a.createElement(Et.View,{style:zt.container2},r.a.createElement(Et.View,{style:zt.section3rd},r.a.createElement(Et.Text,{style:zt.dataTitle},"Country of origin of goods:"),r.a.createElement(Et.Text,{style:zt.address},Nt(e.country_origin,e.places)),r.a.createElement(Et.Text,{style:zt.dataTitle},"Place of receipt by pre_carrier:"),r.a.createElement(Et.Text,{style:zt.address},e.receipt_place),r.a.createElement(Et.Text,{style:zt.dataTitle},"Vessel / Flat no:"),r.a.createElement(Et.Text,{style:zt.address},e.vessel_no),r.a.createElement(Et.Text,{style:zt.dataTitle},"Other references:"),r.a.createElement(Et.Text,{style:zt.address},e.other),r.a.createElement(Et.Text,{style:zt.dataTitle},"Buyer(If other than consignee):"),r.a.createElement(Et.Text,{style:zt.address},e.buyer)),r.a.createElement(Et.View,{style:zt.section3rd},r.a.createElement(Et.Text,{style:zt.dataTitle},"Terms of delivery & payment:"),r.a.createElement(Et.Text,{style:zt.address},e.pre_carriage),r.a.createElement(Et.Text,{style:zt.dataTitle},"AWB No:"),r.a.createElement(Et.Text,{style:zt.address},e.receipt_place),r.a.createElement(Et.Text,{style:zt.dataTitle},"Country of final destination:"),r.a.createElement(Et.Text,{style:zt.address},Nt(e.country_final,e.places)),r.a.createElement(Et.Text,{style:zt.dataTitle},"Pre_carriage by:"),r.a.createElement(Et.Text,{style:zt.address},e.pre_carriage)),r.a.createElement(Et.View,{style:zt.section3rd},r.a.createElement(Et.Text,{style:zt.dataTitle},"Port of loading:"),r.a.createElement(Et.Text,{style:zt.address},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.Id_port==e});return 0==a.length?"":a[0].Port}(e.port_load,e.airports)),r.a.createElement(Et.Text,{style:zt.dataTitle},"Marks & No.s:"),r.a.createElement(Et.Text,{style:zt.address},e.marks),r.a.createElement(Et.Text,{style:zt.dataTitle},"Port of discharge:"),r.a.createElement(Et.Text,{style:zt.address},e.port_discharge),r.a.createElement(Et.Text,{style:zt.dataTitle},"Final destination:"),r.a.createElement(Et.Text,{style:zt.address},e.final_destination),r.a.createElement(Et.Text,{style:zt.dataTitle},"Container No:"),r.a.createElement(Et.Text,{style:zt.address},e.container_no))),r.a.createElement(Et.View,{style:zt.tableHeader},r.a.createElement(Et.Text,{style:zt.col1},"DESCRIPTION"),r.a.createElement(Et.Text,{style:zt.col2},"UNIT PRICE"),r.a.createElement(Et.Text,{style:zt.col2},"QTY"),r.a.createElement(Et.Text,{style:zt.col3},"TOTAL")),r.a.createElement(Et.View,null,r.a.createElement(At,e)),r.a.createElement(Et.View,{style:zt.tableData},r.a.createElement(Et.Text,{style:zt.col1}),r.a.createElement(Et.Text,{style:zt.col2}),r.a.createElement(Et.Text,{style:[zt.col2,{fontFamily:"Roboto"}]},e.invItems.reduce(function(e,t){return+e+ +t.kg},0)," kg"),r.a.createElement(Et.Text,{style:[zt.col3,{fontFamily:"Roboto"}]},Math.round(10*Ft(e.invItems))/10," ",e.currency)),r.a.createElement(Et.View,{style:zt.tableData},r.a.createElement(Et.Text,{style:zt.colFull},e.currency," ",Pt.toWords(Ft(e.invItems))," Only")),r.a.createElement(Et.View,{style:zt.container3,wrap:!1},r.a.createElement(Et.View,{style:zt.section},r.a.createElement(Et.Text,{style:zt.bank},"Bank Detail",e.bill_to),r.a.createElement(Et.Text,{style:zt.address},"Account Name: MARIA INTERNATIONAL (PVT) LTD\n              Account #098799971 Current\n              IFSC Code: ICIC0000942\n              Swift Code : ICICINBBCTS\n              Bank Name: ICICI BANK LTD\n              ")),r.a.createElement(Et.View,{style:zt.sectionBottomRight},r.a.createElement(Et.View,{style:zt.box},r.a.createElement(Et.Text,{style:zt.left},"SUBTOTAL"),r.a.createElement(Et.Text,{style:zt.rightBottom},Math.round(10*Ft(e.invItems))/10," ",e.currency)),r.a.createElement(Et.View,{style:zt.box},r.a.createElement(Et.Text,{style:zt.left},"DISCOUNT"),r.a.createElement(Et.Text,{style:zt.rightBottom},e.discount," ",e.currency)),r.a.createElement(Et.View,{style:zt.box},r.a.createElement(Et.Text,{style:zt.left},"NET TOTAL"),r.a.createElement(Et.Text,{style:zt.rightBottom},Math.round(10*Ft(e.invItems))/10-e.discount," ",e.currency)),r.a.createElement(Et.View,{style:zt.box},r.a.createElement(Et.Text,{style:zt.left},"OLD BALANCE "),r.a.createElement(Et.Text,{style:zt.rightBottom},Math.round(100*e.op_bal)/100," ",e.currency)),r.a.createElement(Et.View,{style:zt.box},r.a.createElement(Et.Text,{style:zt.leftBalance},"BALANCE"),r.a.createElement(Et.Text,{style:zt.rightBalance},Math.round(100*(Math.round(100*e.op_bal)/100+Math.round(10*Ft(e.invItems))/10-e.discount))/100," ",e.currency)))),r.a.createElement(Et.View,{style:zt.top})))},Bt=function(e){var t=e.box*e.kg;return r.a.createElement(Et.View,{style:zt.tableData},r.a.createElement(Et.Text,{style:zt.col1},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_product==e});return 0==a.length?"":a[0].name}(e.id_product,e.products)),r.a.createElement(Et.Text,{style:zt.col2},e.box),r.a.createElement(Et.Text,{style:zt.col2},e.kg),r.a.createElement(Et.Text,{style:zt.col3},Math.round(10*t)/10))};Et.Font.register({family:"Roboto",src:a(41)}),Et.Font.register({family:"Roboto-Italic",src:a(63)});var zt=Et.StyleSheet.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{marginTop:10,paddingHorizontal:10,width:"50%"},section3rd:{margin:10,padding:10,paddingHorizontal:10,width:"30%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"45%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}});function Ht(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Gt=function(e){Object(g.a)(a,e);var t=Ht(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadProducts=function(){fetch(ye).then(function(e){return e.json()}).then(function(e){n.setState({products:[{id_product:0,name:"SELECT"}].concat(Object(m.a)(e))})})},n.loadInvoiceDt=function(e){fetch(A+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({invoice_no:e[0].invoice_no,date:e[0].date,order_no:e[0].order_no,buyer_date:e[0].buyer_date,consigner:e[0].consigner,consignee:e[0].consignee,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address,other:e[0].other,buyer:e[0].buyer,country_origin:e[0].country_origin,country_final:e[0].country_final,pre_carriage:e[0].pre_carriage,receipt_place:e[0].receipt_place,vessel_no:e[0].vessel_no,port_load:e[0].port_load,port_discharge:e[0].port_discharge,final_destination:e[0].final_destination,marks:e[0].marks,container_no:e[0].container_no,awb_no:e[0].awb_no,terms:e[0].terms,conversion_rate:e[0].conversion_rate,status:e[0].status,discount:e[0].discount,narration:e[0].narration,freight_code:e[0].freight_code,invItems:e[0].items||[],currency:e[0].currency||"USD"},function(){n.props.setInvoiceNo(n.state.invoice_no),n.loadOpeningBal()})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.saveInvoice=function(){if(n.setState({btnSaveText:"Saving..."}),n.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice_no:n.state.invoice_no,order_no:n.state.order_no,date:n.formatDate(n.state.date),buyer_date:n.formatDate(n.state.buyer_date),consigner:n.state.consigner,consignee:n.state.consignee,consigner_address:n.state.consigner_address,consignee_address:n.state.consignee_address,other:n.state.other,buyer:n.state.buyer,country_origin:n.state.country_origin,country_final:n.state.country_final,pre_carriage:n.state.pre_carriage,receipt_place:n.state.receipt_place,vessel_no:n.state.vessel_no,port_load:n.state.port_load,port_discharge:n.state.port_discharge,final_destination:n.state.final_destination,marks:n.state.marks,container_no:n.state.container_no,awb_no:n.state.awb_no,terms:n.state.terms,items:n.state.invItems,id_invoice:n.props.id_invoice,conversion_rate:n.state.conversion_rate,status:n.state.status||n.state.statusTypes[0],discount:n.state.discount,narration:n.state.narration,freight_code:n.state.freight_code,currency:n.state.currency})};fetch(V,e).then(function(e){return e.json()}).then(function(e){e.isUpdate?(n.setState({btnSaveText:"Saved"}),setTimeout(function(){this.setState({btnSaveText:"Save Invoice"})}.bind(Object(p.a)(n)),5e3)):n.setState({id_invoice:e.id_invoice,redirect:!0})})}else n.validator.showMessages(),n.forceUpdate()},n.renderRedirect=function(){if(n.state.redirect)return n.setState({redirect:!1}),r.a.createElement(o.a,{to:"./invoice/".concat(n.state.id_invoice)})},n.handleChangeDate=function(e){return n.setState({date:e})},n.handleChangeBuyerDate=function(e){return n.setState({buyer_date:e})},n.handleChangeKg=function(e,t){var a=n.state.invItems,r=a[t];r.kg=e.target.value,a[t]=r,n.setState({invItems:a})},n.handleChangeBox=function(e,t){var a=n.state.invItems,r=a[t];r.box=e.target.value,a[t]=r,n.setState({invItems:a})},n.handleChangeProduct=function(e,t){var a=n.state.invItems,r=a[t];r.id_product=e.target.value,a[t]=r,n.setState({invItems:a})},n.delRow=function(e){var t=n.state.invItems;t.splice(e,1),n.setState({invItems:t})},n.addRow=function(e){var t=n.state.invItems,a={id_product:e.target.value,kg:"",box:""};t.push(a),n.setState({invItems:t})},n.state={showPdf:!1,arrInv:[],id:null,title:"Table",data:null,date:new Date,products:[],invoice:[],invoice_no:"",order_no:"",buyer_date:new Date,consigners:[],consignees:[],consigner:n.props.data&&n.props.data.consigner,consignee:"",consignee_name:"",consigner_address:n.props.data&&n.props.data.consigner_address,consignee_address:"",other:"",buyer:"",country_origin:"",country_final:"",pre_carriage:"",receipt_place:"",vessel_no:"",port_load:"",port_discharge:"",final_destination:"",marks:"",container_no:"",awb_no:"",terms:"",conversion_rate:"",status:"Waiting Approval",discount:"",narration:"",freight_code:"",arrProducts:[],invItems:[],op_bal:0,places:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"INDIA"},{Id_place:2,Place:"KSA"},{Id_place:3,Place:"US"},{Id_place:4,Place:"JORDAN"},{Id_place:5,Place:"LONDON"},{Id_place:6,Place:"DUBAI"},{Id_place:7,Place:"BELGIUM"},{Id_place:8,Place:"FRANCE"},{Id_place:9,Place:"ITALY"},{Id_place:10,Place:"GERMANY"}],dischargePlaces:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"DELHI"},{Id_place:2,Place:"CHENNAI"},{Id_place:3,Place:"KERALA"},{Id_place:4,Place:"AMMAN"},{Id_place:5,Place:"HEATHROW"},{Id_place:6,Place:"DUBAI"},{Id_place:7,Place:"BRESSELS"}],statusTypes:["Waiting Approval","Packing","Shipped","Cancelled"],airports:[{Id_Port:0,Port:"--Select--"},{Id_Port:1,Port:"KOCHI"},{Id_Port:1,Port:"CALICUT"},{Id_Port:1,Port:"TRIVANDRUM"},{Id_Port:1,Port:"KANNUR"},{Id_Port:1,Port:"MUMBAI"},{Id_Port:1,Port:"CHENNAI"},{Id_Port:1,Port:"KOLKATA"},{Id_Port:1,Port:"COIMBATORE"}],btnSaveText:"Save Invoice",currency:"USD"},n.handleChangeDate=n.handleChangeDate.bind(Object(p.a)(n)),n.handleChangeBuyerDate=n.handleChangeBuyerDate.bind(Object(p.a)(n)),n.validator=new tt.a,n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.id_invoice;this.props.id_rough_invoice&&this.loadRoughInvoice(this.props.id_rough_invoice),this.loadProducts(),this.loadConsigners(),this.loadConsignees(),0!=e&&this.loadInvoiceDt(e)}},{key:"loadOpeningBal",value:function(){var e=this,t=this.formatDate(this.state.date),a=this.state.consignee;""!=a&&fetch("".concat(de,"/'").concat(t,"'/'").concat(t,"'/").concat(a)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({op_bal:-1*t[0].opening_bal})})}},{key:"loadRoughInvoice",value:function(e){var t=this;fetch(R+"/"+e).then(function(e){return e.json()}).then(function(e){e.length>0&&t.setState({consignee:e[0].consignee,consigner:e[0].consigner,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address})})}},{key:"loadConsigners",value:function(){var e=this,t=Ze;fetch("".concat(fe,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consigners:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadConsignees",value:function(){var e=this,t=$e;fetch("".concat(fe,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consignees:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadLedgerAddress",value:function(e,t){var a=this;fetch("".concat(se,"/").concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&("CONSIGNER"==t?a.setState({consigner_address:e[0].address}):a.setState({consignee_address:e[0].address}))})}},{key:"handleChangeInvoiceNo",value:function(e){this.setState({invoice_no:e.target.value.toUpperCase()})}},{key:"handleChangeOrderNo",value:function(e){this.setState({order_no:e.target.value})}},{key:"handleChangeConsignee",value:function(e){this.setState({consignee:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNEE")}},{key:"handleChangeConsigner",value:function(e){this.setState({consigner:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNER")}},{key:"handleChangeConsigneeAddress",value:function(e){this.setState({consignee_address:e.target.value})}},{key:"handleChangeConsignerAddress",value:function(e){this.setState({consigner_address:e.target.value})}},{key:"handleChangeOther",value:function(e){this.setState({other:e.target.value})}},{key:"handleChangeBuyer",value:function(e){this.setState({buyer:e.target.value})}},{key:"handleChangeCountryOrigin",value:function(e){this.setState({country_origin:e.target.value})}},{key:"handleChangeCountryFinal",value:function(e){this.setState({country_final:e.target.value})}},{key:"handleChangePreCarriage",value:function(e){this.setState({pre_carriage:e.target.value})}},{key:"handleChangeReceiptPlace",value:function(e){this.setState({receipt_place:e.target.value})}},{key:"handleChangeVesselNo",value:function(e){this.setState({vessel_no:e.target.value})}},{key:"handleChangePortLoad",value:function(e){this.setState({port_load:e.target.value})}},{key:"handleChangePortDischarge",value:function(e){this.setState({port_discharge:e.target.value})}},{key:"handleChangeFinalDest",value:function(e){this.setState({final_destination:e.target.value})}},{key:"handleChangeMarks",value:function(e){this.setState({marks:e.target.value})}},{key:"handleChangeContainerNo",value:function(e){this.setState({container_no:e.target.value})}},{key:"handleChangeAwbNo",value:function(e){this.setState({awb_no:e.target.value})}},{key:"handleChangeTerms",value:function(e){this.setState({terms:e.target.value})}},{key:"handleChangeConversionRate",value:function(e){this.setState({conversion_rate:e.target.value})}},{key:"handleChangeStatus",value:function(e){this.setState({status:e.target.value})}},{key:"handleChangeCurrency",value:function(e){this.setState({currency:e.target.value})}},{key:"handleChangeDiscount",value:function(e){this.setState({discount:e.target.value})}},{key:"handleChangeNarration",value:function(e){this.setState({narration:e.target.value})}},{key:"handleChangeFreightCode",value:function(e){this.setState({freight_code:e.target.value})}},{key:"render",value:function(){var e,t=this,a=this.state.invItems.map(function(e,a){return r.a.createElement(Ut,{handleChangeKg:t.handleChangeKg,handleChangeBox:t.handleChangeBox,handleChangeProduct:t.handleChangeProduct,delRow:t.delRow,invItem:e,rowIndex:a,products:t.state.products})}),n=this.state.invItems.reduce(function(e,t){return+e+ +t.kg*t.box},0),c=(this.state.invItems.reduce(function(e,t){return+e+ +t.box},0),this.state.invItems.reduce(function(e,t){return+e+ +t.kg},0));return r.a.createElement("div",null,this.renderRedirect(),r.a.createElement("section",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("form",{role:"form"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice No"),r.a.createElement("input",{type:"text",value:this.state.invoice_no,onChange:function(e){return t.handleChangeInvoiceNo(e)},class:"form-control"}),this.validator.message("invoice_no",this.state.invoice_no,"required"))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice Date"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(w.a,{className:"form-control",value:this.state.date,format:"dd/MM/yyyy",onChange:this.handleChangeDate}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer's Order No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeOrderNo(e)},value:this.state.order_no,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer's Date"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(w.a,{className:"form-control",onChange:this.handleChangeBuyerDate,value:this.state.buyer_date,format:"dd/MM/yyyy"}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Other reference(s)"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeOther(e)},class:"form-control",value:this.state.other})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Buyer (If other than consignee)"),r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeBuyer(e)},class:"form-control",value:this.state.buyer}))),r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Country of origin of goods"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCountryOrigin(e)},value:this.state.country_origin},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Country of final destination"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCountryFinal(e)},value:this.state.country_final},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Terms of delivery and payment"),r.a.createElement("textarea",(e={type:"text",onChange:function(e){return t.handleChangeTerms(e)},class:"form-control"},Object(d.a)(e,"onChange",function(e){return t.handleChangeTerms(e)}),Object(d.a)(e,"value",this.state.terms),Object(d.a)(e,"rows",2.8),e))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"AWB No."),r.a.createElement("input",{type:"text",class:"form-control",onChange:function(e){return t.handleChangeAwbNo(e)},value:this.state.awb_no})))))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-primary"},r.a.createElement("form",{role:"form"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consigner"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeConsigner(e)},value:this.state.consigner},this.state.consigners.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeConsignerAddress(e)},value:this.state.consigner_address,class:"form-control",rows:4})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consignee"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeConsignee(e)},value:this.state.consignee},this.state.consignees.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{type:"text",onChange:function(e){return t.handleChangeConsigneeAddress(e)},value:this.state.consignee_address,class:"form-control",rows:4})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Pre-Carriage by"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangePreCarriage(e)},value:this.state.pre_carriage,class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Place of receipt by Pre-Carrier"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeReceiptPlace(e)},value:this.state.receipt_place,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Vessel/Flight No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeVesselNo(e)},value:this.state.vessel_no,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of loading"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangePortLoad(e)},value:this.state.port_load},this.state.airports.map(function(e){return r.a.createElement("option",{value:e.Id_port},e.Port)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of discharge"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangePortDischarge(e)},value:this.state.port_discharge},this.state.dischargePlaces.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Final destination"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeFinalDest(e)},value:this.state.final_destination},this.state.places.map(function(e){return r.a.createElement("option",{value:e.Id_place},e.Place)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Marks & No.s"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeMarks(e)},value:this.state.marks,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Container No"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeContainerNo(e)},value:this.state.container_no,class:"form-control"})))))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Description of goods"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"15%"}},"Amount"),r.a.createElement("th",{style:{width:"10%"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,a,r.a.createElement(Wt,{products:this.state.products,addRow:this.addRow})),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null,c),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},Math.round(10*n)/10),r.a.createElement("th",null))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("label",null,"Discount"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeDiscount(e)},value:this.state.discount,class:"form-control"}))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("label",null,"Narration"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeNarration(e)},value:this.state.narration,class:"form-control"}))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-3"},r.a.createElement("label",null,"Status"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeStatus(e)},value:this.state.status},this.state.statusTypes.map(function(e){return r.a.createElement("option",{value:e},e)}))),r.a.createElement("div",{class:"col-md-3"},r.a.createElement("label",null,"Currency"),r.a.createElement("select",{class:"form-control",onChange:function(e){return t.handleChangeCurrency(e)},value:this.state.currency},["ALL","AFN","ARS","AWG","AED","AZN","BSD","BBD","BDT","BYR","BZD","BMD","BOB","BAM","BWP","BGN","BRL","BND","KHR","CAD","KYD","CLP","CNY","COP","CRC","HRK","CUP","CZK","DKK","DOP","XCD","EGP","SVC","EEK","EUR","FKP","FJD","GHC","GIP","GTQ","GGP","GYD","HNL","HKD","HUF","ISK","INR","IDR","IRR","IMP","ILS","JMD","JPY","JEP","KZT","KPW","KRW","KGS","LAK","LVL","LBP","LRD","LTL","MKD","MYR","MUR","MXN","MNT","MZN","NAD","NPR","ANG","NZD","NIO","NGN","NOK","OMR","PKR","PAB","PYG","PEN","PHP","PLN","QAR","RON","RUB","SHP","SAR","RSD","SCR","SGD","SBD","SOS","ZAR","LKR","SEK","CHF","SRD","SYP","TWD","THB","TTD","TRY","TRL","TVD","UAH","GBP","USD","UYU","UZS","VEF","VND","YER","ZWD"].map(function(e){return r.a.createElement("option",{value:e},e)}))),r.a.createElement("div",{class:"col-md-3"},r.a.createElement("label",null,"Conversion Rate"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeConversionRate(e)},value:this.state.conversion_rate,class:"form-control"})),r.a.createElement("div",{class:"col-md-3"},r.a.createElement("label",null,"Frieght Code"),r.a.createElement("input",{type:"text",onChange:function(e){return t.handleChangeFreightCode(e)},value:this.state.freight_code,class:"form-control"})))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:this.saveInvoice,type:"submit",class:"btn btn-primary"},this.state.btnSaveText),r.a.createElement("button",{onClick:function(){return t.setState({showPdf:!0})},type:"submit",class:"btn btn-primary float-right"},"Print Invoice"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return t.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(Et.PDFViewer,{style:{width:"100%",height:500}},r.a.createElement(Mt,this.state)))))))))}}]),a}(n.Component),Ut=function(e){Object(g.a)(a,e);var t=Ht(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleChangeKg=function(t){e.props.handleChangeKg(t,e.props.rowIndex)},e.handleChangeBox=function(t){e.props.handleChangeBox(t,e.props.rowIndex)},e.handleChangeProduct=function(t){e.props.handleChangeProduct(t,e.props.rowIndex)},e.delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.invItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeKg(t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeBox(t)}})),r.a.createElement("td",{align:"right"},Math.round(100*a)/100),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRow,class:"btn btn-block btn-outline-danger btn-flat"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),a}(n.Component),Kt=function(e){Object(g.a)(a,e);var t=Ht(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).setTab=function(e){n.setState({currentTab:e})},n.setInvoiceNo=function(e){n.setState({invoice_no:e})},n.state={currentTab:0,invoice_no:0},n.setTab=n.setTab.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.match.params)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("div",{class:"card card-primary card-outline card-outline-tabs"},r.a.createElement("div",{class:"card-header p-0 border-bottom-0"},r.a.createElement("ul",{class:"nav nav-tabs",id:"custom-tabs-three-tab",role:"tablist"},r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(0)},class:"nav-link active",id:"custom-tabs-three-home-tab","data-toggle":"pill",href:"#custom-tabs-three-home",role:"tab","aria-controls":"custom-tabs-three-home","aria-selected":"true"},"Invoice ",0!=this.props.match.params.id&&"No. ".concat(this.state.invoice_no)," ")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(1)},class:"nav-link",id:"custom-tabs-three-profile-tab","data-toggle":"pill",href:"#custom-tabs-three-profile",role:"tab","aria-controls":"custom-tabs-three-profile","aria-selected":"false"},"Documents")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(2)},class:"nav-link",id:"custom-tabs-three-messages-tab","data-toggle":"pill",href:"#custom-tabs-three-messages",role:"tab","aria-controls":"custom-tabs-three-messages","aria-selected":"false"},"Expenses")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(3)},class:"nav-link",id:"custom-tabs-three-settings-tab","data-toggle":"pill",href:"#custom-tabs-three-settings",role:"tab","aria-controls":"custom-tabs-three-settings","aria-selected":"false"},"Net Report")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(4)},class:"nav-link",id:"custom-tabs-three-packing-tab","data-toggle":"pill",href:"#custom-tabs-three-packing",role:"tab","aria-controls":"custom-tabs-three-packing","aria-selected":"false"},"Packing ")),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("li",{class:"nav-item"},r.a.createElement("a",{onClick:function(){return e.setTab(5)},class:"nav-link",id:"custom-tabs-three-fright-tab","data-toggle":"pill",href:"#custom-tabs-three-fright",role:"tab","aria-controls":"custom-tabs-three-fright","aria-selected":"false"},"Freight Expenses ")))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"tab-content",id:"custom-tabs-three-tabContent"},r.a.createElement("div",{class:"tab-pane fade active show",id:"custom-tabs-three-home",role:"tabpanel","aria-labelledby":"custom-tabs-three-home-tab"},0==this.state.currentTab?r.a.createElement(Gt,{id_invoice:this.props.match.params.id,id_rough_invoice:this.props.match.params.id_rough_invoice,setInvoiceNo:this.setInvoiceNo}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-profile",role:"tabpanel","aria-labelledby":"custom-tabs-three-profile-tab"},1==this.state.currentTab?r.a.createElement(gt,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-messages",role:"tabpanel","aria-labelledby":"custom-tabs-three-messages-tab"},2==this.state.currentTab?r.a.createElement(lt,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-settings",role:"tabpanel","aria-labelledby":"custom-tabs-three-settings-tab"},3==this.state.currentTab?r.a.createElement(ut,{id_invoice:this.props.match.params.id}):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-packing",role:"tabpanel","aria-labelledby":"custom-tabs-three-packing-tab"},4==this.state.currentTab?r.a.createElement(Tt,Object.assign({id_invoice:this.props.match.params.id,invoice_no:this.state.invoice_no},this.props)):r.a.createElement("div",null)),0==this.props.match.params.id?r.a.createElement("div",null):r.a.createElement("div",{class:"tab-pane fade",id:"custom-tabs-three-fright",role:"tabpanel","aria-labelledby":"custom-tabs-three-fright-tab"},5==this.state.currentTab?r.a.createElement(It,Object.assign({id_invoice:this.props.match.params.id},this.props)):r.a.createElement("div",null)))))))}}]),a}(n.Component),Wt=function(e){Object(g.a)(a,e);var t=Ht(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).addRow=function(t){e.props.addRow(t)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.addRow(t)},value:0},this.props.products.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",{align:"right"}),r.a.createElement("td",null," "))}}]),a}(n.Component),Yt=Kt,qt=function(e){return e.invItems.map(function(t,a){return r.a.createElement(Xt,Object.assign({},t,{products:e.products}))})},Jt=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_account_head==e});return 0==a.length?"":a[0].account_head},Qt=function(e){return r.a.createElement(Et.Document,null,r.a.createElement(Et.Page,{size:"A4",style:Zt.page},r.a.createElement(Et.View,{style:Zt.top}),r.a.createElement(Et.View,{style:Zt.container1},r.a.createElement(Et.View,{style:Zt.section},r.a.createElement(Et.Text,null,"AQUASIGN EXPORTS"),r.a.createElement(Et.Text,{style:Zt.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(Et.View,{style:Zt.sectionTopRight},r.a.createElement(Et.View,{style:Zt.box},r.a.createElement(Et.Text,{style:Zt.left},"DATE"),r.a.createElement(Et.Text,{style:Zt.right},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))),r.a.createElement(Et.View,{style:Zt.box},r.a.createElement(Et.Text,{style:Zt.left},"PORT OF LOADING"),r.a.createElement(Et.Text,{style:Zt.right},"0"==e.port_load||"--Select--"==e.port_load||e.port_load)))),r.a.createElement(Et.View,{style:[Zt.container2]},r.a.createElement(Et.View,{style:Zt.section},r.a.createElement(Et.Text,{style:Zt.addressTitle},"CONSIGNER"),r.a.createElement(Et.Text,{style:Zt.address},Jt(e.consigner,e.consigners)),r.a.createElement(Et.Text,{style:Zt.address},e.consigner_address))),r.a.createElement(Et.View,{style:[Zt.container2]},r.a.createElement(Et.View,{style:Zt.section},r.a.createElement(Et.Text,{style:Zt.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(Et.Text,{style:Zt.address},Jt(e.consignee,e.consignees)),r.a.createElement(Et.Text,{style:Zt.address},e.consignee_address))),r.a.createElement(Et.View,{style:Zt.tableHeader},r.a.createElement(Et.Text,{style:Zt.col1},"PRODUCT"),r.a.createElement(Et.Text,{style:Zt.col2},"BOX"),r.a.createElement(Et.Text,{style:Zt.col2},"KG"),r.a.createElement(Et.Text,{style:Zt.col3},"TOTAL")),r.a.createElement(Et.View,null,r.a.createElement(qt,e)),r.a.createElement(Et.View,{style:Zt.tableData},r.a.createElement(Et.Text,{style:Zt.col1}),r.a.createElement(Et.Text,{style:[Zt.col2,{fontFamily:"Roboto"}]},e.invItems.reduce(function(e,t){return+e+ +t.box},0)),r.a.createElement(Et.Text,{style:[Zt.col2,{fontFamily:"Roboto"}]}),r.a.createElement(Et.Text,{style:[Zt.col3,{fontFamily:"Roboto"}]},function(e){return e.reduce(function(e,t){return+e+ +t.kg*t.box},0)}(e.invItems)," KG")),r.a.createElement(Et.View,{style:Zt.top})))},Xt=function(e){var t=e.box*e.kg;return r.a.createElement(Et.View,{style:Zt.tableData},r.a.createElement(Et.Text,{style:Zt.col1},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_product==e});return 0==a.length?"":a[0].name}(e.id_product,e.products)),r.a.createElement(Et.Text,{style:Zt.col2},e.box),r.a.createElement(Et.Text,{style:Zt.col2},e.kg),r.a.createElement(Et.Text,{style:Zt.col3},Math.round(10*t)/10))};Et.Font.register({family:"Roboto",src:a(41)});var Zt=Et.StyleSheet.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:5,padding:10,paddingHorizontal:10,width:"50%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"45%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}}),$t=function(e){return e.airwayItems.map(function(t,a){return r.a.createElement(aa,Object.assign({},t,{products:e.products}))})},ea=function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_account_head==e});return 0==a.length?"":a[0].account_head},ta=function(e){return r.a.createElement(Et.Document,null,r.a.createElement(Et.Page,{size:"A4",style:na.page},r.a.createElement(Et.View,{style:na.top}),r.a.createElement(Et.View,{style:na.container1},r.a.createElement(Et.View,{style:na.section},r.a.createElement(Et.Text,null,"AQUASIGN EXPORTS"),r.a.createElement(Et.Text,{style:na.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(Et.View,{style:na.sectionTopRight},r.a.createElement(Et.View,{style:na.box},r.a.createElement(Et.Text,{style:na.left},"DATE"),r.a.createElement(Et.Text,{style:na.right},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))),r.a.createElement(Et.View,{style:na.box},r.a.createElement(Et.Text,{style:na.left},"INVOICE NO."),r.a.createElement(Et.Text,{style:na.right},e.invoice_no)),r.a.createElement(Et.View,{style:na.box},r.a.createElement(Et.Text,{style:na.left},"PORT OF LOADING"),r.a.createElement(Et.Text,{style:na.right},"0"==e.port_load||"--Select--"==e.port_load||e.port_load)))),r.a.createElement(Et.View,{style:[na.container2]},r.a.createElement(Et.View,{style:na.section},r.a.createElement(Et.Text,{style:na.addressTitle},"CONSIGNER"),r.a.createElement(Et.Text,{style:na.address},ea(e.consigner,e.consigners)),r.a.createElement(Et.Text,{style:na.address},e.consigner_address))),r.a.createElement(Et.View,{style:[na.container2]},r.a.createElement(Et.View,{style:na.section},r.a.createElement(Et.Text,{style:na.addressTitle},"CONSIGNEE ",e.bill_to),r.a.createElement(Et.Text,{style:na.address},ea(e.consignee,e.consignees)),r.a.createElement(Et.Text,{style:na.address},e.consignee_address))),r.a.createElement(Et.View,{style:na.tableHeader},r.a.createElement(Et.Text,{style:na.col1},"PRODUCT"),r.a.createElement(Et.Text,{style:na.col2},"BOX"),r.a.createElement(Et.Text,{style:na.col2},"KG"),r.a.createElement(Et.Text,{style:na.col3},"TOTAL")),r.a.createElement(Et.View,null,r.a.createElement($t,e)),r.a.createElement(Et.View,{style:na.tableData},r.a.createElement(Et.Text,{style:na.col1}),r.a.createElement(Et.Text,{style:[na.col2,{fontFamily:"Roboto"}]},e.airwayItems.reduce(function(e,t){return+e+ +t.box},0)),r.a.createElement(Et.Text,{style:[na.col2,{fontFamily:"Roboto"}]}),r.a.createElement(Et.Text,{style:[na.col3,{fontFamily:"Roboto"}]},function(e){return e.reduce(function(e,t){return+e+ +t.kg*t.box},0)}(e.airwayItems)," KG")),r.a.createElement(Et.View,{style:na.top})))},aa=function(e){var t=e.box*e.kg;return r.a.createElement(Et.View,{style:na.tableData},r.a.createElement(Et.Text,{style:na.col1},function(e,t){if(0==e)return"";var a=t.filter(function(t){return t.id_product==e});return 0==a.length?"":a[0].name}(e.id_product,e.products)),r.a.createElement(Et.Text,{style:na.col2},e.box),r.a.createElement(Et.Text,{style:na.col2},e.kg),r.a.createElement(Et.Text,{style:na.col3},Math.round(10*t)/10))};Et.Font.register({family:"Roboto",src:a(41)});var na=Et.StyleSheet.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:5,padding:10,paddingHorizontal:10,width:"50%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"45%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{flex:.6,fontSize:10,textAlign:"right",fontFamily:"Roboto"},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{flex:.4,fontSize:10,textAlign:"left",paddingHorizontal:10},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}});function ra(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var ca=function(e){Object(g.a)(a,e);var t=ra(a);function a(e){var n,r;return Object(h.a)(this,a),(r=t.call(this,e)).loadInvoiceDt=function(e){fetch(R+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&r.setState({date:e[0].date,port_load:e[0].port_load,invoice_no:e[0].invoice_no,consigner:e[0].consigner,consignee:e[0].consignee,consigner_address:e[0].consigner_address,consignee_address:e[0].consignee_address,invItems:e[0].items||[]})})},r.loadAirwayItemsDt=function(e){fetch(I+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&r.setState({airwayItems:e[0].airwayItems||[]})})},r.loadProducts=function(){fetch(ye).then(function(e){return e.json()}).then(function(e){return r.setState({products:[{id_product:0,name:"SELECT"}].concat(Object(m.a)(e))})})},r.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},r.saveInvoice=function(e){if(r.validator.allValid()){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:r.formatDate(r.state.date),invoice_no:r.state.invoice_no,consigner:r.state.consigner,consignee:r.state.consignee,consigner_address:r.state.consigner_address,consignee_address:r.state.consignee_address,port_load:r.state.port_load,items:r.state.invItems,airwayItems:r.state.airwayItems,id_rough_invoice:r.state.id_rough_invoice})};fetch(O,t).then(function(t){t.json(),"BACK"==e?r.setState({redirect:!0}):r.setState({redirectToInvoice:!0})})}else r.validator.showMessages(),r.forceUpdate()},r.onDateChange=function(e){return r.setState({date:e})},r.handleChangeKg=function(e,t){var a=r.state.invItems,n=a[t];n.kg=e.target.value,a[t]=n,r.setState({invItems:a})},r.handleChangeAirwayKg=function(e,t){var a=r.state.airwayItems,n=a[t];n.kg=e.target.value,a[t]=n,r.setState({airwayItems:a})},r.handleChangeBox=function(e,t){var a=r.state.invItems,n=a[t];n.box=e.target.value,a[t]=n,r.setState({invItems:a})},r.handleChangeAirwayBox=function(e,t){var a=r.state.airwayItems,n=a[t];n.box=e.target.value,a[t]=n,r.setState({airwayItems:a})},r.handleChangeProduct=function(e,t){var a=r.state.invItems,n=a[t];n.id_product=e.target.value,a[t]=n,r.setState({invItems:a})},r.handleChangeAirwayProduct=function(e,t){var a=r.state.airwayItems,n=a[t];n.id_product=e.target.value,a[t]=n,r.setState({airwayItems:a})},r.delRow=function(e){var t=r.state.invItems;t.splice(e,1),r.setState({invItems:t})},r.delRowAirway=function(e){var t=r.state.airwayItems;t.splice(e,1),r.setState({airwayItems:t})},r.addRow=function(e){var t=r.state.invItems,a={id_product:e.target.value,kg:"",box:""};t.push(a),r.setState({invItems:t})},r.addRowAirway=function(e){var t=r.state.airwayItems,a={id_product:e.target.value,kg:"",box:""};t.push(a),r.setState({airwayItems:t})},r.state=(n={data:null,title:"Table",id_rough_invoice:0,date:new Date,port_load:"",consigners:[],consignees:[],consigner:"",consignee:"",consigner_address:"",consignee_address:"",invoice_no:"",products:[],invItems:[],airwayItems:[],showPdf:!1,printDoc:"",redirectToInvoice:!1,places:[{Id_place:0,Place:"--Select--"},{Id_place:1,Place:"INDIA"},{Id_place:2,Place:"KSA"},{Id_place:3,Place:"US"}]},Object(d.a)(n,"redirectToInvoice",!1),Object(d.a)(n,"airports",[{Id_Port:0,Port:"--Select--"},{Id_Port:1,Port:"KOCHI"},{Id_Port:2,Port:"CALICUT"},{Id_Port:3,Port:"TRIVANDRUM"},{Id_Port:4,Port:"KANNUR"},{Id_Port:5,Port:"MUMBAI"},{Id_Port:6,Port:"CHENNAI"},{Id_Port:7,Port:"KOLKATA"},{Id_Port:8,Port:"COIMBATORE"}]),n),r.onDateChange=r.onDateChange.bind(Object(p.a)(r)),r.handleChangeConsignee=r.handleChangeConsignee.bind(Object(p.a)(r)),r.handleChangeInvoiceNo=r.handleChangeInvoiceNo.bind(Object(p.a)(r)),r.handleChangeConsigner=r.handleChangeConsigner.bind(Object(p.a)(r)),r.handleChangePortLoad=r.handleChangePortLoad.bind(Object(p.a)(r)),r.validator=new tt.a,r}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id_rough_invoice;this.loadProducts(),this.loadConsigners(),this.loadConsignees(),0!=e&&(this.loadInvoiceDt(e),this.loadAirwayItemsDt(e),this.setState({id_rough_invoice:e}))}},{key:"loadConsigners",value:function(){var e=this,t=Ze;fetch("".concat(fe,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consigners:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadConsignees",value:function(){var e=this,t=$e;fetch("".concat(fe,"/").concat(t)).then(function(e){return e.json()}).then(function(t){t.length>0&&e.setState({consignees:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"loadLedgerAddress",value:function(e,t){var a=this;fetch("".concat(se,"/").concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&("CONSIGNER"==t?a.setState({consigner_address:e[0].address}):a.setState({consignee_address:e[0].address}))})}},{key:"handleChangePortLoad",value:function(e){this.setState({port_load:e.target.value})}},{key:"handleChangeInvoiceNo",value:function(e){this.setState({invoice_no:e.target.value.toUpperCase()})}},{key:"handleChangeConsignee",value:function(e){this.setState({consignee:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNEE")}},{key:"handleChangeConsigner",value:function(e){this.setState({consigner:e.target.value}),this.loadLedgerAddress(e.target.value,"CONSIGNER")}},{key:"handleChangeConsigneeAddress",value:function(e){this.setState({consignee_address:e.target.value})}},{key:"handleChangeConsignerAddress",value:function(e){this.setState({consigner_address:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.products,a=this.state.invItems.map(function(a,n){return r.a.createElement(la,{handleChangeKg:e.handleChangeKg,handleChangeBox:e.handleChangeBox,handleChangeProduct:e.handleChangeProduct,delRow:e.delRow,invItem:a,rowIndex:n,products:t})}),n=this.state.airwayItems.map(function(a,n){return r.a.createElement(oa,{handleChangeAirwayKg:e.handleChangeAirwayKg,handleChangeAirwayBox:e.handleChangeAirwayBox,handleChangeAirwayProduct:e.handleChangeAirwayProduct,delRowAirway:e.delRowAirway,airwayItem:a,rowIndex:n,products:t})}),c=this.state.airwayItems.reduce(function(e,t){return+e+ +t.kg*t.box},0),l=this.state.airwayItems.reduce(function(e,t){return+e+ +t.box},0),i=(this.state.airwayItems.reduce(function(e,t){return+e+ +t.kg},0),this.state.invItems.reduce(function(e,t){return+e+ +t.kg*t.box},0)),s=this.state.invItems.reduce(function(e,t){return+e+ +t.box},0),u=(this.state.invItems.reduce(function(e,t){return+e+ +t.kg},0),this.state),d=u.redirect,m=u.redirectToInvoice;return d?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/roughInvoiceList"})):m?(this.setState({redirectToInvoice:!1}),r.a.createElement(o.a,{to:"/invoice/0/".concat(this.props.match.params.id_rough_invoice)})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Rough Invoice"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"New Rough Invoice")),r.a.createElement("div",{class:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date:"),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},r.a.createElement("i",{class:"far fa-calendar-alt"}))),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice No"),r.a.createElement("input",{type:"text",value:this.state.invoice_no,onChange:this.handleChangeInvoiceNo,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Port of loading"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangePortLoad(t)},value:this.state.port_load},this.state.airports.map(function(e){return r.a.createElement("option",{value:e.Id_port},e.Port)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consigner"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeConsigner(t)},value:this.state.consigner},this.state.consigners.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{class:"form-control",onChange:function(t){return e.handleChangeConsignerAddress(t)},value:this.state.consigner_address,rows:"3",placeholder:"Consigner"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Consignee"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeConsignee(t)},value:this.state.consignee},this.state.consignees.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("textarea",{class:"form-control",onChange:function(t){return e.handleChangeConsigneeAddress(t)},value:this.state.consignee_address,rows:"3",placeholder:"Consignee"})))))),r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Invoice")),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"10%"}},"Box"),r.a.createElement("th",{style:{width:"20%",textAlign:"right"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,a,r.a.createElement(ia,{products:this.state.products,addRow:this.addRow})),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",{align:"right"}),r.a.createElement("td",{align:"right"},s),r.a.createElement("td",{align:"right"},i," Kg"),r.a.createElement("td",null)))),r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Airport Invoice")),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",{style:{width:"10%"}},"Kg"),r.a.createElement("th",{style:{width:"10%"}},"Box"),r.a.createElement("th",{align:"right",style:{width:"20%",textAlign:"right"}},"Total"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,n,r.a.createElement(ia,{products:this.state.products,addRow:this.addRowAirway})),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",{align:"right"}),r.a.createElement("td",{align:"right"},l),r.a.createElement("td",{align:"right"},c," Kg"),r.a.createElement("td",null)))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.saveInvoice("BACK")},type:"submit",class:"btn btn-primary"},"Save"),r.a.createElement("button",{onClick:function(){return e.saveInvoice("INVOICE")},type:"submit",class:"btn btn-primary"},"Create Invoice"),r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!1},function(){return e.setState({showPdf:!0,printDoc:"RoughInvoice"})})},type:"button",class:"btn btn-primary float-right"},"Print Rough Invoice"),r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!1},function(){return e.setState({showPdf:!0,printDoc:"Airway"})})},type:"button",class:"btn btn-primary float-right"},"Print Airway Bill")))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(Et.PDFViewer,{style:{width:"100%",height:500}},"RoughInvoice"==this.state.printDoc?r.a.createElement(Qt,this.state):r.a.createElement(ta,this.state)))))))))))))}}]),a}(n.Component),la=function(e){Object(g.a)(a,e);var t=ra(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleChangeKg=function(t){e.props.handleChangeKg(t,e.props.rowIndex)},e.handleChangeBox=function(t){e.props.handleChangeBox(t,e.props.rowIndex)},e.handleChangeProduct=function(t){e.props.handleChangeProduct(t,e.props.rowIndex)},e.delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.invItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeKg(t)}})),r.a.createElement("td",{align:"right"},r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeBox(t)}})),r.a.createElement("td",{align:"right"},Math.round(10*a)/10),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRow,class:"btn btn-success"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),a}(n.Component),oa=function(e){Object(g.a)(a,e);var t=ra(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleChangeAirwayKg=function(t){e.props.handleChangeAirwayKg(t,e.props.rowIndex)},e.handleChangeAirwayBox=function(t){e.props.handleChangeAirwayBox(t,e.props.rowIndex)},e.handleChangeAirwayProduct=function(t){e.props.handleChangeAirwayProduct(t,e.props.rowIndex)},e.delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.airwayItem,a=t.kg*t.box,n=this.props.products;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.handleChangeAirwayProduct(t)},value:t.id_product},n.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control",value:t.kg,onChange:function(t){return e.handleChangeAirwayKg(t)}})),r.a.createElement("td",{align:"right"},r.a.createElement("input",{type:"text",class:"form-control",value:t.box,onChange:function(t){return e.handleChangeAirwayBox(t)}})),r.a.createElement("td",{align:"right"},Math.round(10*a)/10),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:this.delRowAirway,class:"btn btn-success"},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),a}(n.Component),ia=function(e){Object(g.a)(a,e);var t=ra(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).addRow=function(t){e.props.addRow(t)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("select",{class:"form-control",onChange:function(t){return e.addRow(t)},value:0},this.props.products.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)}))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",class:"form-control"})),r.a.createElement("td",null),r.a.createElement("td",null," "))}}]),a}(n.Component),sa=ca,ua=a(28),da=a.n(ua);function ma(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var ha=function(e){Object(g.a)(a,e);var t=ma(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handlePageChange=function(e){console.log("active page is ".concat(e)),n.setState({activePage:e},function(){var e=n.state.dateFrom,t=n.state.dateTo,a=n.state.invoice_no,r=n.state.show,c=n.state.activePage;0==r&&n.loadInvoiceList(c),1==r&&n.loadInvoiceSearchList(n.formatDate(e),n.formatDate(t),c,a)})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.onDateFromChange=function(e){n.setState({dateFrom:e})},n.onDateToChange=function(e){n.setState({dateTo:e})},n.state={title:"Table",data:null,invoice_no:"",date:new Date,dateFrom:new Date,dateTo:new Date,invItems:[],activePage:1,totalCount:"",show:!1},n.onDateFromChange=n.onDateFromChange.bind(Object(p.a)(n)),n.onDateToChange=n.onDateToChange.bind(Object(p.a)(n)),n.onInvoiceNoChange=n.onInvoiceNoChange.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.activePage;this.loadInvoiceList(e)}},{key:"loadInvoiceList",value:function(e){var t=this;fetch(L+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({invItems:e.items,totalCount:e.totalCount})}),console.log(this.state.totalCount)}},{key:"loadInvoiceSearchList",value:function(e,t,a,n){var r=this,c=""!=n?n.replace("/","_"):null;fetch("".concat(N,"/").concat(e,"/").concat(t,"/").concat(a,"/").concat(c)).then(function(e){return e.json()}).then(function(e){return r.setState({invItems:e.items,totalCount:e.totalCount})})}},{key:"onFilter",value:function(){var e=this;this.setState({invoice_no:"",show:!0},function(){var t=e.state.dateFrom,a=e.state.dateTo,n=e.state.invoice_no,r=e.state.activePage;e.loadInvoiceSearchList(e.formatDate(t),e.formatDate(a),r,n)})}},{key:"removeFilter",value:function(){var e=this;this.setState({invoice_no:"",show:!1},function(){var t=e.state.activePage;e.loadInvoiceList(t)})}},{key:"onInvoiceNoChange",value:function(e){this.setState({invoice_no:e.target.value.toUpperCase()})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(fa,{delRow:e.delRow,invItem:t,rowIndex:a,activePage:e.state.activePage})}),a=this.state.show;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Invoice")),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement(da.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:20,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)}))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},a&&r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body"},r.a.createElement("button",{type:"button",class:"btn btn float-right",onClick:function(){return e.removeFilter()},"data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Invoice No"),r.a.createElement("input",{type:"text",value:this.state.invoice_no,onChange:this.onInvoiceNoChange,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadInvoiceSearchList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo),e.state.activePage,e.state.invoice_no)}},"Search")))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Invoice"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(u.b,{to:"./invoice/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create"))),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.onFilter()},class:"btn btn-block btn-success btn-flat "},"Filter"))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:20}},"Sl No"),r.a.createElement("th",{style:{width:"20%"}},"Inv. No"),r.a.createElement("th",{style:{width:"15%"}},"Date"),r.a.createElement("th",{style:{width:"30%"}},"Consignee"),r.a.createElement("th",{style:{width:"15%"}},"Status"),r.a.createElement("th",{style:{width:"5%"}}))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",{align:"right"})))))))))))}}]),a}(n.Component),fa=function(e){Object(g.a)(a,e);var t=ma(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).delRow=function(){e.props.delRow(e.props.rowIndex)},e.editRow=function(){e.props.editRow(e.props.rowIndex)},e.getStatus=function(e){return"Waiting Approval"==e?r.a.createElement("span",{class:"badge bg-primary"},"Waiting Approval"):"Packing"==e?r.a.createElement("span",{class:"badge bg-warning"},"Packing"):"Shipped"==e?r.a.createElement("span",{class:"badge bg-success"},"Shipped"):"Cancelled"==e?r.a.createElement("span",{class:"badge bg-danger"},"Cancelled"):void 0},e.getDelBtn=function(e){if(1==e)return r.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"}))},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.invItem;return r.a.createElement("tr",null,r.a.createElement("td",null,20*(this.props.activePage-1)+this.props.rowIndex+1),r.a.createElement("td",null,e.invoice_no),r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.consignee),r.a.createElement("td",null,this.getStatus(e.status)),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"./invoice/"+e.id_invoice,render:function(e){return r.a.createElement(Yt,e)}},r.a.createElement("i",{class:"fas fa-edit"})," "),this.getDelBtn(e.status))))}}]),a}(r.a.Component),pa=ha;function ga(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Ea=function(e){Object(g.a)(a,e);var t=ga(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handlePageChange=function(e){console.log("active page is ".concat(e)),n.setState({activePage:e},function(){var e=n.state.activePage;n.loadInvoiceList(e)})},n.state={title:"Table",data:null,date:new Date,invItems:[],activePage:1,totalCount:""},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.activePage;this.loadInvoiceList(e)}},{key:"loadInvoiceList",value:function(e){var t=this;fetch(P+"/".concat(e)).then(function(e){return e.json()}).then(function(e){return t.setState({invItems:e.items,totalCount:e.totalCount})})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(va,{delRow:e.delRow,invItem:t,rowIndex:a})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Rough Invoice")),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement(da.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)}))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Rough Invoice"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(u.b,{to:"./roughInvoiceCreate/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"Date"),r.a.createElement("th",null,"Consigner"),r.a.createElement("th",null,"Consignee"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))))))))))}}]),a}(n.Component),va=function(e){Object(g.a)(a,e);var t=ga(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).delRow=function(){e.props.delRow(e.props.rowIndex)},e.editRow=function(){e.props.editRow(e.props.rowIndex)},e.getStatus=function(e){return 1==e?r.a.createElement("span",{class:"badge bg-primary"},"created"):2==e?r.a.createElement("span",{class:"badge bg-warning"},"certified"):3==e?r.a.createElement("span",{class:"badge bg-success"},"shipped"):void 0},e.getDelBtn=function(e){if(1==e)return r.a.createElement("button",{type:"button",class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"}))},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.invItem;return r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.consigner),r.a.createElement("td",null,t.consignee),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"./roughInvoiceCreate/"+t.id_rough_invoice,render:function(t){return r.a.createElement(sa,Object.assign({},t,{id_rough_invoice:e.props.match.params.id_rough_invoice}))}},r.a.createElement("i",{class:"fas fa-edit"})," "),this.getDelBtn(t.status))))}}]),a}(r.a.Component),ba=Ea;function ya(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Ca=function(e){Object(g.a)(a,e);var t=ya(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).delPayroll=function(e){fetch(ne+"/".concat(e)).then(function(e){e.json();var t=n.formatDate(n.state.date);n.loadVoucherList(t)})},n.loadVoucherList=function(e){fetch(ae+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){n.setState({id_ledger:"",type:"",amount:"",arrVouchers:e})}),console.log(n.state.arrVouchers)},n.saveVoucher=function(){if(n.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:n.formatDate(n.state.date),id_ledger:n.state.id_ledger,amount:n.state.amount,type:n.state.type})};fetch(te,e).then(function(e){e.json();var t=n.formatDate(n.state.date);n.loadVoucherList(t)}),n.setState({amount:""})}else n.validator.showMessages(),n.forceUpdate()},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.onDateChange=function(e){n.setState({date:e},function(){var e=n.formatDate(n.state.date);n.loadVoucherList(e)})},n.state={data:null,date:new Date,id_ledger:"",type:"",amount:"",ledger:"",arrLedger:[],arrVouchers:[],arrType:[{type:"Allowance"},{type:"Salary"},{type:"Loan"}]},n.onAmountChange=n.onAmountChange.bind(Object(p.a)(n)),n.onTypeChange=n.onTypeChange.bind(Object(p.a)(n)),n.onLedgerChange=n.onLedgerChange.bind(Object(p.a)(n)),n.onDateChange=n.onDateChange.bind(Object(p.a)(n)),n.validator=new tt.a,n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.date);this.loadAccountHead(),this.loadVoucherList(e)}},{key:"loadAccountHead",value:function(){var e=this,t=Je;fetch("".concat(fe,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:t})})}},{key:"onTypeChange",value:function(e){this.setState({type:e.target.value})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(wa,{arrVoucher:t,arrLedger:e.state.arrLedger,delPayroll:e.delPayroll})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Payroll"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},r.a.createElement("option",null,"--Select--"),this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("name",this.state.id_ledger,"required|numeric"))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},r.a.createElement("option",null,"--Select--"),this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)})))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveVoucher},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"45%"}},"Name"),r.a.createElement("th",{style:{width:"30%"}},"Type"),r.a.createElement("th",{style:{width:"30%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),a}(n.Component),wa=function(e){Object(g.a)(a,e);var t=ya(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.type),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.props.delPayroll(t.id_payroll)}},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),a}(r.a.Component),xa=Ca;function _a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Da=function(e){Object(g.a)(a,e);var t=_a(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadLedger=function(e){fetch(se+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({id:e[0].id_ledger_group,name:e[0].account_head,title:e[0].title,op:e[0].opening_balance>0?e[0].opening_balance:-1*e[0].opening_balance,address:e[0].address,phone:e[0].phone,crdr:e[0].opening_balance>0?"Cr":"Dr"})})},n.saveLedger=function(){if(n.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n.state.id,name:n.state.name,title:n.state.title,code:n.state.code,op:"Cr"==n.state.crdr?n.state.op:-1*n.state.op,address:n.state.address,phone:n.state.phone,id_account_head:n.props.match.params.id_ledger})};fetch(ge,e).then(function(e){e.json(),n.setState({redirect:!0})})}else n.validator.showMessages(),n.forceUpdate()},n.delRow=function(e){var t=n.state.arrVouchers;t.splice(e,1),n.setState({arrVouchers:t})},n.state={data:null,id_account_head:"",code:"",id:"",name:"",title:"",op:"",crdr:"",address:"",phone:"",arrLedgerGroup:[],redirect:!1,types:[{Id:1,Type:"Cr"},{Id:2,Type:"Dr"}]},n.onNameChange=n.onNameChange.bind(Object(p.a)(n)),n.onTitleChange=n.onTitleChange.bind(Object(p.a)(n)),n.onIdChange=n.onIdChange.bind(Object(p.a)(n)),n.onOpChange=n.onOpChange.bind(Object(p.a)(n)),n.onAddressChange=n.onAddressChange.bind(Object(p.a)(n)),n.onPhoneChange=n.onPhoneChange.bind(Object(p.a)(n)),n.onCrdrChange=n.onCrdrChange.bind(Object(p.a)(n)),n.validator=new tt.a,n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.loadLedgerGroup();var e=this.props.match.params.id_ledger;0!=e&&this.loadLedger(e)}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(he).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerGroup:t})})}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value.toUpperCase()})}},{key:"onTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"onIdChange",value:function(e){this.setState({id:e.target.value})}},{key:"onOpChange",value:function(e){this.setState({op:e.target.value})}},{key:"onAddressChange",value:function(e){this.setState({address:e.target.value})}},{key:"onPhoneChange",value:function(e){this.setState({phone:e.target.value})}},{key:"onCrdrChange",value:function(e){this.setState({crdr:e.target.value})}},{key:"render",value:function(){return this.state.redirect?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/ledger"})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:this.state.name,onChange:this.onNameChange,class:"form-control"}),this.validator.message("name",this.state.name,"required"))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",value:this.state.title,onChange:this.onTitleChange,class:"form-control"}),this.validator.message("title",this.state.title,"required")))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-5"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger Group"),r.a.createElement("select",{class:"form-control",onChange:this.onIdChange,value:this.state.id},r.a.createElement("option",{value:""},"Select"),this.state.arrLedgerGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})),this.validator.message("ledger group",this.state.id,"required|alpha_num_space"))),r.a.createElement("div",{class:"col-sm-1"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"\xa0"),r.a.createElement(u.b,{to:"/ledgerGroup",class:"btn btn-tool btn-sm"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"+")))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Opening Balance"),r.a.createElement("input",{type:"text",value:this.state.op,onChange:this.onOpChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-2"},r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",onChange:this.onCrdrChange,value:this.state.crdr},this.state.types.map(function(e){return r.a.createElement("option",{value:e.Type},e.Type)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Phone"),r.a.createElement("input",{type:"text",value:this.state.phone,onChange:this.onPhoneChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Address"),r.a.createElement("textarea",{multiline:!0,type:"text",value:this.state.address,onChange:this.onAddressChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save"))))))))))))))}}]),a}(n.Component);function ka(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Sa=function(e){Object(g.a)(a,e);var t=ka(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadLedgerList=function(e,t){fetch(pe+"/".concat(e)+"/".concat(t)).then(function(e){return e.json()}).then(function(e){n.setState({arrLedgers:e.items,totalCount:e.totalCount})})},n.handlePageChange=function(e){console.log("active page is ".concat(e)),n.setState({activePage:e},function(){var e=n.state.activePage,t=n.state.ledgerGroup;n.loadLedgerList(t,e)})},n.delRow=function(e){var t=n.state.arrLedgers;t.splice(e,1),n.setState({arrLedgers:t})},n.onLedgerGroupChange=function(e){n.setState({ledgerGroup:e.target.value},function(){var e=n.state.ledgerGroup,t=n.state.activePage;n.loadLedgerList(e,t)})},n.state={data:null,ledgerGroup:"0",activePage:1,totalCount:"",arrLedgerGroup:[],arrLedgers:[]},n.onLedgerGroupChange=n.onLedgerGroupChange.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.ledgerGroup,t=this.state.activePage;this.loadLedgerGroup(),this.loadLedgerList(e,t)}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(he).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerGroup:t})})}},{key:"render",value:function(){var e=this,t=this.state.arrLedgers.map(function(e,t){return r.a.createElement(Ta,{arrLedger:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Group"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.onLedgerGroupChange(t)},value:this.state.ledgerGroup},r.a.createElement("option",{value:""},"All"),this.state.arrLedgerGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})))),r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement(u.b,{to:"./ledgerCreate/0",class:"btn btn-tool btn-sm"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-fla"},"Create"))))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"45%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Phone"),r.a.createElement("th",{style:{width:"30%"}},"Group"),r.a.createElement("th",{style:{width:"10%"}}))),r.a.createElement("tbody",null,t))),r.a.createElement("div",{class:"card-footer clearfix"},r.a.createElement(da.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)})))))))))}}]),a}(n.Component),Ta=function(e){Object(g.a)(a,e);var t=ka(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.arrLedger;return r.a.createElement("tr",null,r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.phone),r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"./ledgerCreate/"+t.id_account_head,render:function(t){return r.a.createElement(Da,Object.assign({},t,{id_ledger:e.props.match.params.id_ledger}))}},r.a.createElement("i",{class:"fas fa-edit"})))))}}]),a}(r.a.Component),ja=Sa;function Oa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Ra=function(e){Object(g.a)(a,e);var t=Oa(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadVoucherList=function(e,t){fetch(re+"/'".concat(e,"'")+"/'".concat(t,"'")).then(function(e){return e.json()}).then(function(e){n.setState({arrVouchers:e})}),n.setState({id_ledger_from:"",id_ledger_to:"",amount:"",description:""}),console.log(n.state.arrVouchers)},n.saveVoucher=function(){if(n.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:n.formatDate(n.state.date),id_ledger_from:n.state.id_ledger_from,id_ledger_to:n.state.id_ledger_to,description:n.state.description,rate:n.state.rate,amount:n.state.amount,type:n.state.type,voucher_no:n.state.voucher_no,id_invoice:n.state.id_invoice})};fetch(le,e).then(function(e){e.json();var t=n.formatDate(n.state.date);n.loadVoucherList(t,n.state.type)})}else n.validator.showMessages(),n.forceUpdate()},n.delVoucher=function(e){Object(at.confirmAlert)({title:"Delete",message:"Are you sure?",buttons:[{label:"Yes",onClick:function(){fetch(ce+"/".concat(e)).then(function(e){e.json();var t=n.formatDate(n.state.date);n.loadVoucherList(t,n.state.type)})}},{label:"No"}]})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.onDateChange=function(e){n.setState({date:e},function(){var e=n.formatDate(n.state.date);n.loadVoucherList(e,n.state.type),n.loadAccountHead()})},n.delRow=function(e){var t=n.state.arrVouchers;t.splice(e,1),n.setState({arrVouchers:t})},n.state={data:null,date:new Date,id_ledger_from:"",id_ledger_to:"",description:"",rate:"",amount:"",type:"Payment",voucher_no:0,id_invoice:0,ledger:"",arrLedgerFrom:[],arrLedgerTo:[],arrVouchers:[],arrType:[{type:"Payment"},{type:"Receipt"},{type:"Transfer"}]},n.onAmountChange=n.onAmountChange.bind(Object(p.a)(n)),n.onTypeChange=n.onTypeChange.bind(Object(p.a)(n)),n.onDescriptionChange=n.onDescriptionChange.bind(Object(p.a)(n)),n.onLedgerFromChange=n.onLedgerFromChange.bind(Object(p.a)(n)),n.onLedgerToChange=n.onLedgerToChange.bind(Object(p.a)(n)),n.onDateChange=n.onDateChange.bind(Object(p.a)(n)),n.validator=new tt.a,n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.date,t=this.props.match.params.type;e?this.setState({date:new Date(e),type:t}):(e=this.formatDate(this.state.date),t=this.state.type),this.loadAccountHead(),this.loadVoucherList(e,t)}},{key:"loadAccountHead",value:function(){var e=this,t=Qe,a=-1*Qe;"Receipt"==this.state.type?(t=-1*Qe,a=Qe+","+Ze+","+$e):"Payment"==this.state.type?(t=Qe+","+Ze+","+$e,a=-1*Qe):"Transfer"==this.state.type&&(t=Qe,a=Qe),fetch("".concat(pe,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerFrom:t})}),fetch("".concat(pe,"/").concat(a)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgerTo:t})})}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"onTypeChange",value:function(e){var t=this;this.setState({type:e.target.value},function(){t.loadVoucherList(t.formatDate(t.state.date),t.state.type),t.loadAccountHead()})}},{key:"onAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"onLedgerFromChange",value:function(e){this.setState({id_ledger_from:e.target.value})}},{key:"onLedgerToChange",value:function(e){this.setState({id_ledger_to:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(Ia,{arrVoucher:t,arrLedger:e.state.arrLedger,delVoucher:e.delVoucher})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Voucher"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)}))))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerFromChange,value:this.state.id_ledger_from},r.a.createElement("option",null,"--Select--"),this.state.arrLedgerFrom.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("from",this.state.id_ledger_from,"required|numeric"))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerToChange,value:this.state.id_ledger_to},r.a.createElement("option",null,"--Select--"),this.state.arrLedgerTo.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})),this.validator.message("to",this.state.id_ledger_to,"required|numeric")))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Remarks"),r.a.createElement("input",{type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"text",value:this.state.amount,onChange:this.onAmountChange,class:"form-control"}),this.validator.message("amount",this.state.amount,"required|numeric"))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveVoucher},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"From"),r.a.createElement("th",{style:{width:"25%"}},"To"),r.a.createElement("th",{style:{width:"25%"}},"Remarks"),r.a.createElement("th",{style:{width:"25%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),a}(n.Component),Ia=function(e){Object(g.a)(a,e);var t=Oa(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.acc_from),r.a.createElement("td",null,t.acc_to),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",onClick:function(){return e.props.delVoucher(t.id_account_voucher)},class:"btn btn-outline-danger"},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),a}(r.a.Component),Pa=Ra;function Va(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Aa=function(e){Object(g.a)(a,e);var t=Va(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadVoucherList=function(e,t,a,r){fetch(ue+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(a)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){n.setState({arrVouchers:e.items,totalCount:e.totalCount,receiptTotal:e.receipt,paymentTotal:e.payment})}),n.loadOp(e,t,a)},n.handlePageChange=function(e){console.log("active page is ".concat(e)),n.setState({activePage:e},function(){var e=n.state.activePage,t=n.formatDate(n.state.dateFrom),a=n.formatDate(n.state.dateTo),r=n.state.id_ledger;n.loadVoucherList(t,a,r,e)})},n.loadOp=function(e,t,a){fetch(de+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(a)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({op:e[0].opening_bal})}),console.log(n.state.arrVouchers)},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.onDateFromChange=function(e){n.setState({dateFrom:e})},n.onDateToChange=function(e){n.setState({dateTo:e})},n.delRow=function(e){var t=n.state.arrVouchers;t.splice(e,1),n.setState({arrVouchers:t})},n.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:0,activePage:1,totalCount:"",receiptTotal:0,paymentTotal:0,arrLedger:[],arrVouchers:[]},n.onLedgerChange=n.onLedgerChange.bind(Object(p.a)(n)),n.onDateFromChange=n.onDateFromChange.bind(Object(p.a)(n)),n.onDateToChange=n.onDateToChange.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.dateFrom),t=this.formatDate(this.state.dateTo),a=this.state.id_ledger,n=this.state.activePage;this.loadOp(e,t,a),this.loadVoucherList(e,t,a,n),this.loadAccountHead()}},{key:"loadAccountHead",value:function(){var e=this;fetch(fe).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:t})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(La,{arrVoucher:t,arrLedger:e.state.arrLedger})}),a=(this.state.arrVouchers.reduce(function(e,t){return+e+ +t.receipt},0),this.state.arrVouchers.reduce(function(e,t){return+e+ +t.payment},0),Math.round(100*(-1*this.state.op+this.state.paymentTotal-this.state.receiptTotal))/100||0),n=a>=0?"".concat(a," DR"):"".concat(-1*a," CR"),c=Math.round(100*this.state.op)/100||0;return c=c>=0?"".concat(c," CR"):"".concat(-1*c," DR"),r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Ledger Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group float-right"},r.a.createElement("label",null,"Opening Balance :"),r.a.createElement("label",null,c))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadVoucherList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo),e.state.id_ledger,e.state.activePage)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Date"),r.a.createElement("th",{style:{width:"15%"}},"Type"),r.a.createElement("th",{style:{width:"20%"}},"Description"),r.a.createElement("th",{style:{width:"10%"}},"Debit"),r.a.createElement("th",{style:{width:"10%"}},"Credit"),r.a.createElement("th",{style:{width:"10%"}},"Balance"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},Math.round(100*this.state.paymentTotal)/100||0),r.a.createElement("th",{align:"right"},Math.round(100*this.state.receiptTotal)/100||0),r.a.createElement("th",{align:"right"},n)))),r.a.createElement("div",{class:"card-footer clearfix"},r.a.createElement(da.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChange.bind(this)}),r.a.createElement("button",{onClick:function(){window.open("./#/ledgerReportPdf/".concat(e.state.id_ledger,"/").concat(e.formatDate(e.state.dateFrom),"/").concat(e.formatDate(e.state.dateTo),"/"),"_blank")},type:"submit",class:"btn btn-primary"},"Print")))))))))}}]),a}(n.Component),La=function(e){Object(g.a)(a,e);var t=Va(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrVoucher,t=e.date.split("/").reverse().join("-");return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,Math.round(100*e.payment)/100||0),r.a.createElement("td",null,Math.round(100*e.receipt)/100||0),r.a.createElement("td",{align:"right"},"1"==e.vchr_type&&r.a.createElement(u.b,{to:"./voucher/".concat(t,"/").concat(e.type),render:function(e){return r.a.createElement(Pa,null)}},r.a.createElement("i",{class:"fas fa-edit"})," ")))}}]),a}(r.a.Component),Na=Aa;function Fa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Ma=function(e){Object(g.a)(a,e);var t=Fa(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadAccountHead=function(e){fetch("".concat(se,"/").concat(e)).then(function(e){return e.json()}).then(function(e){n.setState({ledger:e[0].account_head})})},n.loadVoucherList=function(e,t,a){fetch(ue+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(a)+"/".concat(1,"/0")).then(function(e){return e.json()}).then(function(e){n.setState({arrVouchers:e.items,totalCount:e.totalCount,receiptTotal:e.receipt,paymentTotal:e.payment})})},n.loadOp=function(e,t,a){fetch(de+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(a)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({op:e[0].opening_bal})}),console.log(n.state.arrVouchers)},n.state={data:null,dateFrom:"",dateTo:"",id_ledger:"",ledger:"",op:0,activePage:1,totalCount:"",receiptTotal:0,paymentTotal:0,arrLedger:[],arrVouchers:[]},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.from_date,t=this.props.match.params.to_date,a=this.props.match.params.id_account_head;this.setState({dateFrom:e,dateTo:t}),this.loadOp(e,t,a),this.loadVoucherList(e,t,a),this.loadAccountHead(a)}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(Ba,{arrVoucher:t,arrLedger:e.state.arrLedger})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.receipt},0),n=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.payment},0),c=Math.round(100*(-1*this.state.op+this.state.paymentTotal-this.state.receiptTotal))/100||0,l=parseInt(this.state.op)||0;return a+=l>0?l:0,n+=l<0?-1*l:0,r.a.createElement(Et.PDFViewer,{style:{width:"100%",height:700}},r.a.createElement(Et.Document,null,r.a.createElement(Et.Page,{size:"A4",style:Ha.page},r.a.createElement(Et.View,{style:Ha.top}),r.a.createElement(Et.View,{style:{flexDirection:"column"}},r.a.createElement(Et.View,{style:Ha.container1},r.a.createElement(Et.View,{style:Ha.section},r.a.createElement(Et.Text,{style:Ha.headerTxt},"AQUASIGN EXPORTS"),r.a.createElement(Et.Text,{style:Ha.address},"5-27, M-1. Maria Street, Kanyakumari Dist")),r.a.createElement(Et.View,{style:Ha.sectionTopRight},r.a.createElement(Et.View,{style:Ha.box},r.a.createElement(Et.Text,{style:[Ha.right,{textDecoration:"underline"}]},"LEDGER REPORT")),r.a.createElement(Et.View,{style:Ha.box},r.a.createElement(Et.Text,{style:Ha.right},this.state.ledger)),r.a.createElement(Et.View,{style:Ha.box},r.a.createElement(Et.Text,{style:Ha.right},"".concat(this.state.dateFrom," to ").concat(this.state.dateTo))))),r.a.createElement(Et.View,{style:Ha.tableRow},r.a.createElement(Et.Text,{style:[Ha.col1,Ha.bold]},"DATE"),r.a.createElement(Et.Text,{style:[Ha.col2,Ha.bold]},"TYPE"),r.a.createElement(Et.Text,{style:[Ha.col3,Ha.bold]},"NARRATION"),r.a.createElement(Et.Text,{style:[Ha.col4,Ha.bold]},"DEBIT"),r.a.createElement(Et.Text,{style:[Ha.col5,Ha.bold]},"CREDIT")),r.a.createElement(Et.View,{style:Ha.tableRow},r.a.createElement(Et.Text,{style:Ha.col1}),r.a.createElement(Et.Text,{style:Ha.col2}),r.a.createElement(Et.Text,{style:Ha.col3},"Opening Balance"),r.a.createElement(Et.Text,{style:Ha.col4},l<0&&-1*l),r.a.createElement(Et.Text,{style:Ha.col5},l>0&&l)),t,r.a.createElement(Et.View,{style:Ha.tableRow},r.a.createElement(Et.Text,{style:Ha.col1}),r.a.createElement(Et.Text,{style:[Ha.col2,Ha.bold]}),r.a.createElement(Et.Text,{style:[Ha.col3,Ha.bold]},"Total"),r.a.createElement(Et.Text,{style:[Ha.col4,Ha.bold]},n),r.a.createElement(Et.Text,{style:[Ha.col5,Ha.bold]},a)),r.a.createElement(Et.View,{style:Ha.tableRow},r.a.createElement(Et.Text,{style:Ha.col1}),r.a.createElement(Et.Text,{style:[Ha.col2,Ha.bold]}),r.a.createElement(Et.Text,{style:[Ha.col3,Ha.bold]},"Closing Balance"),r.a.createElement(Et.Text,{style:[Ha.col4,Ha.bold]},c>0&&c+" DR"),r.a.createElement(Et.Text,{style:[Ha.col5,Ha.bold]},c<0&&-1*c+" CR"))))))}}]),a}(n.Component),Ba=function(e){Object(g.a)(a,e);var t=Fa(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement(Et.View,{style:Ha.tableRow},r.a.createElement(Et.Text,{style:Ha.col1},e.date),r.a.createElement(Et.Text,{style:Ha.col2},e.type),r.a.createElement(Et.Text,{style:Ha.col3},e.narration),r.a.createElement(Et.Text,{style:Ha.col4},Math.round(100*e.payment)/100||0),r.a.createElement(Et.Text,{style:Ha.col5},Math.round(100*e.receipt)/100||0))}}]),a}(r.a.Component),za=Ma,Ha=Et.StyleSheet.create({tableRow:{flexDirection:"row",paddingVertical:5,borderBottomColor:"#CCC",borderBottomWidth:1},col1:{width:"15%",fontSize:10},col2:{width:"10%",fontSize:10},col3:{width:"45%",fontSize:10},col4:{width:"15%",textAlign:"right",fontSize:10},col5:{width:"15%",textAlign:"right",fontSize:10},page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between",padding:5},sectionTopRight:{paddingVertical:5,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{fontSize:10,textAlign:"right"},right:{fontSize:10,textAlign:"left",paddingHorizontal:10,fontFamily:"Roboto"},address:{color:"#034a7e",fontSize:10,fontFamily:"Roboto"},headerTxt:{fontSize:13,fontFamily:"Roboto"},bold:{fontFamily:"Roboto"}});function Ga(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Ua=function(e){Object(g.a)(a,e);var t=Ga(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).saveLedger=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ledger:n.state.ledger})};fetch(me,e).then(function(e){return e.json()}),n.loadLedgerGroup()},n.delRow=function(e){var t=n.state.arrLedgers;t.splice(e,1),n.setState({arrLedgers:t})},n.state={data:null,ledger:"",arrLedgers:[]},n.onLedgerChange=n.onLedgerChange.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.loadLedgerGroup()}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(he).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedgers:t})})}},{key:"onLedgerChange",value:function(e){this.setState({ledger:e.target.value})}},{key:"render",value:function(){var e=this.state.arrLedgers.map(function(e,t){return r.a.createElement(Ka,{arrLedger:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Ledger Group"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:this.state.ledger,onChange:this.onLedgerChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"100%"}},"Name"))),r.a.createElement("tbody",null,e))))))))))}}]),a}(n.Component),Ka=function(e){Object(g.a)(a,e);var t=Ga(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrLedger;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name))}}]),a}(r.a.Component),Wa=Ua;function Ya(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var qa=function(e){Object(g.a)(a,e);var t=Ya(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadCredit=function(e,t,a,r){fetch(ve+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(a)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){n.setState({arrCreditVouchers:e.items||[],totalCountCredit:e.totalCountCredit,totalCredit:e.totalCredit})})},n.loadDebit=function(e,t,a,r){fetch(be+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(a)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){n.setState({arrDebitVouchers:e.items||[],totalCountDebit:e.totalCountDebit,totalDebit:e.totalDebit})})},n.loadOp=function(e,t){fetch(Ee+"/'".concat(e,"'")+"/".concat(t)).then(function(e){return e.json()}).then(function(e){n.setState({op:e[0].balance?e[0].balance:0})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.onDateFromChange=function(e){n.setState({dateFrom:e},function(){n.formatDate(n.state.dateFrom),n.formatDate(n.state.dateTo)})},n.onDateToChange=function(e){n.setState({dateTo:e},function(){n.formatDate(n.state.dateFrom),n.formatDate(n.state.dateTo)})},n.onLedgerChange=function(e){n.setState({id_ledger:e.target.value},function(){})},n.loadCashBook=function(){var e=n.formatDate(n.state.dateFrom),t=n.formatDate(n.state.dateTo),a=n.state.id_ledger,r=n.state.activePage;n.loadCredit(e,t,a,r),n.loadDebit(e,t,a,r),n.loadOp(e,a)},n.handlePageChangeCredit=function(e){console.log("active page is ".concat(e)),n.setState({activePage:e},function(){var e=n.formatDate(n.state.dateFrom),t=n.formatDate(n.state.dateTo),a=n.state.id_ledger,r=n.state.activePage;n.loadCredit(e,t,a,r)})},n.handlePageChangeDebit=function(e){console.log("active page is ".concat(e)),n.setState({activePage:e},function(){var e=n.formatDate(n.state.dateFrom),t=n.formatDate(n.state.dateTo),a=n.state.id_ledger,r=n.state.activePage;n.loadDebit(e,t,a,r)})},n.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:"",activePage:1,totalCountDebit:"",totalCountCredit:"",arrLedger:[],arrCreditVouchers:[],arrDebitVouchers:[],totalDebit:0,totalCredit:0},n.onLedgerChange=n.onLedgerChange.bind(Object(p.a)(n)),n.onDateFromChange=n.onDateFromChange.bind(Object(p.a)(n)),n.onDateToChange=n.onDateToChange.bind(Object(p.a)(n)),n.loadCashBook=n.loadCashBook.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.loadAccountHead()}},{key:"loadAccountHead",value:function(){var e=this,t=Qe;fetch("".concat(fe,"/").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({arrLedger:[{id_account_head:0,account_head:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"render",value:function(){var e=this,t=this.state.arrCreditVouchers.map(function(e,t){return r.a.createElement(Qa,{arrCredit:e})}),a=this.state.arrDebitVouchers.map(function(e,t){return r.a.createElement(Ja,{arrVoucher:e})}),n=this.state.totalCredit,c=this.state.totalDebit,l=this.state.op+c-n;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Cash Book"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},this.state.arrLedger.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.account_head)}))))),r.a.createElement("div",{class:"row"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.loadCashBook},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Opening Balance :"),r.a.createElement("label",null,this.state.op)))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement(da.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCountDebit,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChangeDebit.bind(this)}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement(da.a,{innerClass:"pagination pagination-sm float-right",activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:this.state.totalCountCredit,pageRangeDisplayed:5,itemClass:"page-item",itemClassPrev:"page-item",itemClassNext:"page-item",itemClassFirst:"page-item",itemClassLast:"page-item",linkClass:"page-link",linkClassFirst:"page-link",linkClassPrev:"page-link",linkClassNext:"page-link",linkClassLast:"page-link",onChange:this.handlePageChangeCredit.bind(this)})))))),r.a.createElement("tbody",null)),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Date"),r.a.createElement("th",{style:{width:"30%"}},"Name"),r.a.createElement("th",{style:{width:"30%"}},"Particulars"),r.a.createElement("th",{style:{width:"25%"}},"Receipt"))),r.a.createElement("tbody",null,a),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},c)))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-warning"},r.a.createElement("div",{class:"card-body"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"Date"),r.a.createElement("th",{style:{width:"30%"}},"Name"),r.a.createElement("th",{style:{width:"30%"}},"Particulars"),r.a.createElement("th",{style:{width:"25%"}},"Payment"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},n))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-footer"},r.a.createElement("label",null,"Balance : ",l),r.a.createElement("button",{onClick:function(){window.open("./#/cashBookPdf/".concat(e.state.id_ledger,"/").concat(e.formatDate(e.state.dateFrom),"/").concat(e.formatDate(e.state.dateTo),"/"),"_blank")},type:"submit",class:"btn btn-primary float-right"},"Print")))))))))))))}}]),a}(n.Component),Ja=function(e){Object(g.a)(a,e);var t=Ya(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,e.debit))}}]),a}(r.a.Component),Qa=function(e){Object(g.a)(a,e);var t=Ya(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrCredit;return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.narration),r.a.createElement("td",null,e.credit))}}]),a}(r.a.Component),Xa=qa;function Za(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var $a=function(e){Object(g.a)(a,e);var t=Za(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadCashBook=function(e,t,a){n.loadCredit(e,t,a,"0/0"),n.loadDebit(e,t,a,"0/0"),n.loadOp(e,a)},n.loadAccountHead=function(e){fetch("".concat(se,"/").concat(e)).then(function(e){return e.json()}).then(function(e){n.setState({ledger:e[0].account_head})})},n.loadCredit=function(e,t,a,r){fetch(ve+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(a)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){n.setState({arrCreditVouchers:e.items||[],totalCountCredit:e.totalCountCredit,totalCredit:e.totalCredit})})},n.loadDebit=function(e,t,a,r){fetch(be+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(a)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){n.setState({arrDebitVouchers:e.items||[],totalCountDebit:e.totalCountDebit,totalDebit:e.totalDebit})})},n.loadOp=function(e,t){fetch(Ee+"/'".concat(e,"'")+"/".concat(t)).then(function(e){return e.json()}).then(function(e){n.setState({op:e?e[0].balance:0})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.state={data:null,dateFrom:new Date,dateTo:new Date,id_ledger:"",ledger:"",op:"",activePage:1,totalCountDebit:"",totalCountCredit:"",arrLedger:[],arrCreditVouchers:[],arrDebitVouchers:[],totalDebit:0,totalCredit:0},n.loadCashBook=n.loadCashBook.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.from_date,t=this.props.match.params.to_date,a=this.props.match.params.id_account_head;this.setState({dateFrom:e,dateTo:t}),this.loadAccountHead(a),this.loadCashBook(e,t,a)}},{key:"render",value:function(){var e=this.state.arrCreditVouchers.map(function(e,t){return r.a.createElement(tn,{arrVoucher:e})}),t=this.state.arrDebitVouchers.map(function(e,t){return r.a.createElement(en,{arrVoucher:e})}),a=this.state.totalCredit,n=this.state.totalDebit,c=this.state.op+n-a;return r.a.createElement(Et.PDFViewer,{style:{width:"100%",height:700}},r.a.createElement(Et.Document,null,r.a.createElement(Et.Page,{size:"A4",style:nn.page},r.a.createElement(Et.View,{style:nn.top}),r.a.createElement(Et.View,{style:{flexDirection:"column"}},r.a.createElement(Et.View,{style:nn.container1},r.a.createElement(Et.View,{style:nn.section},r.a.createElement(Et.Text,{style:nn.headerTxt},"AQUASIGN EXPORTS"),r.a.createElement(Et.Text,{style:nn.address},"5-27, M-1. Maria Street, Kanyakumari Dist")),r.a.createElement(Et.View,{style:nn.sectionTopRight},r.a.createElement(Et.View,{style:nn.box},r.a.createElement(Et.Text,{style:[nn.right,{textDecoration:"underline"}]},"CASH BOOK")),r.a.createElement(Et.View,{style:nn.box},r.a.createElement(Et.Text,{style:nn.right},this.state.ledger)),r.a.createElement(Et.View,{style:nn.box},r.a.createElement(Et.Text,{style:nn.right},"".concat(this.state.dateFrom," to ").concat(this.state.dateTo))))),r.a.createElement(Et.Text,{style:nn.txtBalance},"Opening Balance: ",Math.round(parseInt(this.state.op))||0),r.a.createElement(Et.View,{style:nn.tblContainer},r.a.createElement(Et.View,{style:nn.tblWrapper},r.a.createElement(Et.View,{style:[nn.tableRow,nn.bg]},r.a.createElement(Et.Text,{style:[nn.col1,nn.bold]},"DATE"),r.a.createElement(Et.Text,{style:[nn.col2,nn.bold]},"NAME"),r.a.createElement(Et.Text,{style:[nn.col3,nn.bold]},"PARTICULARS"),r.a.createElement(Et.Text,{style:[nn.col4,nn.bold]},"RECEIPT")),t,r.a.createElement(Et.View,{style:nn.tableRow},r.a.createElement(Et.Text,{style:[nn.col1,nn.bold]}),r.a.createElement(Et.Text,{style:[nn.col2,nn.bold]},"Total"),r.a.createElement(Et.Text,{style:[nn.col3,nn.bold]}),r.a.createElement(Et.Text,{style:[nn.col4,nn.bold]},n))),r.a.createElement(Et.View,{style:nn.tblWrapper},r.a.createElement(Et.View,{style:[nn.tableRow,nn.bg]},r.a.createElement(Et.Text,{style:[nn.col1,nn.bold]},"DATE"),r.a.createElement(Et.Text,{style:[nn.col2,nn.bold]},"NAME"),r.a.createElement(Et.Text,{style:[nn.col3,nn.bold]},"PARTICULARS"),r.a.createElement(Et.Text,{style:[nn.col4,nn.bold]},"PAYMENT")),e,r.a.createElement(Et.View,{style:nn.tableRow},r.a.createElement(Et.Text,{style:[nn.col1,nn.bold]}),r.a.createElement(Et.Text,{style:[nn.col2,nn.bold]},"Total"),r.a.createElement(Et.Text,{style:[nn.col3,nn.bold]}),r.a.createElement(Et.Text,{style:[nn.col4,nn.bold]},a)))),r.a.createElement(Et.Text,{style:nn.txtBalance},"Closing Balance: ",Math.round(parseInt(c))||0),r.a.createElement(Et.View,{style:nn.top})))))}}]),a}(n.Component),en=function(e){Object(g.a)(a,e);var t=Za(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement(Et.View,{style:nn.tableRow},r.a.createElement(Et.Text,{style:nn.col1},e.date),r.a.createElement(Et.Text,{style:nn.col2},e.name),r.a.createElement(Et.Text,{style:nn.col3},e.narration),r.a.createElement(Et.Text,{style:nn.col4},Math.round(parseInt(e.debit))||0))}}]),a}(r.a.Component),tn=function(e){Object(g.a)(a,e);var t=Za(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement(Et.View,{style:nn.tableRow},r.a.createElement(Et.Text,{style:nn.col1},e.date),r.a.createElement(Et.Text,{style:nn.col2},e.name),r.a.createElement(Et.Text,{style:nn.col3},e.narration),r.a.createElement(Et.Text,{style:nn.col4},Math.round(parseInt(e.credit))||0))}}]),a}(r.a.Component),an=$a,nn=Et.StyleSheet.create({tblContainer:{flexDirection:"row"},tblWrapper:{width:"50%",padding:5},tableRow:{flexDirection:"row",paddingVertical:5,borderBottomColor:"#CCC",borderBottomWidth:1},col1:{width:"20%",fontSize:10},col2:{width:"30%",fontSize:10},col3:{width:"30%",fontSize:10,textAlign:"right"},col4:{width:"20%",textAlign:"right",fontSize:10},page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between",padding:5},sectionTopRight:{paddingVertical:5,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{fontSize:10,textAlign:"right"},right:{fontSize:10,textAlign:"left",paddingHorizontal:10,fontFamily:"Roboto"},txtBalance:{fontSize:10,textAlign:"right",padding:10,width:"100%",fontFamily:"Roboto",margin:5},address:{color:"#034a7e",fontSize:10,fontFamily:"Roboto"},headerTxt:{fontSize:13,fontFamily:"Roboto"},bold:{fontFamily:"Roboto"},bg:{backgroundColor:"#fa6a44"}}),rn=(a(76),function(e){return e.arrVouchers.map(function(e,t){return r.a.createElement(ln,e)})}),cn=function(e){return r.a.createElement(Et.Document,null,r.a.createElement(Et.Page,{size:"A4",style:on.page},r.a.createElement(Et.View,{style:on.top}),r.a.createElement(Et.View,{style:on.container1},r.a.createElement(Et.View,{style:on.section},r.a.createElement(Et.Text,null,"AQUASIGN EXPORTS"),r.a.createElement(Et.Text,{style:on.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(Et.View,{style:on.sectionTopRight},r.a.createElement(Et.View,{style:on.box},r.a.createElement(Et.Text,{style:on.left},"SUNDRY CREDITORS")),r.a.createElement(Et.View,{style:on.box},r.a.createElement(Et.Text,{style:on.left},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))))),r.a.createElement(Et.View,{style:on.tableHeader},r.a.createElement(Et.Text,{style:on.col1},"NAME"),r.a.createElement(Et.Text,{style:on.col2},"CLOSING BALANCE")),r.a.createElement(Et.View,null,r.a.createElement(rn,e)),r.a.createElement(Et.View,{style:on.tableData},r.a.createElement(Et.Text,{style:on.col1}),r.a.createElement(Et.Text,{style:[on.col2,{fontFamily:"Roboto"}]},Math.round(e.arrVouchers.reduce(function(e,t){return+e+ +t.closing_balance},0)))),r.a.createElement(Et.View,{style:on.top})))},ln=function(e){var t=e,a=e.rate||1;return r.a.createElement(Et.View,{style:on.tableData},r.a.createElement(Et.Text,{style:on.col1},e.account_head),r.a.createElement(Et.Text,{style:on.col2},Math.round(t.closing_balance*a)))};Et.Font.register({family:"Roboto",src:a(41)}),Et.Font.register({family:"Roboto-Italic",src:a(63)});var on=Et.StyleSheet.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:10,padding:10,paddingHorizontal:10,width:"50%"},section3rd:{margin:10,padding:10,paddingHorizontal:10,width:"30%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"70%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"30%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{fontSize:10,textAlign:"right",fontFamily:"Roboto",padding:5},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{fontSize:10,textAlign:"left"},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}});function sn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var un=function(e){Object(g.a)(a,e);var t=sn(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onDateChange=function(e){n.setState({date:e})},n.loadSundryCreditors=function(e){var t=n.formatDate(n.state.date);fetch(oe+"/".concat(e,"/'").concat(t,"'")).then(function(e){return e.json()}).then(function(e){n.setState({arrVouchers:e})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.delRow=function(e){var t=n.state.arrVouchers;t.splice(e,1),n.setState({arrVouchers:t})},n.state={showPdf:!1,data:null,id_ledger_group:"0",ledger:"",arrGroup:[],arrVouchers:[],rates:[],date:new Date},n.onLedgerChange=n.onLedgerChange.bind(Object(p.a)(n)),n.changeRate=n.changeRate.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.id_ledger_group;this.loadSundryCreditors(e),this.loadGroup()}},{key:"changeRate",value:function(e,t){var a=this.state.rates,n=this.state.arrVouchers.filter(function(t){return t.account_head==e});a[this.state.arrVouchers.indexOf(n[0])]=t,this.setState({rates:a})}},{key:"loadGroup",value:function(){var e=this;fetch(he).then(function(e){return e.json()}).then(function(t){return e.setState({arrGroup:[{id_ledger_group:0,name:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_group:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(dn,{arrVoucher:t,rate:e.state.rates[a],changeRate:e.changeRate})}),a=this.state.rates,n=this.state.arrVouchers.reduce(function(e,t,n){var r=a[n]||1;return+e+ +t.closing_balance*r},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Sundry Creditor"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Group"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.onLedgerChange(t)},value:this.state.id_ledger_group},this.state.arrGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadSundryCreditors(e.state.id_ledger_group)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"35%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Group"),r.a.createElement("th",{style:{width:"15%"}},"Conv Rate"),r.a.createElement("th",{style:{width:"20%"}},"Closing Balance"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{style:{textAlign:"right"}},Math.round(n)," CR")))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!0})},type:"submit",class:"btn btn-primary float-right"},"Print"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(Et.PDFViewer,{style:{width:"100%",height:500}},r.a.createElement(cn,{arrVouchers:this.state.arrVouchers,date:this.formatDate(this.state.date)})))))))))))}}]),a}(n.Component),dn=function(e){Object(g.a)(a,e);var t=sn(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"handleChangeRate",value:function(e,t){this.props.changeRate(e,t.target.value)}},{key:"render",value:function(){var e=this,t=this.props.arrVoucher,a=this.props.rate||1;return r.a.createElement("tr",null,r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.ledger_group),r.a.createElement("td",null,r.a.createElement("input",{type:"text",style:{textAlign:"right",width:100},onChange:function(a){return e.handleChangeRate(t.account_head,a)},value:this.props.rate})),r.a.createElement("td",{align:"right"},Math.round(t.closing_balance*a)))}}]),a}(r.a.Component),mn=un,hn=(a(76),function(e){return e.arrVouchers.map(function(t,a){return r.a.createElement(pn,Object.assign({},t,{rate:e.rates[a]}))})}),fn=function(e){return r.a.createElement(Et.Document,null,r.a.createElement(Et.Page,{size:"A4",style:gn.page},r.a.createElement(Et.View,{style:gn.top}),r.a.createElement(Et.View,{style:gn.container1},r.a.createElement(Et.View,{style:gn.section},r.a.createElement(Et.Text,null,"AQUASIGN EXPORTS"),r.a.createElement(Et.Text,{style:gn.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(Et.View,{style:gn.sectionTopRight},r.a.createElement(Et.View,{style:gn.box},r.a.createElement(Et.Text,{style:gn.left},"SUNDRY DEBTORS")),r.a.createElement(Et.View,{style:gn.box},r.a.createElement(Et.Text,{style:gn.left},function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join("/")}(e.date))))),r.a.createElement(Et.View,{style:gn.tableHeader},r.a.createElement(Et.Text,{style:gn.col1},"NAME"),r.a.createElement(Et.Text,{style:gn.col2},"CLOSING BALANCE")),r.a.createElement(Et.View,null,r.a.createElement(hn,e)),r.a.createElement(Et.View,{style:gn.tableData},r.a.createElement(Et.Text,{style:gn.col1}),r.a.createElement(Et.Text,{style:[gn.col2,{fontFamily:"Roboto"}]},-1*Math.round(e.arrVouchers.reduce(function(e,t){return+e+ +t.closing_balance},0)))),r.a.createElement(Et.View,{style:gn.top})))},pn=function(e){var t=e,a=e.rate||1;return r.a.createElement(Et.View,{style:gn.tableData},r.a.createElement(Et.Text,{style:gn.col1},e.account_head),r.a.createElement(Et.Text,{style:gn.col2},-1*Math.round(t.closing_balance*a)))};Et.Font.register({family:"Roboto",src:a(41)}),Et.Font.register({family:"Roboto-Italic",src:a(63)});var gn=Et.StyleSheet.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:10,padding:10,paddingHorizontal:10,width:"50%"},section3rd:{margin:10,padding:10,paddingHorizontal:10,width:"30%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"70%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"30%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"25%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{fontSize:10,textAlign:"right",fontFamily:"Roboto",padding:5},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{fontSize:10,textAlign:"left"},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}});function En(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var vn=function(e){Object(g.a)(a,e);var t=En(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onDateChange=function(e){n.setState({date:e})},n.loadSundryCreditors=function(e){var t=n.formatDate(n.state.date);fetch(ie+"/".concat(e,"/'").concat(t,"'")).then(function(e){return e.json()}).then(function(e){n.setState({arrVouchers:e})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.delRow=function(e){var t=n.state.arrVouchers;t.splice(e,1),n.setState({arrVouchers:t})},n.state={showPdf:!1,data:null,id_ledger_group:"0",ledger:"",arrGroup:[],arrVouchers:[],rates:[],date:new Date},n.onLedgerChange=n.onLedgerChange.bind(Object(p.a)(n)),n.changeRate=n.changeRate.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.id_ledger_group;this.loadSundryCreditors(e),this.loadGroup()}},{key:"changeRate",value:function(e,t){var a=this.state.rates,n=this.state.arrVouchers.filter(function(t){return t.account_head==e});a[this.state.arrVouchers.indexOf(n[0])]=t,this.setState({rates:a})}},{key:"loadGroup",value:function(){var e=this;fetch(he).then(function(e){return e.json()}).then(function(t){return e.setState({arrGroup:[{id_ledger_group:0,name:"--SELECT--"}].concat(Object(m.a)(t))})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger_group:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(t,a){return r.a.createElement(bn,{arrVoucher:t,rate:e.state.rates[a],changeRate:e.changeRate})}),a=this.state.rates,n=this.state.arrVouchers.reduce(function(e,t,n){var r=a[n]||1;return+e+ +t.closing_balance*r},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Sundry Debtor"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Group"),r.a.createElement("select",{class:"form-control",onChange:function(t){return e.onLedgerChange(t)},value:this.state.id_ledger_group},this.state.arrGroup.map(function(e){return r.a.createElement("option",{value:e.id_ledger_group},e.name)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateChange,value:this.state.date,format:"dd/MM/yyyy"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadSundryCreditors(e.state.id_ledger_group)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"35%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Group"),r.a.createElement("th",{style:{width:"15%"}},"Conv Rate"),r.a.createElement("th",{style:{width:"20%"}},"Closing Balance"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{style:{textAlign:"right"}},-1*Math.round(n)," DR"))))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!0})},type:"submit",class:"btn btn-primary float-right"},"Print"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(Et.PDFViewer,{style:{width:"100%",height:500}},r.a.createElement(fn,{arrVouchers:this.state.arrVouchers,rates:this.state.rates,date:this.formatDate(this.state.date)})))))))))))}}]),a}(n.Component),bn=function(e){Object(g.a)(a,e);var t=En(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"handleChangeRate",value:function(e,t){this.props.changeRate(e,t.target.value)}},{key:"render",value:function(){var e=this,t=this.props.arrVoucher,a=this.props.rate||1;return r.a.createElement("tr",null,r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.ledger_group),r.a.createElement("td",null,r.a.createElement("input",{type:"text",style:{textAlign:"right",width:100},onChange:function(a){return e.handleChangeRate(t.account_head,a)},value:this.props.rate})),r.a.createElement("td",{align:"right"},-1*Math.round(t.closing_balance*a)))}}]),a}(r.a.Component),yn=vn;function Cn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var wn=function(e){Object(g.a)(a,e);var t=Cn(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={data:null,ledger:"",arrProducts:[]},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.loadLedgerGroup()}},{key:"loadLedgerGroup",value:function(){var e=this;fetch(ye).then(function(e){return e.json()}).then(function(t){return e.setState({arrProducts:t})})}},{key:"render",value:function(){var e=this.state.arrProducts.map(function(e,t){return r.a.createElement(xn,{arrProduct:e})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Products"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Name"),r.a.createElement("th",{style:{width:"25%"}},"Purchase Price"),r.a.createElement("th",{style:{width:"25%"}},"Selling Price"))),r.a.createElement("tbody",null,e))))))))))}}]),a}(n.Component),xn=function(e){Object(g.a)(a,e);var t=Cn(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrProduct;return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.purchase_price),r.a.createElement("td",null,e.selling_price))}}]),a}(r.a.Component),_n=wn;function Dn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var kn=function(e){Object(g.a)(a,e);var t=Dn(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadVoucherList=function(e){fetch(De+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({date:e[0].date,voucher_no:e[0].voucher_no,ledger:e[0].account_head,op:e[0]._old_balance})})},n.loadVoucherItemsList=function(e){fetch(ke+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({arrVoucherItems:e})})},n.loadVoucherExpList=function(e){fetch(Se+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({arrVoucherExps:e})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.delRow=function(e){var t=n.state.arrVouchers;t.splice(e,1),n.setState({arrVouchers:t})},n.state={data:null,date:"",voucher_no:"",op:"",ledger:"",arrVouchers:[],arrVoucherItems:[],arrVoucherExps:[],arrVoucherTotals:[]},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.voucher_no;this.loadVoucherList(e),this.loadVoucherItemsList(e),this.loadVoucherExpList(e)}},{key:"render",value:function(){var e=this.state.arrVoucherItems.map(function(e,t){return r.a.createElement(Sn,{arrVoucher:e})}),t=this.state.arrVoucherExps.map(function(e,t){return r.a.createElement(Tn,{arrVoucherExp:e})}),a=(this.state.arrVoucherTotals.map(function(e,t){return r.a.createElement(jn,{arrVoucher:e})}),this.state.arrVoucherItems.reduce(function(e,t){return+e+ +t.total},0)),n=this.state.arrVoucherExps.reduce(function(e,t){return+e+ +t.amount},0),c=a+n,l=c+this.state.op;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Purchase Voucher"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Voucher No :"),r.a.createElement("label",null,this.state.voucher_no))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Date :"),r.a.createElement("label",null,this.state.date)))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Party : "),r.a.createElement("label",null,this.state.ledger)))),r.a.createElement("div",{class:"row"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"No"),r.a.createElement("th",{style:{width:"20%"}},"Item"),r.a.createElement("th",{style:{width:"25%"}},"Kg"),r.a.createElement("th",{style:{width:"25%"}},"Price"),r.a.createElement("th",{style:{width:"25%"}},"Total"))),r.a.createElement("tbody",null,e),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"65%"}},"Expense"),r.a.createElement("th",{style:{width:"35%"}},"Amount"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},n)))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Total "),r.a.createElement("td",{style:{fontWeight:"bold"}},a)),r.a.createElement("tr",null,r.a.createElement("td",null,"Expense "),r.a.createElement("td",{style:{fontWeight:"bold"}},n)),r.a.createElement("tr",null,r.a.createElement("td",null,"Net "),r.a.createElement("td",{style:{fontWeight:"bold"}},c)),r.a.createElement("tr",null,r.a.createElement("td",null,"OB"),r.a.createElement("td",{style:{fontWeight:"bold"}},this.state.op)),r.a.createElement("tr",null,r.a.createElement("td",{style:{fontWeight:"bold"}},"Total"),r.a.createElement("td",{style:{fontWeight:"bold"}},l))))))))))))}}]),a}(n.Component),Sn=function(e){Object(g.a)(a,e);var t=Dn(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).delRow=function(){e.props.delRow(e.props.rowIndex)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.unit_price),r.a.createElement("td",null,e.total))}}]),a}(r.a.Component),Tn=function(e){Object(g.a)(a,e);var t=Dn(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrVoucherExp;return r.a.createElement("tr",null,r.a.createElement("td",null,e.expense),r.a.createElement("td",null,e.amount))}}]),a}(r.a.Component),jn=function(e){Object(g.a)(a,e);var t=Dn(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.arrVoucherItems.reduce(function(e,t){return+e+ +t.total},0),t=this.state.arrVoucherExps.reduce(function(e,t){return+e+ +t.amount},0);return r.a.createElement("tr",null,r.a.createElement("td",null,"Total  :",e),r.a.createElement("td",null,"Expense :",t),r.a.createElement("td",null))}}]),a}(r.a.Component),On=kn;function Rn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var In=function(e){Object(g.a)(a,e);var t=Rn(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadVoucherList=function(e,t){fetch(_e+"/'".concat(e,"'")+"/'".concat(t,"'")).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({arrVouchers:e})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.onDateFromChange=function(e){n.setState({dateFrom:e})},n.onDateToChange=function(e){n.setState({dateTo:e})},n.state={data:null,dateFrom:new Date,dateTo:new Date,arrVouchers:[]},n.onDateFromChange=n.onDateFromChange.bind(Object(p.a)(n)),n.onDateToChange=n.onDateToChange.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.formatDate(this.state.dateFrom),t=this.formatDate(this.state.dateTo);this.loadVoucherList(e,t)}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return r.a.createElement(Pn,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.amount},0),n=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.quantity},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Purchase Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-3"},r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadVoucherList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo))}},"Search"))),r.a.createElement("div",{class:"col-sm-4"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"V. No"),r.a.createElement("th",{style:{width:"20%"}},"Date"),r.a.createElement("th",{style:{width:"40%"}},"Party"),r.a.createElement("th",{style:{width:"20%"}},"Kg"),r.a.createElement("th",{style:{width:"20%"}},"Amount"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},n),r.a.createElement("th",{align:"right"},a),r.a.createElement("th",null)))))))))))}}]),a}(n.Component),Pn=function(e){Object(g.a)(a,e);var t=Rn(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.voucher_no),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"purchaseVoucher/"+t.voucher_no,render:function(t){return r.a.createElement(On,Object.assign({},t,{voucher_no:e.props.match.params.voucher_no}))}},r.a.createElement("i",{class:"fas fa-edit"})))))}}]),a}(r.a.Component),Vn=In;function An(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Ln=function(e){Object(g.a)(a,e);var t=An(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadVoucherList=function(e,t,a,r){fetch(we+"/'".concat(e,"'")+"/'".concat(t,"'")+"/".concat(a)+"/".concat(r)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({arrVouchers:e})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.onDateFromChange=function(e){n.setState({dateFrom:e})},n.onDateToChange=function(e){n.setState({dateTo:e})},n.state={data:null,dateFrom:new Date,dateTo:new Date,id_product:0,id_ledger:0,arrVouchers:[],arrSuppliers:[],arrProducts:[]},n.onDateFromChange=n.onDateFromChange.bind(Object(p.a)(n)),n.onDateToChange=n.onDateToChange.bind(Object(p.a)(n)),n.onProductChange=n.onProductChange.bind(Object(p.a)(n)),n.onLedgerChange=n.onLedgerChange.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.loadSupplierList(),this.loadProductList()}},{key:"loadSupplierList",value:function(){var e=this;fetch(Ce).then(function(e){return e.json()}).then(function(t){e.setState({arrSuppliers:t})})}},{key:"loadProductList",value:function(){var e=this;fetch(ye).then(function(e){return e.json()}).then(function(t){e.setState({arrProducts:t})})}},{key:"onLedgerChange",value:function(e){this.setState({id_ledger:e.target.value})}},{key:"onProductChange",value:function(e){this.setState({id_product:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return r.a.createElement(Nn,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.total},0),n=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.quantity},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Sales Report Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"}))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})))))),r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Ledger"),r.a.createElement("select",{class:"form-control",onChange:this.onLedgerChange,value:this.state.id_ledger},r.a.createElement("option",{value:"0"},"--Select--"),this.state.arrSuppliers.map(function(e){return r.a.createElement("option",{value:e.id_account_head},e.name)})))),r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Product"),r.a.createElement("select",{class:"form-control",onChange:this.onProductChange,value:this.state.id_product},r.a.createElement("option",{value:"0"},"--Select--"),this.state.arrProducts.map(function(e){return r.a.createElement("option",{value:e.id_product},e.name)})))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadVoucherList(e.formatDate(e.state.dateFrom),e.formatDate(e.state.dateTo),e.state.id_ledger,e.state.id_product)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"V. No"),r.a.createElement("th",{style:{width:"20%"}},"Date"),r.a.createElement("th",{style:{width:"40%"}},"Supplier"),r.a.createElement("th",{style:{width:"20%"}},"Quantity"),r.a.createElement("th",{style:{width:"20%"}},"Price"),r.a.createElement("th",{style:{width:"20%"}},"Total"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},n),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a)))))))))))}}]),a}(n.Component),Nn=function(e){Object(g.a)(a,e);var t=An(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,t.voucher_no),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,t.unit_price),r.a.createElement("td",null,t.total),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"purchaseVoucher/"+t.voucher_no,render:function(t){return r.a.createElement(On,Object.assign({},t,{voucher_no:e.props.match.params.voucher_no}))}},r.a.createElement("i",{class:"fas fa-edit"})))))}}]),a}(r.a.Component),Fn=Ln,Mn=(a(76),function(e){return e.arrVouchers.map(function(e,t){return r.a.createElement(zn,e)})}),Bn=function(e){return r.a.createElement(Et.Document,null,r.a.createElement(Et.Page,{size:"A4",style:Hn.page},r.a.createElement(Et.View,{style:Hn.top}),r.a.createElement(Et.View,{style:Hn.container1},r.a.createElement(Et.View,{style:Hn.section},r.a.createElement(Et.Text,null,"AQUASIGN EXPORTS"),r.a.createElement(Et.Text,{style:Hn.address},"5-27, M-1. Maria Street, Kanyakumari Dist",e.invoice_no)),r.a.createElement(Et.View,{style:Hn.sectionTopRight},r.a.createElement(Et.View,{style:Hn.box},r.a.createElement(Et.Text,{style:Hn.left},"STOCK REPORT")))),r.a.createElement(Et.View,{style:Hn.tableHeader},r.a.createElement(Et.Text,{style:Hn.col1},"PRODUCT"),r.a.createElement(Et.Text,{style:Hn.col2},"STOCK"),r.a.createElement(Et.Text,{style:Hn.col3},"RATE"),r.a.createElement(Et.Text,{style:Hn.col4},"AMOUNT")),r.a.createElement(Et.View,null,r.a.createElement(Mn,e)),r.a.createElement(Et.View,{style:Hn.tableData},r.a.createElement(Et.Text,{style:Hn.col1}),r.a.createElement(Et.Text,{style:[Hn.col2,{fontFamily:"Roboto"}]},Math.round(e.arrVouchers.reduce(function(e,t){return+e+ +t.stock},0))),r.a.createElement(Et.Text,{style:[Hn.col3,{fontFamily:"Roboto"}]}),r.a.createElement(Et.Text,{style:[Hn.col4,{fontFamily:"Roboto"}]},Math.round(function(e){return e.reduce(function(e,t){return+e+ +t.rate*t.stock},0)}(e.arrVouchers)))),r.a.createElement(Et.View,{style:Hn.top})))},zn=function(e){return r.a.createElement(Et.View,{style:Hn.tableData},r.a.createElement(Et.Text,{style:Hn.col1},e.product),r.a.createElement(Et.Text,{style:Hn.col2},e.stock," ",e.unit),r.a.createElement(Et.Text,{style:Hn.col3},e.rate),r.a.createElement(Et.Text,{style:Hn.col4},e.rate*e.stock))};Et.Font.register({family:"Roboto",src:a(41)}),Et.Font.register({family:"Roboto-Italic",src:a(63)});var Hn=Et.StyleSheet.create({page:{backgroundColor:"#fbfbfc",padding:20,flexDirection:"column"},top:{backgroundColor:"#fa6a44",padding:10},container1:{backgroundColor:"#eaeaea",flexDirection:"row",justifyContent:"space-between"},container2:{flexDirection:"row",justifyContent:"space-between"},container3:{flexDirection:"row",justifyContent:"space-between"},section:{margin:10,padding:10,paddingHorizontal:10,width:"50%"},section3rd:{margin:10,padding:10,paddingHorizontal:10,width:"30%"},sectionRow:{flexDirection:"column",margin:10,padding:10},addressTitle:{color:"#034a7e",borderBottomWidth:1,borderColor:"#ccc",fontSize:10,fontFamily:"Roboto"},dataTitle:{fontSize:10,fontFamily:"Roboto"},address:{paddingVertical:4,fontSize:10,lineHeight:2},tableHeader:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc",backgroundColor:"#fa6a44",fontFamily:"Roboto"},tableData:{flexDirection:"row",borderBottomWidth:1,borderColor:"#ccc"},col1:{width:"50%",paddingHorizontal:5,paddingVertical:5,fontSize:10},col2:{width:"15%",paddingHorizontal:5,paddingVertical:5,fontSize:10,textAlign:"right"},col3:{width:"15%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},col4:{width:"20%",textAlign:"right",paddingHorizontal:5,paddingVertical:5,fontSize:10},colFull:{paddingHorizontal:5,paddingVertical:5,fontSize:10,fontFamily:"Roboto-Italic"},sectionBottomRight:{marginTop:15,flex:1,justifyContent:"center"},sectionTopRight:{paddingVertical:5,flex:1,flexDirection:"column",justifyContent:"center"},box:{flexDirection:"row",justifyContent:"space-between",padding:2},left:{fontSize:10,textAlign:"right",fontFamily:"Roboto",padding:5},leftBalance:{flex:.6,fontSize:13,textAlign:"right",fontFamily:"Roboto"},right:{fontSize:10,textAlign:"left"},rightBottom:{flex:.4,fontSize:10,textAlign:"right",paddingHorizontal:10,fontFamily:"Roboto"},rightBalance:{flex:.4,paddingHorizontal:10,fontSize:13,textAlign:"right",fontFamily:"Roboto"}});function Gn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Un=function(e){Object(g.a)(a,e);var t=Gn(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadStockList=function(e){fetch(xe+"/'".concat(e,"'")).then(function(e){return e.json()}).then(function(e){n.setState({arrVouchers:e})}),console.log(n.state.arrVouchers)},n.state={showPdf:!1,data:null,id_product:"",type:"",arrProducts:[],arrVouchers:[],arrType:[{type:"FISH"},{type:"PACKING MATERIAL"},{type:"OTHER"}]},n.onProductChange=n.onProductChange.bind(Object(p.a)(n)),n.onTypeChange=n.onTypeChange.bind(Object(p.a)(n)),n.validator=new tt.a,n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.arrType[0].type;this.loadProduct(),this.loadStockList(e)}},{key:"loadProduct",value:function(){var e=this;fetch(ye).then(function(e){return e.json()}).then(function(t){e.setState({arrProducts:t})})}},{key:"onProductChange",value:function(e){this.setState({id_product:e.target.value},function(){})}},{key:"onTypeChange",value:function(e){var t=this;this.setState({type:e.target.value},function(){var e=t.state.type;t.loadStockList(e)})}},{key:"render",value:function(){var e=this,t=this.state.arrVouchers.map(function(e,t){return r.a.createElement(Kn,{arrVoucher:e})}),a=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.rate*t.stock},0),n=this.state.arrVouchers.reduce(function(e,t){return+e+ +t.stock},0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Stock Report"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:6},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Type"),r.a.createElement("select",{class:"form-control",onChange:this.onTypeChange,value:this.state.type},this.state.arrType.map(function(e){return r.a.createElement("option",{value:e.type},e.type)})))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadStockList(e.state.type)}},"Search")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Product"),r.a.createElement("th",{style:{width:"25%"}},"Stock"),r.a.createElement("th",{style:{width:"25%"}},"Rate"),r.a.createElement("th",{style:{width:"25%"}},"Amount"))),r.a.createElement("tbody",null,t),r.a.createElement("tfoot",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{align:"right"},n),r.a.createElement("th",null),r.a.createElement("th",{align:"right"},a)))),r.a.createElement("div",{class:"card-footer"},r.a.createElement("button",{onClick:function(){return e.setState({showPdf:!0})},type:"submit",class:"btn btn-primary float-right"},"Print"))))),this.state.showPdf&&r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"Pdf Viewer"),r.a.createElement("div",{class:"card-tools"},r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showPdf:!1})},class:"btn btn-tool","data-card-widget":"remove"},r.a.createElement("i",{class:"fas fa-times"})))),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement(Et.PDFViewer,{style:{width:"100%",height:500}},r.a.createElement(Bn,{arrVouchers:this.state.arrVouchers})))))))))))}}]),a}(n.Component),Kn=function(e){Object(g.a)(a,e);var t=Gn(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.product),r.a.createElement("td",null,e.stock," ",e.unit),r.a.createElement("td",null,e.rate),r.a.createElement("td",null,e.rate*e.stock))}}]),a}(r.a.Component),Wn=Un;function Yn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var qn=function(e){Object(g.a)(a,e);var t=Yn(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).delNotification=function(e){fetch(Oe+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({invItems:e})}),n.loadNotification()},n.state={title:"Table",data:null,date:new Date,invItems:[]},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.loadNotification()}},{key:"loadNotification",value:function(){var e=this;fetch(Te).then(function(e){return e.json()}).then(function(t){return e.setState({invItems:t})})}},{key:"render",value:function(){var e=this,t=this.state.invItems.map(function(t,a){return r.a.createElement(Jn,{invItem:t,rowIndex:a,delNotification:e.delNotification})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("h1",null,"Notification"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Notification"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(u.b,{to:"./notificationCreate"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"35%"}},"Date"),r.a.createElement("th",{style:{width:"50%"}},"Desciption"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))))))))))}}]),a}(n.Component),Jn=function(e){Object(g.a)(a,e);var t=Yn(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.invItem;t.isread;return 0==t.isread?"Read":"Unread",r.a.createElement("tr",null,r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.description),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-outline-danger",onClick:function(){return e.props.delNotification(t.id_notification)}},r.a.createElement("i",{class:"fas fa-trash"})))))}}]),a}(r.a.Component),Qn=qn;function Xn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Zn=function(e){Object(g.a)(a,e);var t=Xn(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).saveLedger=function(){if(n.validator.allValid()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:n.state.description})};fetch(je,e).then(function(e){e.json(),n.setState({redirect:!0})})}else n.validator.showMessages(),n.forceUpdate()},n.delRow=function(e){var t=n.state.arrVouchers;t.splice(e,1),n.setState({arrVouchers:t})},n.state={description:"",redirect:!1},n.onDescriptionChange=n.onDescriptionChange.bind(Object(p.a)(n)),n.validator=new tt.a,n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"render",value:function(){return this.state.redirect?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/notification"})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Notification Create"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{multiline:!0,type:"text",value:this.state.description,onChange:this.onDescriptionChange,class:"form-control"}))),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveLedger},"Save"))))))))))))))}}]),a}(n.Component);function $n(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var er=function(e){Object(g.a)(a,e);var t=$n(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).login=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password})};fetch(D,e).then(function(e){return e.json()}).then(function(e){e.length>0?(n.setState({error:!1}),localStorage.setItem("ShadeUser",e[0].id_user),localStorage.setItem("ShadeYear",n.state.year),window.location.reload()):n.setState({error:!0})})},n.state={username:"",password:"",error:!1,year:"2021"},n.handleChangeUsername=n.handleChangeUsername.bind(Object(p.a)(n)),n.handleChangePassword=n.handleChangePassword.bind(Object(p.a)(n)),n.onYearChange=n.onYearChange.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onYearChange",value:function(e){this.setState({year:e.target.value})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"hold-transition login-page"},r.a.createElement("div",{class:"login-box"},r.a.createElement("div",{class:"login-logo"},r.a.createElement("a",{href:"#"},r.a.createElement("b",null,"Aqua"),"sign")),r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body login-card-body"},r.a.createElement("p",{class:"login-box-msg"},"Sign in"),r.a.createElement("form",{action:"../../index3.html",method:"post"},r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("input",{type:"text",class:"form-control",placeholder:"User ID",value:this.state.username,onChange:this.handleChangeUsername}),r.a.createElement("div",{class:"input-group-append"},r.a.createElement("div",{class:"input-group-text"},r.a.createElement("span",{class:"fas fa-envelope"})))),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("input",{type:"password",class:"form-control",placeholder:"Password",value:this.state.password,onChange:this.handleChangePassword}),r.a.createElement("div",{class:"input-group-append"},r.a.createElement("div",{class:"input-group-text"},r.a.createElement("span",{class:"fas fa-lock"})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("select",{class:"form-control",onChange:this.onYearChange,value:this.state.year},r.a.createElement("option",{value:"2020"},"2020"),r.a.createElement("option",{value:"2021"},"2021"))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-8"},r.a.createElement("div",{class:"icheck-primary"},this.state.error&&r.a.createElement("label",{for:"remember",style:{color:"red"}},"Invalid Login!"))),r.a.createElement("div",{class:"col-4"},r.a.createElement("button",{type:"button",onClick:function(){return e.login()},class:"btn btn-primary btn-block"},"Sign In"))))))))}}]),a}(n.Component);function tr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var ar=function(e){Object(g.a)(a,e);var t=tr(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadUserDt=function(e){fetch(T+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({username:e[0].username,password:e[0].password,confirm:e[0].password,access:e[0].access}),e[0].access.split(",").forEach(function(e){console.log(e),n.setState(function(t){return{checkedItems:t.checkedItems.set(e,!0)}})})})},n.saveUser=function(){if(n.validator.allValid())if(n.state.password==n.state.confirm){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.state.username,password:n.state.password,confirm:n.state.confirm,access:n.state.checkedList,id_user:n.state.id_user})};fetch(k,e).then(function(e){e.json(),n.setState({redirect:!0})})}else n.setState({hidediv:!0});else n.validator.showMessages(),n.forceUpdate()},n.state=Object(d.a)({data:null,id_user:0,username:"",password:"",access:[],items:[],accessList:[],checkedList:"",checkedItems:new Map,hidediv:!1,redirectToUsers:!1},"redirectToUsers",!1),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleChangeUsername=n.handleChangeUsername.bind(Object(p.a)(n)),n.handleChangePassword=n.handleChangePassword.bind(Object(p.a)(n)),n.handleChangeConfirm=n.handleChangeConfirm.bind(Object(p.a)(n)),n.validator=new tt.a,n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id_user;0!=e&&(this.loadUserDt(e),this.setState({id_user:e}))}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.checked;this.setState(function(e){return{checkedItems:e.checkedItems.set(t,a)}});var n=this.state.checkedItems,r=Array.from(n).filter(function(e){return!0===e[1]}),c=Array.from(r,function(e){return e[0]});this.setState({checkedList:c.join()})}},{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value.toUpperCase()})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeConfirm",value:function(e){this.setState({confirm:e.target.value})}},{key:"render",value:function(){var e=this,t=function(e){var t=e.type,a=void 0===t?"checkbox":t,n=e.name,c=e.checked,l=void 0!==c&&c,o=e.onChange;return r.a.createElement("input",{name:n,type:a,checked:l,onChange:o})},a=this.state,n=a.redirect,c=a.redirectToUsers;return n?(this.setState({redirect:!1}),r.a.createElement(o.a,{to:"/users"})):c?(this.setState({redirectToUsers:!1}),r.a.createElement(o.a,{to:"/users/0/".concat(this.props.match.params.id_user)})):r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"User Creation"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"card-title"},"User")),r.a.createElement("div",{class:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",value:this.state.username,onChange:this.handleChangeUsername,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handleChangePassword,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",value:this.state.confirm,onChange:this.handleChangeConfirm,class:"form-control"})))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"text-danger mr-1",id:"results",hidden:!this.state.hidediv},"Confirm password didn't match."))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Access"),r.a.createElement(r.a.Fragment,null,[{key:"1",label:"Voucher ",name:"Voucher"},{key:"2",label:"Ledger Report",name:"Ledger Report"},{key:"3",label:"Cash Book ",name:"Cash Book"},{key:"4",label:"Sundry Creditor ",name:"Sundry Creditor"},{key:"5",label:"Sundry Debtor ",name:"Sundry Debtor"},{key:"5",label:"Stock Report ",name:"Stock Report"},{key:"5",label:"Notification ",name:"Notification"}].map(function(a){return r.a.createElement("div",null,r.a.createElement("label",{key:a.key},r.a.createElement(t,{name:a.name,checked:e.state.checkedItems.get(a.name),onChange:e.handleChange}),"\xa0\xa0",a.name))}))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-sm-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:this.saveUser},"Save")))))))))))))}}]),a}(n.Component);function nr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var rr=function(e){Object(g.a)(a,e);var t=nr(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).delUser=function(e){fetch(S+"/".concat(e)).then(function(e){return e.json()}).then(function(e){e.length>0&&n.setState({items:e})}),n.loadInvoiceList()},n.state={title:"Table",data:null,date:new Date,items:[]},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.loadInvoiceList()}},{key:"loadInvoiceList",value:function(){var e=this;fetch(j).then(function(e){return e.json()}).then(function(t){return e.setState({items:t})})}},{key:"render",value:function(){var e=this,t=this.state.items.map(function(t,a){return r.a.createElement(cr,{delUser:e.delUser,item:t,rowIndex:a})});return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Users"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-12"},r.a.createElement("div",{class:"card card-default"},r.a.createElement("div",{class:"card-header border-0"},r.a.createElement("h3",{class:"card-title"},"Users"),r.a.createElement("div",{class:"card-tools"},r.a.createElement(u.b,{to:"./userCreate/0"},r.a.createElement("button",{type:"submit",class:"btn btn-block btn-success btn-flat"},"Create")))),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Access"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))))))))))}}]),a}(n.Component),cr=function(e){Object(g.a)(a,e);var t=nr(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props.item;return r.a.createElement("tr",null,r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.access),r.a.createElement("td",null,r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"./userCreate/"+t.id_user,render:function(t){return r.a.createElement(ar,Object.assign({},t,{id_user:e.props.match.params.id_user}))}},r.a.createElement("i",{class:"fas fa-edit"})," "))),r.a.createElement("td",null,r.a.createElement("button",{type:"button",class:"btn btn-outline-danger",onClick:function(){return e.props.delUser(t.id_user)}},r.a.createElement("i",{class:"fas fa-trash"}))))}}]),a}(r.a.Component),lr=rr,or=a(52);function ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var sr=function(e){Object(g.a)(a,e);var t=ir(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onDateFromChange=function(e){n.setState({fromDate:n.formatDate(e),dateFrom:e})},n.onDateToChange=function(e){n.setState({toDate:n.formatDate(e),dateTo:e})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.state={fromDate:n.formatDate(new Date),toDate:n.formatDate(new Date),purchase_total:"",sales_total:"",income:[],expense:[],payroll:"",inv_packing_exp:"",inv_freight_exp:0,inv_other_exp:"",dateFrom:new Date,dateTo:new Date},n.onDateFromChange=n.onDateFromChange.bind(Object(p.a)(n)),n.onDateToChange=n.onDateToChange.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"loadReport",value:function(){this.loadSalesTotal(),this.loadIncome(),this.loadPurchaseTotal(),this.loadExp(),this.loadPayroll(),this.loadInvPackingExp(),this.loadInvOtherExp()}},{key:"handleChangePurchase",value:function(e){this.setState({purchase:e.target.value})}},{key:"loadPurchaseTotal",value:function(){var e=this;fetch(Re+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({purchase_total:t[0].totalPurchase})})}},{key:"loadSalesTotal",value:function(){var e=this;fetch(Ie+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({sales_total:t[0].totalSales})})}},{key:"loadExp",value:function(){var e=this;fetch(Pe+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({expense:t})})}},{key:"loadIncome",value:function(){var e=this;fetch(Ve+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({income:t})})}},{key:"loadPayroll",value:function(){var e=this;fetch(Ae+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({payroll:t[0].amount})})}},{key:"loadInvPackingExp",value:function(){var e=this;fetch(Le+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({inv_packing_exp:t[0].amount})})}},{key:"loadInvFreightExp",value:function(){var e=this;fetch(Ne+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({inv_freight_exp:t[0].amount})})}},{key:"loadInvOtherExp",value:function(){var e=this;fetch(Fe+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({inv_other_exp:t[0].amount})})}},{key:"exportCSV",value:function(e){var t=e.filename,a=e.fields,n=e.url,r=Object(or.useJsonToCsv)().saveAsCsv;alert(n+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")),fetch(n+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(e){return e&&r({data:e,fields:a,filename:t})})}},{key:"render",value:function(){var e=this,t=this.state.sales_total+this.state.income.reduce(function(e,t){return+e+ +t.amount},0),a=this.state.purchase_total+this.state.expense.reduce(function(e,t){return+e+ +t.amount},0)+this.state.payroll+this.state.inv_packing_exp+this.state.inv_freight_exp+this.state.inv_other_exp;return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Profit & Loss"))))),r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"card card-info",style:{width:"100%"}},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"From"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateFromChange,value:this.state.dateFrom,format:"dd/MM/yyyy"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"To"),r.a.createElement(w.a,{className:"form-control",onChange:this.onDateToChange,value:this.state.dateTo,format:"dd/MM/yyyy"})),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("label",null,"\xa0"),r.a.createElement("button",{type:"button",class:"btn btn-block btn-success btn-flat",onClick:function(){return e.loadReport()}},"Search")))))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-6"},r.a.createElement("p",{class:"lead"},"Income"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Sales Total:"),r.a.createElement("td",{align:"right"},Math.round(this.state.sales_total),r.a.createElement("a",{style:{padding:5},href:"javascript:void(0);",onClick:function(){return e.exportCSV({filename:"Sales Detail",fields:{date:"Date",sales:"Sales"},url:Be})}},r.a.createElement("i",{class:"fas fa-edit"})," "))),this.state.income.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("th",null,e.name," :"),r.a.createElement("td",{align:"right"},Math.round(e.amount)))}),r.a.createElement("tr",null,r.a.createElement("th",null,"Total :"),r.a.createElement("td",{align:"right"},Math.round(t))))))),r.a.createElement("div",{class:"col-6"},r.a.createElement("p",{class:"lead"},"Expenses"),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Purchase:"),r.a.createElement("td",{align:"right"},Math.round(this.state.purchase_total),r.a.createElement("a",{style:{padding:5},href:"javascript:void(0);",onClick:function(){return e.exportCSV({filename:"Purchase Detail",fields:{date:"Date",purchase:"Purchase"},url:Me})}},r.a.createElement("i",{class:"fas fa-edit"})," "))),this.state.expense.map(function(t,a){return r.a.createElement("tr",null,r.a.createElement("th",null,t.name," :"),r.a.createElement("td",{align:"right"},Math.round(t.amount),0==a&&r.a.createElement("a",{style:{padding:5},href:"javascript:void(0);",onClick:function(){return e.exportCSV({filename:"Expenses",fields:{date:"Date",name:"Group",amount:"Total"},url:ze})}},r.a.createElement("i",{class:"fas fa-edit"})," ")))}),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Payroll:"),r.a.createElement("td",{align:"right"},Math.round(this.state.payroll),r.a.createElement("a",{style:{padding:5},href:"javascript:void(0);",onClick:function(){return e.exportCSV({filename:"Payroll Details",fields:{date:"Date",amount:"Total"},url:He})}},r.a.createElement("i",{class:"fas fa-edit"})," "))),r.a.createElement("tr",null,r.a.createElement("th",null,"Invoice Packing Expenses"),r.a.createElement("td",{align:"right"},Math.round(this.state.inv_packing_exp),r.a.createElement("a",{style:{padding:5},href:"javascript:void(0);",onClick:function(){return e.exportCSV({filename:"Invoice Packing Details",fields:{invoice_no:"Invoice",amount:"Total"},url:Ge})}},r.a.createElement("i",{class:"fas fa-edit"})," "))),"   ",r.a.createElement("tr",null,r.a.createElement("th",null,"Invoice Other Expenses"),r.a.createElement("td",{align:"right"},Math.round(this.state.inv_other_exp),r.a.createElement("a",{style:{padding:5},href:"javascript:void(0);",onClick:function(){return e.exportCSV({filename:"Invoice Other Details",fields:{invoice_no:"Invoice",amount:"Total"},url:Ue})}},r.a.createElement("i",{class:"fas fa-edit"})," "))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("td",{align:"right"},Math.round(100*a)/100)))))),r.a.createElement("div",{class:"row",style:{fontWeight:"bold",alignItems:"center",textAlign:"center",borderWidth:1,margin:"auto",textDecorationLine:"underline"}},"Net Profit/Loss: ",Math.round(t-a)))))))}}]),a}(n.Component);function ur(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var dr=function(e){Object(g.a)(a,e);var t=ur(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onDateFromChange=function(e){n.setState({fromDate:n.formatDate(e),dateFrom:e})},n.onDateToChange=function(e){n.setState({toDate:n.formatDate(e),dateTo:e})},n.loadSundryDebtors=function(){var e=n.state.toDate;fetch(Ke+"/".concat(0,"/'",e,"'")).then(function(e){return e.json()}).then(function(e){n.setState({debtors:e})})},n.loadSundryCreditors=function(){var e=n.state.toDate;fetch(We+"/".concat(0,"/'",e,"'")).then(function(e){return e.json()}).then(function(e){n.setState({creditors:e})})},n.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},n.state={fromDate:"2020-01-01",toDate:n.formatDate(new Date),purchase_total:"",sales_total:"",income:[],expense:[],payroll:"",inv_packing_exp:"",inv_freight_exp:0,inv_other_exp:"",dateFrom:new Date,dateTo:new Date,debtors:[],rates:[],creditors:[],cash_acc:0,icici_acc:0,fish_stock:0,pack_stock:0},n.onDateFromChange=n.onDateFromChange.bind(Object(p.a)(n)),n.onDateToChange=n.onDateToChange.bind(Object(p.a)(n)),n.changeRate=n.changeRate.bind(Object(p.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.loadReport()}},{key:"loadReport",value:function(){this.loadSalesTotal(),this.loadIncome(),this.loadPurchaseTotal(),this.loadExp(),this.loadPayroll(),this.loadInvPackingExp(),this.loadInvOtherExp(),this.loadSundryDebtors(),this.loadSundryCreditors(),this.loadCashAccBal(),this.loadICICIAccBal(),this.loadFishStock(),this.loadPackStock()}},{key:"handleChangePurchase",value:function(e){this.setState({purchase:e.target.value})}},{key:"loadPurchaseTotal",value:function(){var e=this;fetch(Re+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({purchase_total:t[0].totalPurchase})})}},{key:"loadSalesTotal",value:function(){var e=this;fetch(Ie+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({sales_total:t[0].totalSales})})}},{key:"loadExp",value:function(){var e=this;fetch(Pe+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({expense:t})})}},{key:"loadIncome",value:function(){var e=this;fetch(Ve+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({income:t})})}},{key:"loadPayroll",value:function(){var e=this;fetch(Ae+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({payroll:t[0].amount})})}},{key:"loadInvPackingExp",value:function(){var e=this;fetch(Le+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({inv_packing_exp:t[0].amount})})}},{key:"loadInvFreightExp",value:function(){var e=this;fetch(Ne+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({inv_freight_exp:t[0].amount})})}},{key:"loadInvOtherExp",value:function(){var e=this;fetch(Fe+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({inv_other_exp:t[0].amount})})}},{key:"changeRate",value:function(e,t){var a=this.state.rates,n=this.state.debtors.filter(function(t){return t.account_head==e});a[this.state.debtors.indexOf(n[0])]=t,this.setState({rates:a})}},{key:"loadCashAccBal",value:function(){var e=this;fetch(Ye+"/'".concat(this.state.fromDate,"'/'",10004,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({cash_acc:t[0].balance})})}},{key:"loadICICIAccBal",value:function(){var e=this;fetch(Ye+"/'".concat(this.state.fromDate,"'/'",10003,"'")).then(function(e){return e.json()}).then(function(t){return e.setState({icici_acc:t[0].balance})})}},{key:"loadFishStock",value:function(){var e=this;fetch(qe+"/'FISH'").then(function(e){return e.json()}).then(function(t){return e.setState({fish_stock:t[0].stock})})}},{key:"loadPackStock",value:function(){var e=this;fetch(qe+"/'PACKING MATERIAL'").then(function(e){return e.json()}).then(function(t){return e.setState({pack_stock:t[0].stock})})}},{key:"exportCSV",value:function(e){var t=e.filename,a=e.fields,n=e.url,r=Object(or.useJsonToCsv)().saveAsCsv;fetch(n+"/'".concat(this.state.fromDate,"'/'").concat(this.state.toDate,"'")).then(function(e){return e.json()}).then(function(e){return e&&r({data:e,fields:a,filename:t})})}},{key:"render",value:function(){var e=this,t=this.state.sales_total+this.state.income.reduce(function(e,t){return+e+ +t.amount},0),a=this.state.purchase_total+this.state.expense.reduce(function(e,t){return+e+ +t.amount},0)+this.state.payroll+this.state.inv_packing_exp+this.state.inv_freight_exp+this.state.inv_other_exp,n=this.state.debtors.map(function(t,a){return r.a.createElement(mr,{arrVoucher:t,rate:e.state.rates[a],changeRate:e.changeRate})}),c=this.state.rates,l=this.state.debtors.reduce(function(e,t,a){var n=c[a]||1;return+e+ +t.closing_balance*n},0)+(t<a?t-a:0),o=this.state.creditors.map(function(t,a){return r.a.createElement(hr,{arrVoucher:t,changeRate:e.changeRate})}),i=this.state.creditors.reduce(function(e,t,a){return+e+1*t.closing_balance},0)+this.state.cash_acc+this.state.icici_acc+this.state.fish_stock+this.state.pack_stock+(t>a?t-a:0);return r.a.createElement("div",{class:"wrapper"},r.a.createElement(y,null),r.a.createElement("div",{class:"content-wrapper"},r.a.createElement("section",{class:"content-header"},r.a.createElement("div",{class:"container-fluid"},r.a.createElement("div",{class:"row mb-2"},r.a.createElement("div",{class:"col-sm-6"},r.a.createElement("h1",null,"Balance Sheet"))))),r.a.createElement("div",{class:"content"}),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"50%"}},"Liabilities"),r.a.createElement("th",{style:{width:"20%"}}),r.a.createElement("th",{style:{width:"30%"}},"Amount"))),r.a.createElement("tbody",null,n,Math.round(t-a)<0&&r.a.createElement("tr",null,r.a.createElement("td",null,"Loss"),r.a.createElement("td",null),r.a.createElement("td",{align:"right"},-1*Math.round(t-a)))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null),r.a.createElement("th",{style:{textAlign:"right"}},-1*Math.round(l)))))))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"card card-info"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"60%"}},"Asset"),r.a.createElement("th",{style:{width:"40%"}},"Amount"))),r.a.createElement("tbody",null,o,r.a.createElement("tr",null,r.a.createElement("td",null,"CASH ACCOUNT"),r.a.createElement("td",{align:"right"},Math.round(this.state.cash_acc))),r.a.createElement("tr",null,r.a.createElement("td",null,"ICICI BANK"),r.a.createElement("td",{align:"right"},Math.round(this.state.icici_acc))),r.a.createElement("tr",null,r.a.createElement("td",null,"STOCK (FISH)"),r.a.createElement("td",{align:"right"},Math.round(this.state.fish_stock))),r.a.createElement("tr",null,r.a.createElement("td",null,"STOCK (PACKING MATERIAL)"),r.a.createElement("td",{align:"right"},Math.round(this.state.pack_stock))),Math.round(t-a)>0&&r.a.createElement("tr",null,r.a.createElement("td",null,"Profit"),r.a.createElement("td",{align:"right"},Math.round(t-a)))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",{style:{textAlign:"right"}},Math.round(i)))))))))))}}]),a}(n.Component),mr=function(e){Object(g.a)(a,e);var t=ur(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"handleChangeRate",value:function(e,t){this.props.changeRate(e,t.target.value)}},{key:"render",value:function(){var e=this,t=this.props.arrVoucher,a=this.props.rate||1;return r.a.createElement("tr",null,r.a.createElement("td",null,t.account_head),r.a.createElement("td",null,r.a.createElement("input",{type:"text",style:{textAlign:"right",width:100},onChange:function(a){return e.handleChangeRate(t.account_head,a)},value:this.props.rate})),r.a.createElement("td",{align:"right"},-1*Math.round(t.closing_balance*a)))}}]),a}(r.a.Component),hr=function(e){Object(g.a)(a,e);var t=ur(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.arrVoucher;return r.a.createElement("tr",null,r.a.createElement("td",null,e.account_head),r.a.createElement("td",{align:"right"},Math.round(1*e.closing_balance)))}}]),a}(r.a.Component),fr=dr;function pr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var gr=function(e){Object(g.a)(a,e);var t=pr(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=Object(or.useJsonToCsv)().saveAsCsv,t={index:"Index",guid:"GUID"},a=[{index:0,guid:"asdf231234"},{index:1,guid:"wetr2343af"}];return r.a.createElement("button",{onClick:function(){return e({data:a,fields:t,filename:"Csv-file"})}},"useJsonToCsv")}}]),a}(n.Component);function Er(){var e=localStorage.getItem("ShadeUser")||"",t=Object(i.a)();return""!=e?r.a.createElement(u.a,{history:t},r.a.createElement(o.b,{path:"/roughInvoiceCreate/:id_rough_invoice",component:sa}),r.a.createElement(o.b,{path:"/invoice/:id/:id_rough_invoice?",component:Yt}),r.a.createElement(o.b,{path:"/invoiceList",component:pa}),r.a.createElement(o.b,{path:"/roughInvoiceList",component:ba}),r.a.createElement(o.b,{path:"/",exact:!0,component:pa}),r.a.createElement(o.b,{path:"/voucher/:date?/:type?",exact:!0,component:Pa}),r.a.createElement(o.b,{path:"/payroll",exact:!0,component:xa}),r.a.createElement(o.b,{path:"/ledgerReport",exact:!0,component:Na}),r.a.createElement(o.b,{path:"/ledgerReportPdf/:id_account_head/:from_date/:to_date",exact:!0,component:za}),r.a.createElement(o.b,{path:"/ledger",exact:!0,component:ja}),r.a.createElement(o.b,{path:"/ledgerCreate/:id_ledger",exact:!0,component:Da}),r.a.createElement(o.b,{path:"/ledgerGroup",exact:!0,component:Wa}),r.a.createElement(o.b,{path:"/cashBook",exact:!0,component:Xa}),r.a.createElement(o.b,{path:"/cashBookPdf/:id_account_head/:from_date/:to_date",exact:!0,component:an}),r.a.createElement(o.b,{path:"/product",exact:!0,component:_n}),r.a.createElement(o.b,{path:"/purchaseVoucher/:voucher_no",exact:!0,component:On}),r.a.createElement(o.b,{path:"/purchaseReport",exact:!0,component:Vn}),r.a.createElement(o.b,{path:"/salesReport",exact:!0,component:Fn}),r.a.createElement(o.b,{path:"/stockReport",exact:!0,component:Wn}),r.a.createElement(o.b,{path:"/sundryCreditor",exact:!0,component:mn}),r.a.createElement(o.b,{path:"/sundryDebtor",exact:!0,component:yn}),r.a.createElement(o.b,{path:"/notification",exact:!0,component:Qn}),r.a.createElement(o.b,{path:"/notificationCreate",exact:!0,component:Zn}),r.a.createElement(o.b,{path:"/users",exact:!0,component:lr}),r.a.createElement(o.b,{path:"/userCreate/:id_user",exact:!0,component:ar}),r.a.createElement(o.b,{path:"/profit",exact:!0,component:sr}),r.a.createElement(o.b,{path:"/balanceSheet",exact:!0,component:fr}),r.a.createElement(o.b,{path:"/csv",exact:!0,component:gr})):r.a.createElement(u.a,null,r.a.createElement(o.b,{path:"/",render:function(e){return r.a.createElement(er,e)}}))}var vr=function(){return r.a.createElement(o.c,{history:s},r.a.createElement(Er,null))};l.a.render(r.a.createElement(vr,null),document.getElementById("root"))},63:function(e,t,a){e.exports=a.p+"static/media/Roboto-BoldItalic.5b44818d.ttf"}},[[203,1,2]]]);
//# sourceMappingURL=main.de2e52f2.chunk.js.map